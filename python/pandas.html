<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="keywords" content="Pandas"><meta property="og:url" content="https://blog.ran-ding.ga/python/pandas.html"><meta property="og:site_name" content="小丁的博客"><meta property="og:title" content="Pandas"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-06-21T01:38:37.000Z"><meta property="og:locale" content="zh-CN"><meta property="og:restrictions:age" content="[12]+"><meta name="twitter:creator" content="roiding1"><meta property="article:author" content="roiding"><meta property="article:modified_time" content="2022-06-21T01:38:37.000Z"><link rel="canonical" href="https://blog.ran-ding.ga/python/pandas.html"><link rel="icon" href="/favicons/favicon.png" type="image/png" sizes="16x16"><title>Pandas | 小丁的博客</title><meta name="description" content="一个专注于整理日常学习的新技术框架知识和使用过程中遇到的问题及解决方案的小站">
    <link rel="modulepreload" href="/assets/app.7c042103.js"><link rel="modulepreload" href="/assets/pandas.html.3d524761.js"><link rel="modulepreload" href="/assets/pandas.html.a7f82ef1.js"><link rel="prefetch" href="/assets/index.html.943e670d.js"><link rel="prefetch" href="/assets/attention.html.99588f68.js"><link rel="prefetch" href="/assets/resource.html.e74f9c21.js"><link rel="prefetch" href="/assets/design-mode.html.f860e7ee.js"><link rel="prefetch" href="/assets/ethernum.html.1b732c5c.js"><link rel="prefetch" href="/assets/dns.html.9a1081d9.js"><link rel="prefetch" href="/assets/mysql.html.9a9fb326.js"><link rel="prefetch" href="/assets/attention.html.0d81d566.js"><link rel="prefetch" href="/assets/docker-app.html.35b313bf.js"><link rel="prefetch" href="/assets/docker-buildx.html.4bd31749.js"><link rel="prefetch" href="/assets/docker-command.html.4fa1b45d.js"><link rel="prefetch" href="/assets/docker-compose-command.html.94b84bfd.js"><link rel="prefetch" href="/assets/docker-install.html.7879edc4.js"><link rel="prefetch" href="/assets/docker-remote.html.4bc54942.js"><link rel="prefetch" href="/assets/dockerfile-command.html.572a4ca3.js"><link rel="prefetch" href="/assets/css.html.b4cd8d6a.js"><link rel="prefetch" href="/assets/vue.html.0baaf5a7.js"><link rel="prefetch" href="/assets/github.html.1cdd618b.js"><link rel="prefetch" href="/assets/JPA.html.2c820b4f.js"><link rel="prefetch" href="/assets/framework.html.cc680e0e.js"><link rel="prefetch" href="/assets/java-blog.html.048f5d25.js"><link rel="prefetch" href="/assets/java-connect.html.f4264d4e.js"><link rel="prefetch" href="/assets/java-deploy.html.fbe3848e.js"><link rel="prefetch" href="/assets/jvm.html.0f0dc9e9.js"><link rel="prefetch" href="/assets/multithreading.html.9facf9f0.js"><link rel="prefetch" href="/assets/spring-security.html.5561800a.js"><link rel="prefetch" href="/assets/spring.html.bd2d59de.js"><link rel="prefetch" href="/assets/springboot.html.edfd39ab.js"><link rel="prefetch" href="/assets/LVM.html.8ae61622.js"><link rel="prefetch" href="/assets/centos.html.a93211c2.js"><link rel="prefetch" href="/assets/debian.html.3c0b5448.js"><link rel="prefetch" href="/assets/linux.html.49094f75.js"><link rel="prefetch" href="/assets/opencv-java.html.13a340bc.js"><link rel="prefetch" href="/assets/attention.html.68e0ce16.js"><link rel="prefetch" href="/assets/jupyter.html.8d402ff2.js"><link rel="prefetch" href="/assets/matplotlib.html.5734b6d8.js"><link rel="prefetch" href="/assets/numpy.html.03f9b4cd.js"><link rel="prefetch" href="/assets/sql.html.1da1210e.js"><link rel="prefetch" href="/assets/git.html.5a6997da.js"><link rel="prefetch" href="/assets/intellij.html.e1f8e980.js"><link rel="prefetch" href="/assets/nginx.html.f85145db.js"><link rel="prefetch" href="/assets/euserv.html.7ba247e7.js"><link rel="prefetch" href="/assets/404.html.01c73ac1.js"><link rel="prefetch" href="/assets/index.html.e55379d3.js"><link rel="prefetch" href="/assets/attention.html.eddf1b7f.js"><link rel="prefetch" href="/assets/resource.html.55db4240.js"><link rel="prefetch" href="/assets/design-mode.html.ae0b9fab.js"><link rel="prefetch" href="/assets/ethernum.html.82daf57d.js"><link rel="prefetch" href="/assets/dns.html.70c291c6.js"><link rel="prefetch" href="/assets/mysql.html.c1be1fb7.js"><link rel="prefetch" href="/assets/attention.html.5f7dffbb.js"><link rel="prefetch" href="/assets/docker-app.html.c3d827df.js"><link rel="prefetch" href="/assets/docker-buildx.html.82310a25.js"><link rel="prefetch" href="/assets/docker-command.html.f34c1c0b.js"><link rel="prefetch" href="/assets/docker-compose-command.html.74ebc9b4.js"><link rel="prefetch" href="/assets/docker-install.html.e0bc04d6.js"><link rel="prefetch" href="/assets/docker-remote.html.c9c964ec.js"><link rel="prefetch" href="/assets/dockerfile-command.html.bd33c819.js"><link rel="prefetch" href="/assets/css.html.7b6547c5.js"><link rel="prefetch" href="/assets/vue.html.4704097e.js"><link rel="prefetch" href="/assets/github.html.c9dc7e63.js"><link rel="prefetch" href="/assets/JPA.html.a1cb2de3.js"><link rel="prefetch" href="/assets/framework.html.2d3a31b2.js"><link rel="prefetch" href="/assets/java-blog.html.b0ff6587.js"><link rel="prefetch" href="/assets/java-connect.html.1988aa9f.js"><link rel="prefetch" href="/assets/java-deploy.html.cd5f5949.js"><link rel="prefetch" href="/assets/jvm.html.c060ba7c.js"><link rel="prefetch" href="/assets/multithreading.html.542196f0.js"><link rel="prefetch" href="/assets/spring-security.html.8cb8c749.js"><link rel="prefetch" href="/assets/spring.html.3d865f4e.js"><link rel="prefetch" href="/assets/springboot.html.31c7ed5c.js"><link rel="prefetch" href="/assets/LVM.html.73bf2c4d.js"><link rel="prefetch" href="/assets/centos.html.6382038a.js"><link rel="prefetch" href="/assets/debian.html.263d657f.js"><link rel="prefetch" href="/assets/linux.html.6dc60f4e.js"><link rel="prefetch" href="/assets/opencv-java.html.51d82c7d.js"><link rel="prefetch" href="/assets/attention.html.5b18d5b5.js"><link rel="prefetch" href="/assets/jupyter.html.5d04b834.js"><link rel="prefetch" href="/assets/matplotlib.html.dc6c4596.js"><link rel="prefetch" href="/assets/numpy.html.0f4f2c40.js"><link rel="prefetch" href="/assets/sql.html.b94fb24c.js"><link rel="prefetch" href="/assets/git.html.a98944c4.js"><link rel="prefetch" href="/assets/intellij.html.ba57b2ca.js"><link rel="prefetch" href="/assets/nginx.html.6134a896.js"><link rel="prefetch" href="/assets/euserv.html.405b1989.js"><link rel="prefetch" href="/assets/404.html.e1c2ab1d.js"><link rel="prefetch" href="/assets/404.ab92b523.js"><link rel="prefetch" href="/assets/Layout.62a2f5b4.js">
    <link rel="stylesheet" href="/assets/style.0caea228.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="侧边栏切换" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/favicons/favicon.png" alt="小丁的博客"><span class="site-name can-hide">小丁的博客</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Docker"><span class="title">Docker</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Docker"><span class="title">Docker</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docker/docker-install.html" class="" aria-label="安装Docker"><!--[--><!--]--> 安装Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/docker-buildx.html" class="" aria-label="docker多架构构建镜像"><!--[--><!--]--> docker多架构构建镜像 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/docker-remote.html" class="" aria-label="docker 远程连接配置"><!--[--><!--]--> docker 远程连接配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/docker-command.html" class="" aria-label="docker常用命令"><!--[--><!--]--> docker常用命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/dockerfile-command.html" class="" aria-label="dockerfile指令"><!--[--><!--]--> dockerfile指令 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/docker-compose-command.html" class="" aria-label="docker-compose指令"><!--[--><!--]--> docker-compose指令 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/docker-app.html" class="" aria-label="Docker 常规应用"><!--[--><!--]--> Docker 常规应用 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/attention.html" class="" aria-label="注意事项"><!--[--><!--]--> 注意事项 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JAVA"><span class="title">JAVA</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JAVA"><span class="title">JAVA</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/java/jvm.html" class="" aria-label="JVM"><!--[--><!--]--> JVM <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/spring.html" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/JPA.html" class="" aria-label="JPA"><!--[--><!--]--> JPA <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/spring-security.html" class="" aria-label="SpringSecurity"><!--[--><!--]--> SpringSecurity <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/springboot.html" class="" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/java-connect.html" class="" aria-label="JAVA连接常用软件"><!--[--><!--]--> JAVA连接常用软件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/java-blog.html" class="" aria-label="JAVA博客资源整理"><!--[--><!--]--> JAVA博客资源整理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/framework.html" class="" aria-label="框架学习"><!--[--><!--]--> 框架学习 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/multithreading.html" class="" aria-label="多线程"><!--[--><!--]--> 多线程 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Python"><span class="title">Python</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Python"><span class="title">Python</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/python/jupyter.html" class="" aria-label="Jupyter"><!--[--><!--]--> Jupyter <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/matplotlib.html" class="" aria-label="Matplotlib"><!--[--><!--]--> Matplotlib <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/numpy.html" class="" aria-label="Numpy 数值计算库"><!--[--><!--]--> Numpy 数值计算库 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/python/pandas.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Pandas"><!--[--><!--]--> Pandas <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linux/centos.html" class="" aria-label="Centos 常规操作"><!--[--><!--]--> Centos 常规操作 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/debian.html" class="" aria-label="debian常规操作"><!--[--><!--]--> debian常规操作 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/LVM.html" class="" aria-label="逻辑卷管理LVM"><!--[--><!--]--> 逻辑卷管理LVM <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/linux.html" class="" aria-label="linux基本命令操作"><!--[--><!--]--> linux基本命令操作 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="杂项1"><span class="title">杂项1</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="杂项1"><span class="title">杂项1</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>数据库</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/database/mysql.html" class="" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/sql/sql.html" class="" aria-label="sql语句整理"><!--[--><!--]--> sql语句整理 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Android</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/android/design-mode.html" class="" aria-label="Android设计模式对比"><!--[--><!--]--> Android设计模式对比 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/fronted/css.html" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/fronted/vue.html" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>OpenCV</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/opencv/opencv-java.html" class="" aria-label="编译opencv 并使用java驱动"><!--[--><!--]--> 编译opencv 并使用java驱动 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/tools/git.html" class="" aria-label="GIT"><!--[--><!--]--> GIT <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/tools/intellij.html" class="" aria-label="intellij使用"><!--[--><!--]--> intellij使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/tools/nginx.html" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>VPS</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vps/euserv.html" class="" aria-label="EUSERV"><!--[--><!--]--> EUSERV <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="杂项2"><span class="title">杂项2</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="杂项2"><span class="title">杂项2</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>GitHub</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/github/github.html" class="" aria-label="GitHub操作"><!--[--><!--]--> GitHub操作 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>云服务</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/cloud/dns.html" class="" aria-label="免费DNS服务"><!--[--><!--]--> 免费DNS服务 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>OpenWrt</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/openwrt/attention.html" class="" aria-label="血与泪的焦灼"><!--[--><!--]--> 血与泪的焦灼 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>区块链</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blockchain/ethernum.html" class="" aria-label="以太坊"><!--[--><!--]--> 以太坊 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="资源与注意事项"><span class="title">资源与注意事项</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="资源与注意事项"><span class="title">资源与注意事项</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/resource.html" class="" aria-label="常用资源整理"><!--[--><!--]--> 常用资源整理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/attention.html" class="" aria-label="开发注意点"><!--[--><!--]--> 开发注意点 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/maodou38" rel="noopener noreferrer" target="_blank" aria-label="荒废的代码仓库"><!--[--><!--]--> 荒废的代码仓库 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://nft.dingran.ga" rel="noopener noreferrer" target="_blank" aria-label="每日热搜NFT"><!--[--><!--]--> 每日热搜NFT <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/roiding/roiding.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="颜色切换"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Docker"><span class="title">Docker</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Docker"><span class="title">Docker</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docker/docker-install.html" class="" aria-label="安装Docker"><!--[--><!--]--> 安装Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/docker-buildx.html" class="" aria-label="docker多架构构建镜像"><!--[--><!--]--> docker多架构构建镜像 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/docker-remote.html" class="" aria-label="docker 远程连接配置"><!--[--><!--]--> docker 远程连接配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/docker-command.html" class="" aria-label="docker常用命令"><!--[--><!--]--> docker常用命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/dockerfile-command.html" class="" aria-label="dockerfile指令"><!--[--><!--]--> dockerfile指令 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/docker-compose-command.html" class="" aria-label="docker-compose指令"><!--[--><!--]--> docker-compose指令 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/docker-app.html" class="" aria-label="Docker 常规应用"><!--[--><!--]--> Docker 常规应用 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docker/attention.html" class="" aria-label="注意事项"><!--[--><!--]--> 注意事项 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JAVA"><span class="title">JAVA</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JAVA"><span class="title">JAVA</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/java/jvm.html" class="" aria-label="JVM"><!--[--><!--]--> JVM <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/spring.html" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/JPA.html" class="" aria-label="JPA"><!--[--><!--]--> JPA <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/spring-security.html" class="" aria-label="SpringSecurity"><!--[--><!--]--> SpringSecurity <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/springboot.html" class="" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/java-connect.html" class="" aria-label="JAVA连接常用软件"><!--[--><!--]--> JAVA连接常用软件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/java-blog.html" class="" aria-label="JAVA博客资源整理"><!--[--><!--]--> JAVA博客资源整理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/framework.html" class="" aria-label="框架学习"><!--[--><!--]--> 框架学习 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/multithreading.html" class="" aria-label="多线程"><!--[--><!--]--> 多线程 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Python"><span class="title">Python</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Python"><span class="title">Python</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/python/jupyter.html" class="" aria-label="Jupyter"><!--[--><!--]--> Jupyter <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/matplotlib.html" class="" aria-label="Matplotlib"><!--[--><!--]--> Matplotlib <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/numpy.html" class="" aria-label="Numpy 数值计算库"><!--[--><!--]--> Numpy 数值计算库 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/python/pandas.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Pandas"><!--[--><!--]--> Pandas <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linux/centos.html" class="" aria-label="Centos 常规操作"><!--[--><!--]--> Centos 常规操作 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/debian.html" class="" aria-label="debian常规操作"><!--[--><!--]--> debian常规操作 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/LVM.html" class="" aria-label="逻辑卷管理LVM"><!--[--><!--]--> 逻辑卷管理LVM <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/linux.html" class="" aria-label="linux基本命令操作"><!--[--><!--]--> linux基本命令操作 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="杂项1"><span class="title">杂项1</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="杂项1"><span class="title">杂项1</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>数据库</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/database/mysql.html" class="" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/sql/sql.html" class="" aria-label="sql语句整理"><!--[--><!--]--> sql语句整理 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Android</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/android/design-mode.html" class="" aria-label="Android设计模式对比"><!--[--><!--]--> Android设计模式对比 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/fronted/css.html" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/fronted/vue.html" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>OpenCV</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/opencv/opencv-java.html" class="" aria-label="编译opencv 并使用java驱动"><!--[--><!--]--> 编译opencv 并使用java驱动 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/tools/git.html" class="" aria-label="GIT"><!--[--><!--]--> GIT <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/tools/intellij.html" class="" aria-label="intellij使用"><!--[--><!--]--> intellij使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/tools/nginx.html" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>VPS</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vps/euserv.html" class="" aria-label="EUSERV"><!--[--><!--]--> EUSERV <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="杂项2"><span class="title">杂项2</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="杂项2"><span class="title">杂项2</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>GitHub</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/github/github.html" class="" aria-label="GitHub操作"><!--[--><!--]--> GitHub操作 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>云服务</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/cloud/dns.html" class="" aria-label="免费DNS服务"><!--[--><!--]--> 免费DNS服务 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>OpenWrt</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/openwrt/attention.html" class="" aria-label="血与泪的焦灼"><!--[--><!--]--> 血与泪的焦灼 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>区块链</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blockchain/ethernum.html" class="" aria-label="以太坊"><!--[--><!--]--> 以太坊 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="资源与注意事项"><span class="title">资源与注意事项</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="资源与注意事项"><span class="title">资源与注意事项</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/resource.html" class="" aria-label="常用资源整理"><!--[--><!--]--> 常用资源整理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/attention.html" class="" aria-label="开发注意点"><!--[--><!--]--> 开发注意点 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/maodou38" rel="noopener noreferrer" target="_blank" aria-label="荒废的代码仓库"><!--[--><!--]--> 荒废的代码仓库 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://nft.dingran.ga" rel="noopener noreferrer" target="_blank" aria-label="每日热搜NFT"><!--[--><!--]--> 每日热搜NFT <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/roiding/roiding.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/python/jupyter.html" class="sidebar-item sidebar-heading" aria-label="Jupyter"><!--[--><!--]--> Jupyter <!--[--><!--]--></a><!----></li><li><a href="/python/matplotlib.html" class="sidebar-item sidebar-heading" aria-label="Matplotlib"><!--[--><!--]--> Matplotlib <!--[--><!--]--></a><!----></li><li><a href="/python/numpy.html" class="sidebar-item sidebar-heading" aria-label="Numpy 数值计算库"><!--[--><!--]--> Numpy 数值计算库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Pandas"><!--[--><!--]--> Pandas <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#pandas介绍" class="router-link-active router-link-exact-active sidebar-item" aria-label="Pandas介绍"><!--[--><!--]--> Pandas介绍 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#为什么使用pandas" class="router-link-active router-link-exact-active sidebar-item" aria-label="为什么使用Pandas"><!--[--><!--]--> 为什么使用Pandas <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#案例" class="router-link-active router-link-exact-active sidebar-item" aria-label="案例"><!--[--><!--]--> 案例 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#问题-如何让数据更有意义的显示-处理刚才的股票数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="问题：如何让数据更有意义的显示？处理刚才的股票数据"><!--[--><!--]--> 问题：如何让数据更有意义的显示？处理刚才的股票数据 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#dataframe" class="router-link-active router-link-exact-active sidebar-item" aria-label="DataFrame"><!--[--><!--]--> DataFrame <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#dataframe结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="DataFrame结构"><!--[--><!--]--> DataFrame结构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#dataframe的属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="DataFrame的属性"><!--[--><!--]--> DataFrame的属性 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#datatframe索引的设置" class="router-link-active router-link-exact-active sidebar-item" aria-label="DatatFrame索引的设置"><!--[--><!--]--> DatatFrame索引的设置 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#修改行列索引值" class="router-link-active router-link-exact-active sidebar-item" aria-label="修改行列索引值"><!--[--><!--]--> 修改行列索引值 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#重设索引" class="router-link-active router-link-exact-active sidebar-item" aria-label="重设索引"><!--[--><!--]--> 重设索引 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#以某列值设置为新的索引" class="router-link-active router-link-exact-active sidebar-item" aria-label="以某列值设置为新的索引"><!--[--><!--]--> 以某列值设置为新的索引 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#multiindex与panel" class="router-link-active router-link-exact-active sidebar-item" aria-label="MultiIndex与Panel"><!--[--><!--]--> MultiIndex与Panel <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#multiindex" class="router-link-active router-link-exact-active sidebar-item" aria-label="MultiIndex"><!--[--><!--]--> MultiIndex <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#panel" class="router-link-active router-link-exact-active sidebar-item" aria-label="Panel"><!--[--><!--]--> Panel <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#series结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="Series结构"><!--[--><!--]--> Series结构 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#创建series" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建series"><!--[--><!--]--> 创建series <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#series获取属性和值" class="router-link-active router-link-exact-active sidebar-item" aria-label="series获取属性和值"><!--[--><!--]--> series获取属性和值 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#基本数据操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="基本数据操作"><!--[--><!--]--> 基本数据操作 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#索引操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="索引操作"><!--[--><!--]--> 索引操作 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#直接使用行列索引-先列后行" class="router-link-active router-link-exact-active sidebar-item" aria-label="直接使用行列索引(先列后行)"><!--[--><!--]--> 直接使用行列索引(先列后行) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#结合loc或者iloc使用索引" class="router-link-active router-link-exact-active sidebar-item" aria-label="结合loc或者iloc使用索引"><!--[--><!--]--> 结合loc或者iloc使用索引 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#使用ix组合索引" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用ix组合索引"><!--[--><!--]--> 使用ix组合索引 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#赋值操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="赋值操作"><!--[--><!--]--> 赋值操作 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#排序" class="router-link-active router-link-exact-active sidebar-item" aria-label="排序"><!--[--><!--]--> 排序 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#dataframe运算" class="router-link-active router-link-exact-active sidebar-item" aria-label="DataFrame运算"><!--[--><!--]--> DataFrame运算 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#算术运算" class="router-link-active router-link-exact-active sidebar-item" aria-label="算术运算"><!--[--><!--]--> 算术运算 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#逻辑运算" class="router-link-active router-link-exact-active sidebar-item" aria-label="逻辑运算"><!--[--><!--]--> 逻辑运算 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#逻辑运算符号-、-、-、" class="router-link-active router-link-exact-active sidebar-item" aria-label="逻辑运算符号&lt;、 &gt;、|、 &amp;"><!--[--><!--]--> 逻辑运算符号&lt;、 &gt;、|、 &amp; <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#逻辑运算函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="逻辑运算函数"><!--[--><!--]--> 逻辑运算函数 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#统计运算" class="router-link-active router-link-exact-active sidebar-item" aria-label="统计运算"><!--[--><!--]--> 统计运算 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#describe" class="router-link-active router-link-exact-active sidebar-item" aria-label="describe()"><!--[--><!--]--> describe() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#统计函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="统计函数"><!--[--><!--]--> 统计函数 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#累计统计函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="累计统计函数"><!--[--><!--]--> 累计统计函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#自定义运算" class="router-link-active router-link-exact-active sidebar-item" aria-label="自定义运算"><!--[--><!--]--> 自定义运算 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#pandas画图" class="router-link-active router-link-exact-active sidebar-item" aria-label="Pandas画图"><!--[--><!--]--> Pandas画图 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#pandas-dataframe-plot" class="router-link-active router-link-exact-active sidebar-item" aria-label="pandas.DataFrame.plot"><!--[--><!--]--> pandas.DataFrame.plot <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#pandas-series-plot" class="router-link-active router-link-exact-active sidebar-item" aria-label="pandas.Series.plot"><!--[--><!--]--> pandas.Series.plot <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#文件读取与存储" class="router-link-active router-link-exact-active sidebar-item" aria-label="文件读取与存储"><!--[--><!--]--> 文件读取与存储 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#csv" class="router-link-active router-link-exact-active sidebar-item" aria-label="CSV"><!--[--><!--]--> CSV <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#read-csv" class="router-link-active router-link-exact-active sidebar-item" aria-label="read_csv"><!--[--><!--]--> read_csv <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#to-csv" class="router-link-active router-link-exact-active sidebar-item" aria-label="to_csv"><!--[--><!--]--> to_csv <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#案例-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="案例"><!--[--><!--]--> 案例 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#hdf5" class="router-link-active router-link-exact-active sidebar-item" aria-label="HDF5"><!--[--><!--]--> HDF5 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#read-hdf与to-hdf" class="router-link-active router-link-exact-active sidebar-item" aria-label="read_hdf与to_hdf"><!--[--><!--]--> read_hdf与to_hdf <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#案例-2" class="router-link-active router-link-exact-active sidebar-item" aria-label="案例"><!--[--><!--]--> 案例 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#json" class="router-link-active router-link-exact-active sidebar-item" aria-label="JSON"><!--[--><!--]--> JSON <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#read-json" class="router-link-active router-link-exact-active sidebar-item" aria-label="read_json"><!--[--><!--]--> read_json <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#read-josn-案例" class="router-link-active router-link-exact-active sidebar-item" aria-label="read_josn 案例"><!--[--><!--]--> read_josn 案例 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#to-json" class="router-link-active router-link-exact-active sidebar-item" aria-label="to_json"><!--[--><!--]--> to_json <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#案例-3" class="router-link-active router-link-exact-active sidebar-item" aria-label="案例"><!--[--><!--]--> 案例 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#拓展" class="router-link-active router-link-exact-active sidebar-item" aria-label="拓展"><!--[--><!--]--> 拓展 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#高级处理-缺失值处理" class="router-link-active router-link-exact-active sidebar-item" aria-label="高级处理-缺失值处理"><!--[--><!--]--> 高级处理-缺失值处理 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#如何处理nan" class="router-link-active router-link-exact-active sidebar-item" aria-label="如何处理nan"><!--[--><!--]--> 如何处理nan <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#电影数据的缺失值处理" class="router-link-active router-link-exact-active sidebar-item" aria-label="电影数据的缺失值处理"><!--[--><!--]--> 电影数据的缺失值处理 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#判断缺失值是否存在" class="router-link-active router-link-exact-active sidebar-item" aria-label="判断缺失值是否存在"><!--[--><!--]--> 判断缺失值是否存在 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#存在缺失值nan-并且是np-nan" class="router-link-active router-link-exact-active sidebar-item" aria-label="存在缺失值nan,并且是np.nan"><!--[--><!--]--> 存在缺失值nan,并且是np.nan <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#不是缺失值nan-有默认标记的" class="router-link-active router-link-exact-active sidebar-item" aria-label="不是缺失值nan，有默认标记的"><!--[--><!--]--> 不是缺失值nan，有默认标记的 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#高级处理-数据离散化" class="router-link-active router-link-exact-active sidebar-item" aria-label="高级处理-数据离散化"><!--[--><!--]--> 高级处理-数据离散化 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#为什么要离散化" class="router-link-active router-link-exact-active sidebar-item" aria-label="为什么要离散化"><!--[--><!--]--> 为什么要离散化 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#什么是数据的离散化" class="router-link-active router-link-exact-active sidebar-item" aria-label="什么是数据的离散化"><!--[--><!--]--> 什么是数据的离散化 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#股票的涨跌幅离散化" class="router-link-active router-link-exact-active sidebar-item" aria-label="股票的涨跌幅离散化"><!--[--><!--]--> 股票的涨跌幅离散化 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#读取股票的数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="读取股票的数据"><!--[--><!--]--> 读取股票的数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#将股票涨跌幅数据进行分组" class="router-link-active router-link-exact-active sidebar-item" aria-label="将股票涨跌幅数据进行分组"><!--[--><!--]--> 将股票涨跌幅数据进行分组 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#股票涨跌幅分组数据变成one-hot编码" class="router-link-active router-link-exact-active sidebar-item" aria-label="股票涨跌幅分组数据变成one-hot编码"><!--[--><!--]--> 股票涨跌幅分组数据变成one-hot编码 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#高级处理-合并" class="router-link-active router-link-exact-active sidebar-item" aria-label="高级处理-合并"><!--[--><!--]--> 高级处理-合并 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#pd-concat实现数据合并" class="router-link-active router-link-exact-active sidebar-item" aria-label="pd.concat实现数据合并"><!--[--><!--]--> pd.concat实现数据合并 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#pd-merge" class="router-link-active router-link-exact-active sidebar-item" aria-label="pd.merge"><!--[--><!--]--> pd.merge <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#pd-merge合并" class="router-link-active router-link-exact-active sidebar-item" aria-label="pd.merge合并"><!--[--><!--]--> pd.merge合并 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#高级处理-交叉表与透视表" class="router-link-active router-link-exact-active sidebar-item" aria-label="高级处理-交叉表与透视表"><!--[--><!--]--> 高级处理-交叉表与透视表 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#交叉表与透视表什么作用" class="router-link-active router-link-exact-active sidebar-item" aria-label="交叉表与透视表什么作用"><!--[--><!--]--> 交叉表与透视表什么作用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#使用crosstab-交叉表-实现上图" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用crosstab(交叉表)实现上图"><!--[--><!--]--> 使用crosstab(交叉表)实现上图 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#案例分析" class="router-link-active router-link-exact-active sidebar-item" aria-label="案例分析"><!--[--><!--]--> 案例分析 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#数据准备" class="router-link-active router-link-exact-active sidebar-item" aria-label="数据准备"><!--[--><!--]--> 数据准备 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#查看效果" class="router-link-active router-link-exact-active sidebar-item" aria-label="查看效果"><!--[--><!--]--> 查看效果 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#使用pivot-table-透视表-实现" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用pivot_table(透视表)实现"><!--[--><!--]--> 使用pivot_table(透视表)实现 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#高级处理-分组与聚合" class="router-link-active router-link-exact-active sidebar-item" aria-label="高级处理-分组与聚合"><!--[--><!--]--> 高级处理-分组与聚合 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#什么分组与聚合" class="router-link-active router-link-exact-active sidebar-item" aria-label="什么分组与聚合"><!--[--><!--]--> 什么分组与聚合 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#分组api" class="router-link-active router-link-exact-active sidebar-item" aria-label="分组API"><!--[--><!--]--> 分组API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#星巴克零售店铺数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="星巴克零售店铺数据"><!--[--><!--]--> 星巴克零售店铺数据 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#数据获取" class="router-link-active router-link-exact-active sidebar-item" aria-label="数据获取"><!--[--><!--]--> 数据获取 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#进行分组聚合" class="router-link-active router-link-exact-active sidebar-item" aria-label="进行分组聚合"><!--[--><!--]--> 进行分组聚合 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#案例-4" class="router-link-active router-link-exact-active sidebar-item" aria-label="案例"><!--[--><!--]--> 案例 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#需求" class="router-link-active router-link-exact-active sidebar-item" aria-label="需求"><!--[--><!--]--> 需求 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#实现" class="router-link-active router-link-exact-active sidebar-item" aria-label="实现"><!--[--><!--]--> 实现 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/python/pandas.html#问题一" class="router-link-active router-link-exact-active sidebar-item" aria-label="问题一"><!--[--><!--]--> 问题一 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#问题二" class="router-link-active router-link-exact-active sidebar-item" aria-label="问题二"><!--[--><!--]--> 问题二 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/python/pandas.html#问题三" class="router-link-active router-link-exact-active sidebar-item" aria-label="问题三"><!--[--><!--]--> 问题三 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a aria-current="page" href="/python/pandas.html#pandas中文api" class="router-link-active router-link-exact-active sidebar-item" aria-label="Pandas中文API"><!--[--><!--]--> Pandas中文API <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="pandas介绍" tabindex="-1"><a class="header-anchor" href="#pandas介绍" aria-hidden="true">#</a> Pandas介绍</h2><p><img src="/assets/7a1a6f9327ea43fda40af3c1cdd0402a.a83f07f9.png" alt=""></p><ul><li>2008年WesMcKinney开发出的库</li><li>专门用于数据挖掘的开源python库</li><li><strong>以Numpy为基础，借力Numpy模块在计算方面性能高的优势</strong></li><li><strong>基于matplotlib，能够简便的画图</strong></li><li><strong>独特的数据结构</strong></li></ul><h3 id="为什么使用pandas" tabindex="-1"><a class="header-anchor" href="#为什么使用pandas" aria-hidden="true">#</a> 为什么使用Pandas</h3><p>Numpy已经能够帮助我们处理数据，能够结合matplotlib解决部分数据展示等问题，那么pandas学习的目的在什么地方呢？</p><ul><li><strong>便捷的数据处理能力</strong></li></ul><p><img src="/assets/处理前.47f0427a.png" alt=""></p><p><img src="/assets/处理后.38c3b2a3.png" alt=""></p><ul><li><strong>读取文件方便</strong></li><li><strong>封装了Matplotlib、Numpy的画图和计算</strong></li></ul><h3 id="案例" tabindex="-1"><a class="header-anchor" href="#案例" aria-hidden="true">#</a> 案例</h3><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 导入pandas</span>

<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>回忆我们在numpy当中创建的股票涨跌幅数据形式？**</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 创建一个符合正太分布的10个股票5天的涨跌幅数据</span>
stock_change <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.06544031</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.30931491</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.45451514</span><span class="token punctuation">,</span>  <span class="token number">0.57973008</span><span class="token punctuation">,</span>  <span class="token number">1.48602405</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1.73216741</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.83413717</span><span class="token punctuation">,</span>  <span class="token number">0.45861517</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.80391793</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.46878575</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">0.21805567</span><span class="token punctuation">,</span>  <span class="token number">0.19901371</span><span class="token punctuation">,</span>  <span class="token number">0.7134683</span> <span class="token punctuation">,</span>  <span class="token number">0.5484263</span> <span class="token punctuation">,</span>  <span class="token number">0.38623412</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.42207879</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.33702398</span><span class="token punctuation">,</span>  <span class="token number">0.42328531</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.23079202</span><span class="token punctuation">,</span>  <span class="token number">1.32843773</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1.72530711</span><span class="token punctuation">,</span>  <span class="token number">0.07591832</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.91708358</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.16535818</span><span class="token punctuation">,</span>  <span class="token number">1.07645091</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.81576845</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.28675278</span><span class="token punctuation">,</span>  <span class="token number">1.20441981</span><span class="token punctuation">,</span>  <span class="token number">0.73365951</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.06214496</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.98820861</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.01815231</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.95417342</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.81538991</span><span class="token punctuation">,</span>  <span class="token number">0.50268175</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.10034128</span><span class="token punctuation">,</span>  <span class="token number">0.61196204</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.06850331</span><span class="token punctuation">,</span>  <span class="token number">0.74738433</span><span class="token punctuation">,</span>  <span class="token number">0.143011</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">1.00026175</span><span class="token punctuation">,</span>  <span class="token number">0.34241958</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2.2529711</span> <span class="token punctuation">,</span>  <span class="token number">0.93921064</span><span class="token punctuation">,</span>  <span class="token number">1.14080312</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">2.52064693</span><span class="token punctuation">,</span>  <span class="token number">1.55384756</span><span class="token punctuation">,</span>  <span class="token number">1.72252984</span><span class="token punctuation">,</span>  <span class="token number">0.61270132</span><span class="token punctuation">,</span>  <span class="token number">0.60888092</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>但是这样的数据形式很难看到存储的是什么的样的数据，并也很难获取相应的数据，比如需要获取某个指定股票的数据，就很难去获取！！</strong></p><h4 id="问题-如何让数据更有意义的显示-处理刚才的股票数据" tabindex="-1"><a class="header-anchor" href="#问题-如何让数据更有意义的显示-处理刚才的股票数据" aria-hidden="true">#</a> 问题：如何让数据更有意义的显示？处理刚才的股票数据</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 使用Pandas中的数据结构</span>
stock_day_rise <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>stock_change<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>效果：</p><p><img src="/assets/stockdf.9154976d.png" alt=""></p><ul><li>增加行索引</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 构造行索引序列</span>
stock_code <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;股票&#39;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>stock_day_rise<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment"># 添加行索引</span>
data <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>stock_change<span class="token punctuation">,</span> index<span class="token operator">=</span>stock_code<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>增加列索引</li></ul><p>股票的日期是一个时间的序列，我们要实现从前往后的时间还要考虑每月的总天数等，不方便。使用pd.date_range()：用于生成一组连续的时间序列(暂时了解)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>date_range(start=None,end=None, periods=None, freq=&#39;B&#39;)

    start:开始时间

    end:结束时间

    periods:时间天数

    freq:递进单位，默认1天,&#39;B&#39;默认略过周末
# 生成一个时间的序列，略过周末非交易日
date = pd.date_range(&#39;2017-01-01&#39;, periods=stock_day_rise.shape[1], freq=&#39;B&#39;)

# index代表行索引，columns代表列索引
data = pd.DataFrame(stock_change, index=stock_code, columns=date)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dataframe" tabindex="-1"><a class="header-anchor" href="#dataframe" aria-hidden="true">#</a> DataFrame</h3><h4 id="dataframe结构" tabindex="-1"><a class="header-anchor" href="#dataframe结构" aria-hidden="true">#</a> DataFrame结构</h4><p>DataFrame对象既有行索引，又有列索引</p><ul><li>行索引，表明不同行，横向索引，叫index，0轴，axis=0</li><li>列索引，表名不同列，纵向索引，叫columns，1轴，axis=1</li></ul><p><img src="/assets/df.18340644.png" alt=""></p><h4 id="dataframe的属性" tabindex="-1"><a class="header-anchor" href="#dataframe的属性" aria-hidden="true">#</a> DataFrame的属性</h4><ul><li><strong>shape</strong></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>shape
<span class="token comment"># 结果</span>
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>index</strong></li></ul><p>DataFrame的行索引列表</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>index

Index<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;股票0&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;股票1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;股票2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;股票3&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;股票4&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;股票5&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;股票6&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;股票7&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;股票8&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;股票9&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>columns</strong></li></ul><p>DataFrame的列索引列表</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>columns

DatetimeIndex<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;2017-01-02&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2017-01-03&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2017-01-04&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2017-01-05&#39;</span><span class="token punctuation">,</span>
               <span class="token string">&#39;2017-01-06&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              dtype<span class="token operator">=</span><span class="token string">&#39;datetime64[ns]&#39;</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>values</strong></li></ul><p>直接获取其中array的值</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>values

array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.06544031</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.30931491</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.45451514</span><span class="token punctuation">,</span>  <span class="token number">0.57973008</span><span class="token punctuation">,</span>  <span class="token number">1.48602405</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1.73216741</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.83413717</span><span class="token punctuation">,</span>  <span class="token number">0.45861517</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.80391793</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.46878575</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">0.21805567</span><span class="token punctuation">,</span>  <span class="token number">0.19901371</span><span class="token punctuation">,</span>  <span class="token number">0.7134683</span> <span class="token punctuation">,</span>  <span class="token number">0.5484263</span> <span class="token punctuation">,</span>  <span class="token number">0.38623412</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.42207879</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.33702398</span><span class="token punctuation">,</span>  <span class="token number">0.42328531</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.23079202</span><span class="token punctuation">,</span>  <span class="token number">1.32843773</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1.72530711</span><span class="token punctuation">,</span>  <span class="token number">0.07591832</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.91708358</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.16535818</span><span class="token punctuation">,</span>  <span class="token number">1.07645091</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.81576845</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.28675278</span><span class="token punctuation">,</span>  <span class="token number">1.20441981</span><span class="token punctuation">,</span>  <span class="token number">0.73365951</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.06214496</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.98820861</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.01815231</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.95417342</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.81538991</span><span class="token punctuation">,</span>  <span class="token number">0.50268175</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.10034128</span><span class="token punctuation">,</span>  <span class="token number">0.61196204</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.06850331</span><span class="token punctuation">,</span>  <span class="token number">0.74738433</span><span class="token punctuation">,</span>  <span class="token number">0.143011</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">1.00026175</span><span class="token punctuation">,</span>  <span class="token number">0.34241958</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2.2529711</span> <span class="token punctuation">,</span>  <span class="token number">0.93921064</span><span class="token punctuation">,</span>  <span class="token number">1.14080312</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">2.52064693</span><span class="token punctuation">,</span>  <span class="token number">1.55384756</span><span class="token punctuation">,</span>  <span class="token number">1.72252984</span><span class="token punctuation">,</span>  <span class="token number">0.61270132</span><span class="token punctuation">,</span>  <span class="token number">0.60888092</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>T</strong></li></ul><p>转置</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>data.T
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>结果</p><p><img src="/assets/DF转置结果.1476e009.png" alt=""></p><ul><li><strong>head(5)</strong>：显示前5行内容</li></ul><p>如果不补充参数，默认5行。填入参数N则显示前N行</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

<span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
股票<span class="token number">0</span>    <span class="token operator">-</span><span class="token number">0.065440</span>    <span class="token operator">-</span><span class="token number">1.309315</span>    <span class="token operator">-</span><span class="token number">1.454515</span>    <span class="token number">0.579730</span>    <span class="token number">1.486024</span>
股票<span class="token number">1</span>    <span class="token operator">-</span><span class="token number">1.732167</span>    <span class="token operator">-</span><span class="token number">0.834137</span>    <span class="token number">0.458615</span>    <span class="token operator">-</span><span class="token number">0.803918</span>    <span class="token operator">-</span><span class="token number">0.468786</span>
股票<span class="token number">2</span>    <span class="token number">0.218056</span>    <span class="token number">0.199014</span>    <span class="token number">0.713468</span>    <span class="token number">0.548426</span>    <span class="token number">0.386234</span>
股票<span class="token number">3</span>    <span class="token operator">-</span><span class="token number">0.422079</span>    <span class="token operator">-</span><span class="token number">0.337024</span>    <span class="token number">0.423285</span>    <span class="token operator">-</span><span class="token number">1.230792</span>    <span class="token number">1.328438</span>
股票<span class="token number">4</span>    <span class="token operator">-</span><span class="token number">1.725307</span>    <span class="token number">0.075918</span>    <span class="token operator">-</span><span class="token number">1.917084</span>    <span class="token operator">-</span><span class="token number">0.165358</span>    <span class="token number">1.076451</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>tail(5)</strong>:显示后5行内容</li></ul><p>如果不补充参数，默认5行。填入参数N则显示后N行</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

 <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
股票<span class="token number">5</span>    <span class="token operator">-</span><span class="token number">0.815768</span>    <span class="token operator">-</span><span class="token number">0.286753</span>    <span class="token number">1.204420</span>    <span class="token number">0.733660</span>    <span class="token operator">-</span><span class="token number">0.062145</span>
股票<span class="token number">6</span>    <span class="token operator">-</span><span class="token number">0.988209</span>    <span class="token operator">-</span><span class="token number">1.018152</span>    <span class="token operator">-</span><span class="token number">0.954173</span>    <span class="token operator">-</span><span class="token number">0.815390</span>    <span class="token number">0.502682</span>
股票<span class="token number">7</span>    <span class="token operator">-</span><span class="token number">0.100341</span>    <span class="token number">0.611962</span>    <span class="token operator">-</span><span class="token number">0.068503</span>    <span class="token number">0.747384</span>    <span class="token number">0.143011</span>
股票<span class="token number">8</span>    <span class="token number">1.000262</span>    <span class="token number">0.342420</span>    <span class="token operator">-</span><span class="token number">2.252971</span>    <span class="token number">0.939211</span>    <span class="token number">1.140803</span>
股票<span class="token number">9</span>    <span class="token number">2.520647</span>    <span class="token number">1.553848</span>    <span class="token number">1.722530</span>    <span class="token number">0.612701</span>    <span class="token number">0.608881</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="datatframe索引的设置" tabindex="-1"><a class="header-anchor" href="#datatframe索引的设置" aria-hidden="true">#</a> DatatFrame索引的设置</h3><h4 id="修改行列索引值" tabindex="-1"><a class="header-anchor" href="#修改行列索引值" aria-hidden="true">#</a> <strong>修改行列索引值</strong></h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>stock_code <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;股票_&quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>stock_day_rise<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment"># 必须整体全部修改</span>
data<span class="token punctuation">.</span>index <span class="token operator">=</span> stock_code
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
股票_0    <span class="token operator">-</span><span class="token number">0.065440</span>    <span class="token operator">-</span><span class="token number">1.309315</span>    <span class="token operator">-</span><span class="token number">1.454515</span>    <span class="token number">0.579730</span>    <span class="token number">1.486024</span>
股票_1    <span class="token operator">-</span><span class="token number">1.732167</span>    <span class="token operator">-</span><span class="token number">0.834137</span>    <span class="token number">0.458615</span>    <span class="token operator">-</span><span class="token number">0.803918</span>    <span class="token operator">-</span><span class="token number">0.468786</span>
股票_2    <span class="token number">0.218056</span>    <span class="token number">0.199014</span>    <span class="token number">0.713468</span>    <span class="token number">0.548426</span>    <span class="token number">0.386234</span>
股票_3    <span class="token operator">-</span><span class="token number">0.422079</span>    <span class="token operator">-</span><span class="token number">0.337024</span>    <span class="token number">0.423285</span>    <span class="token operator">-</span><span class="token number">1.230792</span>    <span class="token number">1.328438</span>
股票_4    <span class="token operator">-</span><span class="token number">1.725307</span>    <span class="token number">0.075918</span>    <span class="token operator">-</span><span class="token number">1.917084</span>    <span class="token operator">-</span><span class="token number">0.165358</span>    <span class="token number">1.076451</span>
股票_5    <span class="token operator">-</span><span class="token number">0.815768</span>    <span class="token operator">-</span><span class="token number">0.286753</span>    <span class="token number">1.204420</span>    <span class="token number">0.733660</span>    <span class="token operator">-</span><span class="token number">0.062145</span>
股票_6    <span class="token operator">-</span><span class="token number">0.988209</span>    <span class="token operator">-</span><span class="token number">1.018152</span>    <span class="token operator">-</span><span class="token number">0.954173</span>    <span class="token operator">-</span><span class="token number">0.815390</span>    <span class="token number">0.502682</span>
股票_7    <span class="token operator">-</span><span class="token number">0.100341</span>    <span class="token number">0.611962</span>    <span class="token operator">-</span><span class="token number">0.068503</span>    <span class="token number">0.747384</span>    <span class="token number">0.143011</span>
股票_8    <span class="token number">1.000262</span>    <span class="token number">0.342420</span>    <span class="token operator">-</span><span class="token number">2.252971</span>    <span class="token number">0.939211</span>    <span class="token number">1.140803</span>
股票_9    <span class="token number">2.520647</span>    <span class="token number">1.553848</span>    <span class="token number">1.722530</span>    <span class="token number">0.612701</span>    <span class="token number">0.608881</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：以下修改方式是错误的</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 错误修改方式
data.index[3] = &#39;股票_3&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="重设索引" tabindex="-1"><a class="header-anchor" href="#重设索引" aria-hidden="true">#</a> 重设索引</h4><ul><li>reset_index(drop=False) <ul><li>设置新的下标索引</li><li>drop:默认为False，不删除原来索引，如果为True,删除原来的索引值</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 重置索引,drop=False</span>
data<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span>

    index    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
<span class="token number">0</span>    股票_0    <span class="token operator">-</span><span class="token number">0.065440</span>    <span class="token operator">-</span><span class="token number">1.309315</span>    <span class="token operator">-</span><span class="token number">1.454515</span>    <span class="token number">0.579730</span>    <span class="token number">1.486024</span>
<span class="token number">1</span>    股票_1    <span class="token operator">-</span><span class="token number">1.732167</span>    <span class="token operator">-</span><span class="token number">0.834137</span>    <span class="token number">0.458615</span>    <span class="token operator">-</span><span class="token number">0.803918</span>    <span class="token operator">-</span><span class="token number">0.468786</span>
<span class="token number">2</span>    股票_2    <span class="token number">0.218056</span>    <span class="token number">0.199014</span>    <span class="token number">0.713468</span>    <span class="token number">0.548426</span>    <span class="token number">0.386234</span>
<span class="token number">3</span>    股票_3    <span class="token operator">-</span><span class="token number">0.422079</span>    <span class="token operator">-</span><span class="token number">0.337024</span>    <span class="token number">0.423285</span>    <span class="token operator">-</span><span class="token number">1.230792</span>    <span class="token number">1.328438</span>
<span class="token number">4</span>    股票_4    <span class="token operator">-</span><span class="token number">1.725307</span>    <span class="token number">0.075918</span>    <span class="token operator">-</span><span class="token number">1.917084</span>    <span class="token operator">-</span><span class="token number">0.165358</span>    <span class="token number">1.076451</span>
<span class="token number">5</span>    股票_5    <span class="token operator">-</span><span class="token number">0.815768</span>    <span class="token operator">-</span><span class="token number">0.286753</span>    <span class="token number">1.204420</span>    <span class="token number">0.733660</span>    <span class="token operator">-</span><span class="token number">0.062145</span>
<span class="token number">6</span>    股票_6    <span class="token operator">-</span><span class="token number">0.988209</span>    <span class="token operator">-</span><span class="token number">1.018152</span>    <span class="token operator">-</span><span class="token number">0.954173</span>    <span class="token operator">-</span><span class="token number">0.815390</span>    <span class="token number">0.502682</span>
<span class="token number">7</span>    股票_7    <span class="token operator">-</span><span class="token number">0.100341</span>    <span class="token number">0.611962</span>    <span class="token operator">-</span><span class="token number">0.068503</span>    <span class="token number">0.747384</span>    <span class="token number">0.143011</span>
<span class="token number">8</span>    股票_8    <span class="token number">1.000262</span>    <span class="token number">0.342420</span>    <span class="token operator">-</span><span class="token number">2.252971</span>    <span class="token number">0.939211</span>    <span class="token number">1.140803</span>
<span class="token number">9</span>    股票_9    <span class="token number">2.520647</span>    <span class="token number">1.553848</span>    <span class="token number">1.722530</span>    <span class="token number">0.612701</span>    <span class="token number">0.608881</span>
<span class="token comment"># 重置索引,drop=True</span>
data<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span>drop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
<span class="token number">0</span>    <span class="token operator">-</span><span class="token number">0.065440</span>    <span class="token operator">-</span><span class="token number">1.309315</span>    <span class="token operator">-</span><span class="token number">1.454515</span>    <span class="token number">0.579730</span>    <span class="token number">1.486024</span>
<span class="token number">1</span>    <span class="token operator">-</span><span class="token number">1.732167</span>    <span class="token operator">-</span><span class="token number">0.834137</span>    <span class="token number">0.458615</span>    <span class="token operator">-</span><span class="token number">0.803918</span>    <span class="token operator">-</span><span class="token number">0.468786</span>
<span class="token number">2</span>    <span class="token number">0.218056</span>    <span class="token number">0.199014</span>    <span class="token number">0.713468</span>    <span class="token number">0.548426</span>    <span class="token number">0.386234</span>
<span class="token number">3</span>    <span class="token operator">-</span><span class="token number">0.422079</span>    <span class="token operator">-</span><span class="token number">0.337024</span>    <span class="token number">0.423285</span>    <span class="token operator">-</span><span class="token number">1.230792</span>    <span class="token number">1.328438</span>
<span class="token number">4</span>    <span class="token operator">-</span><span class="token number">1.725307</span>    <span class="token number">0.075918</span>    <span class="token operator">-</span><span class="token number">1.917084</span>    <span class="token operator">-</span><span class="token number">0.165358</span>    <span class="token number">1.076451</span>
<span class="token number">5</span>    <span class="token operator">-</span><span class="token number">0.815768</span>    <span class="token operator">-</span><span class="token number">0.286753</span>    <span class="token number">1.204420</span>    <span class="token number">0.733660</span>    <span class="token operator">-</span><span class="token number">0.062145</span>
<span class="token number">6</span>    <span class="token operator">-</span><span class="token number">0.988209</span>    <span class="token operator">-</span><span class="token number">1.018152</span>    <span class="token operator">-</span><span class="token number">0.954173</span>    <span class="token operator">-</span><span class="token number">0.815390</span>    <span class="token number">0.502682</span>
<span class="token number">7</span>    <span class="token operator">-</span><span class="token number">0.100341</span>    <span class="token number">0.611962</span>    <span class="token operator">-</span><span class="token number">0.068503</span>    <span class="token number">0.747384</span>    <span class="token number">0.143011</span>
<span class="token number">8</span>    <span class="token number">1.000262</span>    <span class="token number">0.342420</span>    <span class="token operator">-</span><span class="token number">2.252971</span>    <span class="token number">0.939211</span>    <span class="token number">1.140803</span>
<span class="token number">9</span>    <span class="token number">2.520647</span>    <span class="token number">1.553848</span>    <span class="token number">1.722530</span>    <span class="token number">0.612701</span>    <span class="token number">0.608881</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="以某列值设置为新的索引" tabindex="-1"><a class="header-anchor" href="#以某列值设置为新的索引" aria-hidden="true">#</a> 以某列值设置为新的索引</h4><ul><li>set_index(<em>keys</em>, <em>drop=True</em>) <ul><li><strong>keys</strong> : 列索引名成或者列索引名称的列表</li><li><strong>drop</strong> : boolean, default True.当做新的索引，删除原来的列</li></ul></li><li><strong>设置新索引案例</strong></li></ul><p>1、创建</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&#39;month&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;year&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">2014</span><span class="token punctuation">,</span> <span class="token number">2013</span><span class="token punctuation">,</span> <span class="token number">2014</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;sale&#39;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

   month  sale  year
<span class="token number">0</span>  <span class="token number">1</span>      <span class="token number">55</span>    <span class="token number">2012</span>
<span class="token number">1</span>  <span class="token number">4</span>      <span class="token number">40</span>    <span class="token number">2014</span>
<span class="token number">2</span>  <span class="token number">7</span>      <span class="token number">84</span>    <span class="token number">2013</span>
<span class="token number">3</span>  <span class="token number">10</span>     <span class="token number">31</span>    <span class="token number">2014</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、以月份设置新的索引</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">&#39;month&#39;</span><span class="token punctuation">)</span>
       sale  year
month
<span class="token number">1</span>      <span class="token number">55</span>    <span class="token number">2012</span>
<span class="token number">4</span>      <span class="token number">40</span>    <span class="token number">2014</span>
<span class="token number">7</span>      <span class="token number">84</span>    <span class="token number">2013</span>
<span class="token number">10</span>     <span class="token number">31</span>    <span class="token number">2014</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3、设置多个索引，以年和月份</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;year&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;month&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            sale
year  month
<span class="token number">2012</span>  <span class="token number">1</span>     <span class="token number">55</span>
<span class="token number">2014</span>  <span class="token number">4</span>     <span class="token number">40</span>
<span class="token number">2013</span>  <span class="token number">7</span>     <span class="token number">84</span>
<span class="token number">2014</span>  <span class="token number">10</span>    <span class="token number">31</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注：通过刚才的设置，这样DataFrame就变成了一个具有MultiIndex的DataFrame。</p></blockquote><h3 id="multiindex与panel" tabindex="-1"><a class="header-anchor" href="#multiindex与panel" aria-hidden="true">#</a> MultiIndex与Panel</h3><p>打印刚才的df的行索引结果</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>index

MultiIndex<span class="token punctuation">(</span>levels<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
           labels<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
           names<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;year&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;month&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="multiindex" tabindex="-1"><a class="header-anchor" href="#multiindex" aria-hidden="true">#</a> MultiIndex</h4><p>多级或分层索引对象。</p><ul><li>index属性 <ul><li>names:levels的名称</li><li>levels：每个level的元组值</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>index<span class="token punctuation">.</span>names
FrozenList<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;year&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;month&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

df<span class="token punctuation">.</span>index<span class="token punctuation">.</span>levels
FrozenList<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="panel" tabindex="-1"><a class="header-anchor" href="#panel" aria-hidden="true">#</a> Panel</h4><ul><li>class <code>pandas.Panel</code>(<em>data=None</em>, <em>items=None</em>, <em>major_axis=None</em>, <em>minor_axis=None</em>, <em>copy=False</em>, <em>dtype=None</em>) <ul><li>存储3维数组的Panel结构</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>p <span class="token operator">=</span> pd<span class="token punctuation">.</span>Panel<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 items<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token string">&#39;ABCD&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 major_axis<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">&#39;20130101&#39;</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 minor_axis<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;first&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;second&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
p

<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">&#39;pandas.core.panel.Panel&#39;</span><span class="token operator">&gt;</span>
Dimensions<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">(</span>items<span class="token punctuation">)</span> x <span class="token number">3</span> <span class="token punctuation">(</span>major_axis<span class="token punctuation">)</span> x <span class="token number">2</span> <span class="token punctuation">(</span>minor_axis<span class="token punctuation">)</span>
Items axis<span class="token punctuation">:</span> A to D
Major_axis axis<span class="token punctuation">:</span> <span class="token number">2013</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span> to <span class="token number">2013</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
Minor_axis axis<span class="token punctuation">:</span> first to second
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><em>items</em> - <code>axis 0</code>，每个项目对应于内部包含的数据帧(DataFrame)。</li><li><em>major_axis</em> - <code>axis 1</code>，它是每个数据帧(DataFrame)的索引(行)。</li><li><em>minor_axis</em> - <code>axis 2</code>，它是每个数据帧(DataFrame)的列。</li></ul><p>查看panel数据:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>p[:,:,&quot;first&quot;]
p[&quot;B&quot;,:,:]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>注：Pandas从版本0.20.0开始弃用：推荐的用于表示3D数据的方法是通过DataFrame上的MultiIndex方法</strong></p></blockquote><p><strong>如果获取DataFrame中某个股票的不同时间数据？这样的结构是什么样的？</strong></p><h3 id="series结构" tabindex="-1"><a class="header-anchor" href="#series结构" aria-hidden="true">#</a> Series结构</h3><p>什么是Series结构呢，我们直接看下面的图：</p><p><img src="/assets/series.2e13bda4.png" alt=""></p><ul><li>series结构只有行索引</li></ul><p>我们将之前的涨跌幅数据进行转置，然后获取&#39;股票0&#39;的所有数据</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># series</span>
<span class="token builtin">type</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">&#39;2017-01-02&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
pandas<span class="token punctuation">.</span>core<span class="token punctuation">.</span>series<span class="token punctuation">.</span>Series

<span class="token comment"># 这一步相当于是series去获取行索引的值</span>
data<span class="token punctuation">[</span><span class="token string">&#39;2017-01-02&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;股票_0&#39;</span><span class="token punctuation">]</span>
<span class="token operator">-</span><span class="token number">0.18753158283513574</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="创建series" tabindex="-1"><a class="header-anchor" href="#创建series" aria-hidden="true">#</a> 创建series</h4><p>通过已有数据创建</p><ul><li>指定内容，默认索引</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>指定索引</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">6.7</span><span class="token punctuation">,</span><span class="token number">5.6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>通过字典数据创建</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span>blue<span class="token string">&#39;:200, &#39;</span>green<span class="token string">&#39;: 500, &#39;</span>yellow&#39;<span class="token punctuation">:</span><span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="series获取属性和值" tabindex="-1"><a class="header-anchor" href="#series获取属性和值" aria-hidden="true">#</a> series获取属性和值</h4><ul><li>index</li><li>values</li></ul><h2 id="基本数据操作" tabindex="-1"><a class="header-anchor" href="#基本数据操作" aria-hidden="true">#</a> 基本数据操作</h2><p>为了更好的理解这些基本操作，我们将读取一个真实的股票数据。关于文件操作，后面在介绍，这里只先用一下API</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 读取文件</span>
data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/stock_day.csv&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 删除一些列，让数据更简单些，再去做后面的操作</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;ma5&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ma10&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ma20&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;v_ma5&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;v_ma10&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;v_ma20&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/stockday.2098503e.png" alt=""></p><h3 id="索引操作" tabindex="-1"><a class="header-anchor" href="#索引操作" aria-hidden="true">#</a> 索引操作</h3><p>Numpy当中我们已经讲过使用索引选取序列和切片选择，pandas也支持类似的操作，也可以直接使用列名、行名</p><p>称，甚至组合使用。</p><h4 id="直接使用行列索引-先列后行" tabindex="-1"><a class="header-anchor" href="#直接使用行列索引-先列后行" aria-hidden="true">#</a> <strong>直接使用行列索引(先列后行)</strong></h4><p>获取&#39;2018-02-27&#39;这天的&#39;open&#39;的结果</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 直接使用行列索引名字的方式（先列后行）</span>
data<span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;2018-02-27&#39;</span><span class="token punctuation">]</span>
<span class="token number">23.53</span>

<span class="token comment"># 不支持的操作</span>
<span class="token comment"># 错误</span>
data<span class="token punctuation">[</span><span class="token string">&#39;2018-02-27&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span>
<span class="token comment"># 错误</span>
data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="结合loc或者iloc使用索引" tabindex="-1"><a class="header-anchor" href="#结合loc或者iloc使用索引" aria-hidden="true">#</a> <strong>结合loc或者iloc使用索引</strong></h4><p>获取从&#39;2018-02-27&#39;:&#39;2018-02-22&#39;，&#39;open&#39;的结果</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 使用loc:只能指定行列索引的名字</span>
data<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">&#39;2018-02-27&#39;</span><span class="token punctuation">:</span><span class="token string">&#39;2018-02-22&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span>

<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>
Name<span class="token punctuation">:</span> <span class="token builtin">open</span><span class="token punctuation">,</span> dtype<span class="token punctuation">:</span> float64

<span class="token comment"># 使用iloc可以通过索引的下标去获取</span>
<span class="token comment"># 获取前100天数据的&#39;open&#39;列的结果</span>
data<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token builtin">open</span>    high    close    low
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">25.88</span>    <span class="token number">24.16</span>    <span class="token number">23.53</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>    <span class="token number">23.78</span>    <span class="token number">23.53</span>    <span class="token number">22.80</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>    <span class="token number">23.37</span>    <span class="token number">22.82</span>    <span class="token number">22.71</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="使用ix组合索引" tabindex="-1"><a class="header-anchor" href="#使用ix组合索引" aria-hidden="true">#</a> <strong>使用ix组合索引</strong></h4><blockquote><p>Warning:Starting in 0.20.0, the <code>.ix</code> indexer is deprecated, in favor of the more strict <code>.iloc</code> and <code>.loc</code> indexers.</p></blockquote><p>获取行第1天到第4天，[&#39;open&#39;, &#39;close&#39;, &#39;high&#39;, &#39;low&#39;]这个四个指标的结果</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 使用ix进行下表和名称组合做引</span>
data<span class="token punctuation">.</span>ix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;close&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;high&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;low&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

<span class="token comment"># 推荐使用loc和iloc来获取的方式</span>
data<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>data<span class="token punctuation">.</span>index<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;close&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;high&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;low&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
data<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>columns<span class="token punctuation">.</span>get_indexer<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;close&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;high&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;low&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

            <span class="token builtin">open</span>    close    high    low
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">24.16</span>    <span class="token number">25.88</span>    <span class="token number">23.53</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>    <span class="token number">23.53</span>    <span class="token number">23.78</span>    <span class="token number">22.80</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>    <span class="token number">22.82</span>    <span class="token number">23.37</span>    <span class="token number">22.71</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">22.25</span>    <span class="token number">22.28</span>    <span class="token number">22.76</span>    <span class="token number">22.02</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="赋值操作" tabindex="-1"><a class="header-anchor" href="#赋值操作" aria-hidden="true">#</a> 赋值操作</h3><p>对DataFrame当中的close列进行重新赋值为1</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 直接修改原来的值</span>
data<span class="token punctuation">[</span><span class="token string">&#39;close&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment"># 或者</span>
data<span class="token punctuation">.</span>close <span class="token operator">=</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="排序" tabindex="-1"><a class="header-anchor" href="#排序" aria-hidden="true">#</a> 排序</h3><p>排序有两种形式，一种对于索引进行排序，一种对于内容进行排序</p><ul><li>使用df.sort_values(by=, ascending=) <ul><li>单个键或者多个键进行排序,默认升序</li><li>ascending=False:降序</li><li>ascending=True:升序</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 按照涨跌幅大小进行排序 , 使用ascending指定按照大小排序</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token builtin">open</span>    high    close    low        volume price_change p_change turnover
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">28</span>    <span class="token number">15.40</span>    <span class="token number">16.46</span>    <span class="token number">16.46</span>    <span class="token number">15.00</span>    <span class="token number">117827.60</span>    <span class="token number">1.50</span>    <span class="token number">10.03</span>    <span class="token number">4.03</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">21</span>    <span class="token number">27.50</span>    <span class="token number">28.22</span>    <span class="token number">28.22</span>    <span class="token number">26.50</span>    <span class="token number">121190.11</span>    <span class="token number">2.57</span>    <span class="token number">10.02</span>    <span class="token number">4.15</span>
<span class="token number">2016</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">18.50</span>    <span class="token number">20.42</span>    <span class="token number">20.42</span>    <span class="token number">18.45</span>    <span class="token number">150470.83</span>    <span class="token number">1.86</span>    <span class="token number">10.02</span>    <span class="token number">3.77</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span>    <span class="token number">16.20</span>    <span class="token number">17.35</span>    <span class="token number">17.35</span>    <span class="token number">15.80</span>    <span class="token number">94292.63</span>    <span class="token number">1.58</span>    <span class="token number">10.02</span>    <span class="token number">3.23</span>
<span class="token number">2016</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">07</span>    <span class="token number">18.66</span>    <span class="token number">18.66</span>    <span class="token number">18.66</span>    <span class="token number">18.41</span>    <span class="token number">48756.55</span>    <span class="token number">1.70</span>    <span class="token number">10.02</span>    <span class="token number">1.67</span>

<span class="token comment"># 按照过个键进行排序</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;high&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token builtin">open</span>    high    close    low        volume price_change p_change turnover
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">15</span>    <span class="token number">34.99</span>    <span class="token number">34.99</span>    <span class="token number">31.69</span>    <span class="token number">31.69</span>    <span class="token number">199369.53</span>    <span class="token operator">-</span><span class="token number">3.52</span>    <span class="token operator">-</span><span class="token number">10.00</span>    <span class="token number">6.82</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">12</span>    <span class="token number">34.69</span>    <span class="token number">35.98</span>    <span class="token number">35.21</span>    <span class="token number">34.01</span>    <span class="token number">159825.88</span>    <span class="token number">0.82</span>    <span class="token number">2.38</span>    <span class="token number">5.47</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">10</span>    <span class="token number">34.10</span>    <span class="token number">36.35</span>    <span class="token number">33.85</span>    <span class="token number">32.23</span>    <span class="token number">269033.12</span>    <span class="token number">0.51</span>    <span class="token number">1.53</span>    <span class="token number">9.21</span>
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>    <span class="token number">33.85</span>    <span class="token number">34.34</span>    <span class="token number">33.83</span>    <span class="token number">33.10</span>    <span class="token number">232325.30</span>    <span class="token operator">-</span><span class="token number">0.61</span>    <span class="token operator">-</span><span class="token number">1.77</span>    <span class="token number">5.81</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">11</span>    <span class="token number">33.17</span>    <span class="token number">34.98</span>    <span class="token number">34.39</span>    <span class="token number">32.51</span>    <span class="token number">173075.73</span>    <span class="token number">0.54</span>    <span class="token number">1.59</span>    <span class="token number">5.92</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用df.sort_index给索引进行排序</li></ul><p>这个股票的日期索引原来是从大到小，现在重新排序，从小到大</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 对索引进行排序</span>
data<span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token builtin">open</span>    high    close    low    volume    price_change    p_change    turnover
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>    <span class="token number">12.25</span>    <span class="token number">12.67</span>    <span class="token number">12.52</span>    <span class="token number">12.20</span>    <span class="token number">96291.73</span>    <span class="token number">0.32</span>    <span class="token number">2.62</span>    <span class="token number">3.30</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">03</span>    <span class="token number">12.52</span>    <span class="token number">13.06</span>    <span class="token number">12.70</span>    <span class="token number">12.52</span>    <span class="token number">139071.61</span>    <span class="token number">0.18</span>    <span class="token number">1.44</span>    <span class="token number">4.76</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">04</span>    <span class="token number">12.80</span>    <span class="token number">12.92</span>    <span class="token number">12.90</span>    <span class="token number">12.61</span>    <span class="token number">67075.44</span>    <span class="token number">0.20</span>    <span class="token number">1.57</span>    <span class="token number">2.30</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">05</span>    <span class="token number">12.88</span>    <span class="token number">13.45</span>    <span class="token number">13.16</span>    <span class="token number">12.87</span>    <span class="token number">93180.39</span>    <span class="token number">0.26</span>    <span class="token number">2.02</span>    <span class="token number">3.19</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">06</span>    <span class="token number">13.17</span>    <span class="token number">14.48</span>    <span class="token number">14.28</span>    <span class="token number">13.13</span>    <span class="token number">179831.72</span>    <span class="token number">1.12</span>    <span class="token number">8.51</span>    <span class="token number">6.16</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用series.sort_values(ascending=True)进行排序</li></ul><p>series排序时，只有一列，不需要参数</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>ascending<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">2015</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">01</span>   <span class="token operator">-</span><span class="token number">10.03</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">14</span>   <span class="token operator">-</span><span class="token number">10.02</span>
<span class="token number">2016</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">11</span>   <span class="token operator">-</span><span class="token number">10.02</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">15</span>   <span class="token operator">-</span><span class="token number">10.02</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">26</span>   <span class="token operator">-</span><span class="token number">10.01</span>
Name<span class="token punctuation">:</span> p_change<span class="token punctuation">,</span> dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用series.sort_index()进行排序</li></ul><p>与df一致</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 对索引进行排序</span>
data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>    <span class="token number">2.62</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">03</span>    <span class="token number">1.44</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">04</span>    <span class="token number">1.57</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">05</span>    <span class="token number">2.02</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">06</span>    <span class="token number">8.51</span>
Name<span class="token punctuation">:</span> p_change<span class="token punctuation">,</span> dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dataframe运算" tabindex="-1"><a class="header-anchor" href="#dataframe运算" aria-hidden="true">#</a> DataFrame运算</h2><h3 id="算术运算" tabindex="-1"><a class="header-anchor" href="#算术运算" aria-hidden="true">#</a> 算术运算</h3><ul><li>add(other)</li></ul><p>比如进行数学运算加上具体的一个数字</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">24.53</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">23.80</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">23.88</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">23.25</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">22.49</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>sub(other)</li></ul><p>如果想要得到每天的涨跌大小？求出每天 close- open价格差</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 1、筛选两列数据</span>
close <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">&#39;close&#39;</span><span class="token punctuation">]</span>
open1 <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span>
<span class="token comment"># 2、收盘价减去开盘价</span>
data<span class="token punctuation">[</span><span class="token string">&#39;m_price_change&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> close<span class="token punctuation">.</span>sub<span class="token punctuation">(</span>open1<span class="token punctuation">)</span>
data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token builtin">open</span>     high   close   low   volume  price_change  p_change  turnover my_price_change
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">25.88</span>    <span class="token number">24.16</span>    <span class="token number">23.53</span>    <span class="token number">95578.03</span>    <span class="token number">0.63</span>    <span class="token number">2.68</span>    <span class="token number">2.39</span>    <span class="token number">0.63</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>    <span class="token number">23.78</span>    <span class="token number">23.53</span>    <span class="token number">22.80</span>    <span class="token number">60985.11</span>    <span class="token number">0.69</span>    <span class="token number">3.02</span>    <span class="token number">1.53</span>    <span class="token number">0.73</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>    <span class="token number">23.37</span>    <span class="token number">22.82</span>    <span class="token number">22.71</span>    <span class="token number">52914.01</span>    <span class="token number">0.54</span>    <span class="token number">2.42</span>    <span class="token number">1.32</span>    <span class="token operator">-</span><span class="token number">0.06</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">22.25</span>    <span class="token number">22.76</span>    <span class="token number">22.28</span>    <span class="token number">22.02</span>    <span class="token number">36105.01</span>    <span class="token number">0.36</span>    <span class="token number">1.64</span>    <span class="token number">0.90</span>    <span class="token number">0.03</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">21.49</span>    <span class="token number">21.99</span>    <span class="token number">21.92</span>    <span class="token number">21.48</span>    <span class="token number">23331.04</span>    <span class="token number">0.44</span>    <span class="token number">2.05</span>    <span class="token number">0.58</span>    <span class="token number">0.43</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="逻辑运算" tabindex="-1"><a class="header-anchor" href="#逻辑运算" aria-hidden="true">#</a> 逻辑运算</h3><h4 id="逻辑运算符号-、-、-、" tabindex="-1"><a class="header-anchor" href="#逻辑运算符号-、-、-、" aria-hidden="true">#</a> 逻辑运算符号&lt;、 &gt;、|、 &amp;</h4><ul><li>例如筛选p_change &gt; 2的日期数据 <ul><li>data[&#39;p_change&#39;] &gt; 2返回逻辑结果</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">2</span>

<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>     <span class="token boolean">True</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>     <span class="token boolean">True</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>     <span class="token boolean">True</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token boolean">False</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>     <span class="token boolean">True</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 逻辑判断的结果可以作为筛选的依据</span>
data<span class="token punctuation">[</span>data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">]</span>

pen    high    close    low    volume    price_change    p_change    turnover    my_price_change
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">25.88</span>    <span class="token number">24.16</span>    <span class="token number">23.53</span>    <span class="token number">95578.03</span>    <span class="token number">0.63</span>    <span class="token number">2.68</span>    <span class="token number">2.39</span>    <span class="token number">0.63</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>    <span class="token number">23.78</span>    <span class="token number">23.53</span>    <span class="token number">22.80</span>    <span class="token number">60985.11</span>    <span class="token number">0.69</span>    <span class="token number">3.02</span>    <span class="token number">1.53</span>    <span class="token number">0.73</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>    <span class="token number">23.37</span>    <span class="token number">22.82</span>    <span class="token number">22.71</span>    <span class="token number">52914.01</span>    <span class="token number">0.54</span>    <span class="token number">2.42</span>    <span class="token number">1.32</span>    <span class="token operator">-</span><span class="token number">0.06</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">21.49</span>    <span class="token number">21.99</span>    <span class="token number">21.92</span>    <span class="token number">21.48</span>    <span class="token number">23331.04</span>    <span class="token number">0.44</span>    <span class="token number">2.05</span>    <span class="token number">0.58</span>    <span class="token number">0.43</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">12</span>    <span class="token number">20.70</span>    <span class="token number">21.40</span>    <span class="token number">21.19</span>    <span class="token number">20.63</span>    <span class="token number">32445.39</span>    <span class="token number">0.82</span>    <span class="token number">4.03</span>    <span class="token number">0.81</span>    <span class="token number">0.49</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>完成一个多个逻辑判断， 筛选p_change &gt; 2并且open &gt; 15</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">[</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token builtin">open</span>    high    close    low    volume    price_change    p_change    turnover    my_price_change
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">28.00</span>    <span class="token number">29.89</span>    <span class="token number">29.34</span>    <span class="token number">27.68</span>    <span class="token number">243773.23</span>    <span class="token number">1.10</span>    <span class="token number">3.90</span>    <span class="token number">6.10</span>    <span class="token number">1.34</span>
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">31</span>    <span class="token number">32.62</span>    <span class="token number">35.22</span>    <span class="token number">34.44</span>    <span class="token number">32.20</span>    <span class="token number">361660.88</span>    <span class="token number">2.38</span>    <span class="token number">7.42</span>    <span class="token number">9.05</span>    <span class="token number">1.82</span>
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">31.45</span>    <span class="token number">33.20</span>    <span class="token number">33.11</span>    <span class="token number">31.45</span>    <span class="token number">333824.31</span>    <span class="token number">0.70</span>    <span class="token number">2.16</span>    <span class="token number">8.35</span>    <span class="token number">1.66</span>
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">29.30</span>    <span class="token number">32.70</span>    <span class="token number">32.41</span>    <span class="token number">28.92</span>    <span class="token number">501915.41</span>    <span class="token number">2.68</span>    <span class="token number">9.01</span>    <span class="token number">12.56</span>    <span class="token number">3.11</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="逻辑运算函数" tabindex="-1"><a class="header-anchor" href="#逻辑运算函数" aria-hidden="true">#</a> 逻辑运算函数</h4><ul><li>query(expr) <ul><li>expr:查询字符串</li></ul></li></ul><p>通过query使得刚才的过程更加方便简单</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">&quot;p_change &gt; 2 &amp; turnover &gt; 15&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>isin(values)</li></ul><p>例如判断&#39;turnover&#39;是否为4.19, 2.39</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 可以指定值进行一个判断，从而进行筛选操作</span>
data<span class="token punctuation">[</span>data<span class="token punctuation">[</span><span class="token string">&#39;turnover&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4.19</span><span class="token punctuation">,</span> <span class="token number">2.39</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token builtin">open</span>    high    close    low    volume    price_change    p_change    turnover    my_price_change
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">25.88</span>    <span class="token number">24.16</span>    <span class="token number">23.53</span>    <span class="token number">95578.03</span>    <span class="token number">0.63</span>    <span class="token number">2.68</span>    <span class="token number">2.39</span>    <span class="token number">0.63</span>
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">25</span>    <span class="token number">23.07</span>    <span class="token number">24.20</span>    <span class="token number">23.70</span>    <span class="token number">22.64</span>    <span class="token number">167489.48</span>    <span class="token number">0.67</span>    <span class="token number">2.91</span>    <span class="token number">4.19</span>    <span class="token number">0.63</span>
<span class="token number">2016</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span>    <span class="token number">19.88</span>    <span class="token number">20.98</span>    <span class="token number">20.86</span>    <span class="token number">19.71</span>    <span class="token number">95580.75</span>    <span class="token number">0.98</span>    <span class="token number">4.93</span>    <span class="token number">2.39</span>    <span class="token number">0.98</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span>    <span class="token number">16.54</span>    <span class="token number">17.98</span>    <span class="token number">17.54</span>    <span class="token number">16.50</span>    <span class="token number">122471.85</span>    <span class="token number">0.88</span>    <span class="token number">5.28</span>    <span class="token number">4.19</span>    <span class="token number">1.00</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="统计运算" tabindex="-1"><a class="header-anchor" href="#统计运算" aria-hidden="true">#</a> 统计运算</h3><h4 id="describe" tabindex="-1"><a class="header-anchor" href="#describe" aria-hidden="true">#</a> describe()</h4><p>综合分析: 能够直接得出很多统计结果,<code>count</code>, <code>mean</code>, <code>std</code>, <code>min</code>, <code>max</code> 等</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 计算平均值、标准差、最大值、最小值</span>
data<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/describe结果.9610b20e.png" alt=""></p><h4 id="统计函数" tabindex="-1"><a class="header-anchor" href="#统计函数" aria-hidden="true">#</a> 统计函数</h4><p>Numpy当中已经详细介绍，在这里我们演示min(最小值), max(最大值), mean(平均值), median(中位数), var(方差), std(标准差),mode(众数)结果,</p><table><thead><tr><th><code>count</code></th><th>Number of non-NA observations</th></tr></thead><tbody><tr><td><code>sum</code></td><td><strong>Sum of values</strong></td></tr><tr><td><code>mean</code></td><td><strong>Mean of values</strong></td></tr><tr><td><code>median</code></td><td>Arithmetic median of values</td></tr><tr><td><code>min</code></td><td><strong>Minimum</strong></td></tr><tr><td><code>max</code></td><td><strong>Maximum</strong></td></tr><tr><td><code>mode</code></td><td>Mode</td></tr><tr><td><code>abs</code></td><td>Absolute Value</td></tr><tr><td><code>prod</code></td><td>Product of values</td></tr><tr><td><code>std</code></td><td><strong>Bessel-corrected sample standard deviation</strong></td></tr><tr><td><code>var</code></td><td><strong>Unbiased variance</strong></td></tr><tr><td><code>idxmax</code></td><td>compute the index labels with the maximum</td></tr><tr><td><code>idxmin</code></td><td>compute the index labels with the minimum</td></tr></tbody></table><p><strong>对于单个函数去进行统计的时候，坐标轴还是按照这些默认为“columns” (axis=0, default)，如果要对行“index” 需要指定(axis=1)</strong></p><ul><li>max()、min()</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 使用统计函数：0 代表列求结果， 1 代表行求统计结果</span>
data<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>                   <span class="token number">34.99</span>
high                   <span class="token number">36.35</span>
close                  <span class="token number">35.21</span>
low                    <span class="token number">34.01</span>
volume             <span class="token number">501915.41</span>
price_change            <span class="token number">3.03</span>
p_change               <span class="token number">10.03</span>
turnover               <span class="token number">12.56</span>
my_price_change         <span class="token number">3.41</span>
dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>std()、var()</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 方差</span>
data<span class="token punctuation">.</span>var<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>               <span class="token number">1.545255e+01</span>
high               <span class="token number">1.662665e+01</span>
close              <span class="token number">1.554572e+01</span>
low                <span class="token number">1.437902e+01</span>
volume             <span class="token number">5.458124e+09</span>
price_change       <span class="token number">8.072595e-01</span>
p_change           <span class="token number">1.664394e+01</span>
turnover           <span class="token number">4.323800e+00</span>
my_price_change    <span class="token number">6.409037e-01</span>
dtype<span class="token punctuation">:</span> float64

<span class="token comment"># 标准差</span>
data<span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>                   <span class="token number">3.930973</span>
high                   <span class="token number">4.077578</span>
close                  <span class="token number">3.942806</span>
low                    <span class="token number">3.791968</span>
volume             <span class="token number">73879.119354</span>
price_change           <span class="token number">0.898476</span>
p_change               <span class="token number">4.079698</span>
turnover               <span class="token number">2.079375</span>
my_price_change        <span class="token number">0.800565</span>
dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>median()：中位数</li></ul><p>中位数为将数据从小到大排列，在最中间的那个数为中位数。如果没有中间数，取中间两个数的平均值。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&#39;COL1&#39;</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                   <span class="token string">&#39;COL2&#39;</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

df<span class="token punctuation">.</span>median<span class="token punctuation">(</span><span class="token punctuation">)</span>

COL1    <span class="token number">3.5</span>
COL2    <span class="token number">2.0</span>
dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>idxmax()、idxmin()</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 求出最大值的位置</span>
data<span class="token punctuation">.</span>idxmax<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>               <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">15</span>
high               <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">10</span>
close              <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">12</span>
low                <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">12</span>
volume             <span class="token number">2017</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">26</span>
price_change       <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span>
p_change           <span class="token number">2015</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">28</span>
turnover           <span class="token number">2017</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">26</span>
my_price_change    <span class="token number">2015</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">10</span>
dtype<span class="token punctuation">:</span> <span class="token builtin">object</span>


<span class="token comment"># 求出最小值的位置</span>
data<span class="token punctuation">.</span>idxmin<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>               <span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>
high               <span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>
close              <span class="token number">2015</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">02</span>
low                <span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>
volume             <span class="token number">2016</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">06</span>
price_change       <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">15</span>
p_change           <span class="token number">2015</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">01</span>
turnover           <span class="token number">2016</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">06</span>
my_price_change    <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">15</span>
dtype<span class="token punctuation">:</span> <span class="token builtin">object</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="累计统计函数" tabindex="-1"><a class="header-anchor" href="#累计统计函数" aria-hidden="true">#</a> 累计统计函数</h3><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td><code>cumsum</code></td><td><strong>计算前1/2/3/…/n个数的和</strong></td></tr><tr><td><code>cummax</code></td><td>计算前1/2/3/…/n个数的最大值</td></tr><tr><td><code>cummin</code></td><td>计算前1/2/3/…/n个数的最小值</td></tr><tr><td><code>cumprod</code></td><td>计算前1/2/3/…/n个数的积</td></tr></tbody></table><p><strong>那么这些累计统计函数怎么用？</strong></p><p><img src="/assets/cumsum1.d5f58c0e.png" alt=""></p><p>以上这些函数可以对series和dataframe操作</p><p>这里我们按照时间的从前往后来进行累计</p><ul><li>排序</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 排序之后，进行累计求和</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>对p_change进行求和</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>stock_rise <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span>
<span class="token comment"># plot方法集成了前面直方图、条形图、饼图、折线图</span>
stock_rise<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>      <span class="token number">2.62</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">03</span>      <span class="token number">4.06</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">04</span>      <span class="token number">5.63</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">05</span>      <span class="token number">7.65</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">06</span>     <span class="token number">16.16</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">09</span>     <span class="token number">16.37</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">10</span>     <span class="token number">18.75</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">11</span>     <span class="token number">16.36</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">12</span>     <span class="token number">15.03</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">13</span>     <span class="token number">17.58</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">16</span>     <span class="token number">20.34</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">17</span>     <span class="token number">22.42</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">18</span>     <span class="token number">23.28</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span>     <span class="token number">23.74</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">20</span>     <span class="token number">23.48</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">23</span>     <span class="token number">23.74</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>那么如何让这个连续求和的结果更好的显示呢？</strong></p><p><img src="/assets/cumsum.c56b9a8e.png" alt=""></p><p>如果要使用plot函数，需要导入matplotlib.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token comment"># plot显示图形</span>
stock_rise<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 需要调用show，才能显示出结果</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>关于plot，稍后会介绍API的选择</p></blockquote><h3 id="自定义运算" tabindex="-1"><a class="header-anchor" href="#自定义运算" aria-hidden="true">#</a> 自定义运算</h3><ul><li>apply(func, axis=0) <ul><li>func:自定义函数</li><li>axis=0:默认是列，axis=1为行进行运算</li></ul></li><li>定义一个对列，最大值-最小值的函数</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;close&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> x<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>     <span class="token number">22.74</span>
close    <span class="token number">22.85</span>
dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="pandas画图" tabindex="-1"><a class="header-anchor" href="#pandas画图" aria-hidden="true">#</a> Pandas画图</h2><h3 id="pandas-dataframe-plot" tabindex="-1"><a class="header-anchor" href="#pandas-dataframe-plot" aria-hidden="true">#</a> pandas.DataFrame.plot</h3><ul><li><code>DataFrame.plot</code>(<em>x=None</em>, <em>y=None</em>, <em>kind=&#39;line&#39;</em>) <ul><li>x : label or position, default None</li><li>y : label, position or list of label, positions, default None <ul><li>Allows plotting of one column versus another</li></ul></li><li>kind : str <ul><li>‘line’ : line plot (default)</li><li>‘bar’ : vertical bar plot</li><li>‘barh’ : horizontal bar plot <ul><li>关于“barh”的解释：</li><li>http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.plot.barh.html</li></ul></li><li>‘hist’ : histogram</li><li>‘pie’ : pie plot</li><li>‘scatter’ : scatter plot</li></ul></li></ul></li></ul><blockquote><p>更多参数细节：https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.plot.html?highlight=plot#pandas.DataFrame.plot</p></blockquote><h3 id="pandas-series-plot" tabindex="-1"><a class="header-anchor" href="#pandas-series-plot" aria-hidden="true">#</a> pandas.Series.plot</h3><blockquote><p>更多参数细节：https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.plot.html?highlight=plot#pandas.Series.plot</p></blockquote><h2 id="文件读取与存储" tabindex="-1"><a class="header-anchor" href="#文件读取与存储" aria-hidden="true">#</a> 文件读取与存储</h2><p>我们的数据大部分存在于文件当中，所以pandas会支持复杂的IO操作，pandas的API支持众多的文件格式，如CSV、SQL、XLS、JSON、HDF5。</p><blockquote><p>注：最常用的HDF5和CSV文件</p></blockquote><p><img src="/assets/读取存储.3c9e11ec.png" alt=""></p><h3 id="csv" tabindex="-1"><a class="header-anchor" href="#csv" aria-hidden="true">#</a> CSV</h3><h4 id="read-csv" tabindex="-1"><a class="header-anchor" href="#read-csv" aria-hidden="true">#</a> read_csv</h4><ul><li>pandas.read_csv(filepath_or_buffer, sep =&#39;,&#39; ) <ul><li>filepath_or_buffer:文件路径</li><li>usecols:指定读取的列名，列表形式</li></ul></li></ul><p>读取之前的股票的数据</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 读取文件,并且指定只获取&#39;open&#39;, &#39;close&#39;指标</span>
data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/stock_day.csv&quot;</span><span class="token punctuation">,</span> usecols<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;close&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

            <span class="token builtin">open</span>    high    close
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">25.88</span>    <span class="token number">24.16</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>    <span class="token number">23.78</span>    <span class="token number">23.53</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>    <span class="token number">23.37</span>    <span class="token number">22.82</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">22.25</span>    <span class="token number">22.76</span>    <span class="token number">22.28</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">21.49</span>    <span class="token number">21.99</span>    <span class="token number">21.92</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="to-csv" tabindex="-1"><a class="header-anchor" href="#to-csv" aria-hidden="true">#</a> to_csv</h4><ul><li>DataFrame.to_csv(path_or_buf=None, sep=&#39;, ’, columns=None, header=True, index=True, mode=&#39;w&#39;, encoding=None) <ul><li>path_or_buf :string or file handle, default None</li><li>sep :character, default ‘,’</li><li>columns :sequence, optional</li><li>mode:&#39;w&#39;：重写, &#39;a&#39; 追加</li><li>index:是否写进行索引</li><li>header :boolean or list of string, default True,是否写进列索引值</li></ul></li></ul><h4 id="案例-1" tabindex="-1"><a class="header-anchor" href="#案例-1" aria-hidden="true">#</a> 案例</h4><ul><li>保存&#39;open&#39;列的数据</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 选取10行数据保存,便于观察数据</span>
data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/test.csv&quot;</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>读取，查看结果</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/test.csv&quot;</span><span class="token punctuation">)</span>

     Unnamed<span class="token punctuation">:</span> <span class="token number">0</span>    <span class="token builtin">open</span>
<span class="token number">0</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>
<span class="token number">1</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>
<span class="token number">2</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>
<span class="token number">3</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">22.25</span>
<span class="token number">4</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">21.49</span>
<span class="token number">5</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">13</span>    <span class="token number">21.40</span>
<span class="token number">6</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">12</span>    <span class="token number">20.70</span>
<span class="token number">7</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">09</span>    <span class="token number">21.20</span>
<span class="token number">8</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">08</span>    <span class="token number">21.79</span>
<span class="token number">9</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">07</span>    <span class="token number">22.69</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>会发现将索引存入到文件当中，变成单独的一列数据。如果需要删除，可以指定index参数,删除原来的文件，重新保存一次。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># index:存储不会讲索引值变成一列数据</span>
data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/test.csv&quot;</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="hdf5" tabindex="-1"><a class="header-anchor" href="#hdf5" aria-hidden="true">#</a> HDF5</h3><h4 id="read-hdf与to-hdf" tabindex="-1"><a class="header-anchor" href="#read-hdf与to-hdf" aria-hidden="true">#</a> read_hdf与to_hdf</h4><p><strong>HDF5文件的读取和存储需要指定一个键，值为要存储的DataFrame</strong></p><ul><li><p>pandas.read_hdf(path_or_buf，key =None，** kwargs)</p><p>从h5文件当中读取数据</p><ul><li>path_or_buffer:文件路径</li><li>key:读取的键</li><li>return:Theselected object</li></ul></li><li><p>DataFrame.to_hdf(path_or_buf, <em>key</em>, **/<em>kwargs</em>)</p></li></ul><h4 id="案例-2" tabindex="-1"><a class="header-anchor" href="#案例-2" aria-hidden="true">#</a> 案例</h4><ul><li>读取文件</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>day_eps_ttm <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_hdf<span class="token punctuation">(</span><span class="token string">&quot;./data/stock_data/day/day_eps_ttm.h5&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果读取的时候出现以下错误</p><p><img src="/assets/readh5.df5d38f8.png" alt=""></p><p>需要安装安装tables模块避免不能读取HDF5文件</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pip install tables
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/tables.def2e4cf.png" alt=""></p><ul><li>存储文件</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>day_eps_ttm<span class="token punctuation">.</span>to_hdf<span class="token punctuation">(</span><span class="token string">&quot;./data/test.h5&quot;</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token string">&quot;day_eps_ttm&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>再次读取的时候, 需要指定键的名字</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>new_eps <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_hdf<span class="token punctuation">(</span><span class="token string">&quot;./data/test.h5&quot;</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token string">&quot;day_eps_ttm&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="json" tabindex="-1"><a class="header-anchor" href="#json" aria-hidden="true">#</a> JSON</h3><p>JSON是我们常用的一种数据交换格式，前面在前后端的交互经常用到，也会在存储的时候选择这种格式。所以我们需要知道Pandas如何进行读取和存储JSON格式。</p><h4 id="read-json" tabindex="-1"><a class="header-anchor" href="#read-json" aria-hidden="true">#</a> read_json</h4><ul><li><p>pandas.read_json(path_or_buf=None, orient=None, typ=&#39;frame&#39;, lines=False)</p><ul><li><p>将JSON格式准换成默认的Pandas DataFrame格式</p></li><li><p>orient : string,Indication of expected JSON string format.</p><ul><li><p>&#39;split&#39; : dict like {index -&gt; [index], columns -&gt; [columns], data -&gt; [values]}</p><ul><li>split 将索引总结到索引，列名到列名，数据到数据。将三部分都分开了</li></ul></li><li><p>&#39;records&#39; : list like [{column -&gt; value}, ... , {column -&gt; value}]</p><ul><li>records 以<code>columns：values</code>的形式输出</li></ul></li><li><p>&#39;index&#39; : dict like {index -&gt; {column -&gt; value}}</p><ul><li>index 以<code>index：{columns：values}...</code>的形式输出</li></ul></li><li><p>&#39;columns&#39; : dict like {column -&gt; {index -&gt; value}}</p><p>,默认该格式</p><ul><li>colums 以<code>columns:{index:values}</code>的形式输出</li></ul></li><li><p>&#39;values&#39; : just the values array</p><ul><li>values 直接输出值</li></ul></li></ul></li><li><p>lines : boolean, default False</p><ul><li>按照每行读取json对象</li></ul></li><li><p>typ : default ‘frame’， 指定转换成的对象类型series或者dataframe</p></li></ul></li></ul><h4 id="read-josn-案例" tabindex="-1"><a class="header-anchor" href="#read-josn-案例" aria-hidden="true">#</a> read_josn 案例</h4><ul><li>数据介绍</li></ul><p>这里使用一个新闻标题讽刺数据集，格式为json。<code>is_sarcastic</code>：1讽刺的，否则为0；<code>headline</code>：新闻报道的标题；<code>article_link</code>：链接到原始新闻文章。存储格式为：</p><div class="language-jso ext-jso line-numbers-mode"><pre class="language-jso"><code>{&quot;article_link&quot;: &quot;https://www.huffingtonpost.com/entry/versace-black-code_us_5861fbefe4b0de3a08f600d5&quot;, &quot;headline&quot;: &quot;former versace store clerk sues over secret &#39;black code&#39; for minority shoppers&quot;, &quot;is_sarcastic&quot;: 0}
{&quot;article_link&quot;: &quot;https://www.huffingtonpost.com/entry/roseanne-revival-review_us_5ab3a497e4b054d118e04365&quot;, &quot;headline&quot;: &quot;the &#39;roseanne&#39; revival catches up to our thorny political mood, for better and worse&quot;, &quot;is_sarcastic&quot;: 0}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>读取</li></ul><p>orient指定存储的json格式，lines指定按照行去变成一个样本</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>json_read <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_json<span class="token punctuation">(</span><span class="token string">&quot;./data/Sarcasm_Headlines_Dataset.json&quot;</span><span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">&quot;records&quot;</span><span class="token punctuation">,</span> lines<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>结果为：</p><p><img src="/assets/新闻标题讽刺读取.5d30460f.png" alt=""></p><h4 id="to-json" tabindex="-1"><a class="header-anchor" href="#to-json" aria-hidden="true">#</a> to_json</h4><ul><li>DataFrame.to_json(<em>path_or_buf=None</em>, <em>orient=None</em>, <em>lines=False</em>) <ul><li>将Pandas 对象存储为json格式</li><li><em>path_or_buf=None</em>：文件地址</li><li>orient:存储的json形式，{‘split’,’records’,’index’,’columns’,’values’}</li><li>lines:一个对象存储为一行</li></ul></li></ul><h4 id="案例-3" tabindex="-1"><a class="header-anchor" href="#案例-3" aria-hidden="true">#</a> 案例</h4><ul><li>存储文件</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>json_read<span class="token punctuation">.</span>to_json<span class="token punctuation">(</span><span class="token string">&quot;./data/test.json&quot;</span><span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">&#39;records&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>结果</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//versace-black-code_us_5861fbefe4b0de3a08f600d5&quot;,&quot;headline&quot;:&quot;former versace store clerk sues over secret &#39;black code&#39; for minority shoppers&quot;,&quot;is_sarcastic&quot;:0},{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//roseanne-revival-review_us_5ab3a497e4b054d118e04365&quot;,&quot;headline&quot;:&quot;the &#39;roseanne&#39; revival catches up to our thorny political mood, for better and worse&quot;,&quot;is_sarcastic&quot;:0},{&quot;article_link&quot;:&quot;https:////local.theonion.com//mom-starting-to-fear-son-s-web-series-closest-thing-she-1819576697&quot;,&quot;headline&quot;:&quot;mom starting to fear son&#39;s web series closest thing she will have to grandchild&quot;,&quot;is_sarcastic&quot;:1},{&quot;article_link&quot;:&quot;https:////politics.theonion.com//boehner-just-wants-wife-to-listen-not-come-up-with-alt-1819574302&quot;,&quot;headline&quot;:&quot;boehner just wants wife to listen, not come up with alternative debt-reduction ideas&quot;,&quot;is_sarcastic&quot;:1},{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//jk-rowling-wishes-snape-happy-birthday_us_569117c4e4b0cad15e64fdcb&quot;,&quot;headline&quot;:&quot;j.k. rowling wishes snape happy birthday in the most magical way&quot;,&quot;is_sarcastic&quot;:0},{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//advancing-the-worlds-women_b_6810038.html&quot;,&quot;headline&quot;:&quot;advancing the world&#39;s women&quot;,&quot;is_sarcastic&quot;:0},....]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>修改lines参数为True</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>json_read<span class="token punctuation">.</span>to_json<span class="token punctuation">(</span><span class="token string">&quot;./data/test.json&quot;</span><span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">&#39;records&#39;</span><span class="token punctuation">,</span> lines<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>结果</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//versace-black-code_us_5861fbefe4b0de3a08f600d5&quot;,&quot;headline&quot;:&quot;former versace store clerk sues over secret &#39;black code&#39; for minority shoppers&quot;,&quot;is_sarcastic&quot;:0}
{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//roseanne-revival-review_us_5ab3a497e4b054d118e04365&quot;,&quot;headline&quot;:&quot;the &#39;roseanne&#39; revival catches up to our thorny political mood, for better and worse&quot;,&quot;is_sarcastic&quot;:0}
{&quot;article_link&quot;:&quot;https:////local.theonion.com//mom-starting-to-fear-son-s-web-series-closest-thing-she-1819576697&quot;,&quot;headline&quot;:&quot;mom starting to fear son&#39;s web series closest thing she will have to grandchild&quot;,&quot;is_sarcastic&quot;:1}
{&quot;article_link&quot;:&quot;https:////politics.theonion.com//boehner-just-wants-wife-to-listen-not-come-up-with-alt-1819574302&quot;,&quot;headline&quot;:&quot;boehner just wants wife to listen, not come up with alternative debt-reduction ideas&quot;,&quot;is_sarcastic&quot;:1}
{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//jk-rowling-wishes-snape-happy-birthday_us_569117c4e4b0cad15e64fdcb&quot;,&quot;headline&quot;:&quot;j.k. rowling wishes snape happy birthday in the most magical way&quot;,&quot;is_sarcastic&quot;:0}...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="拓展" tabindex="-1"><a class="header-anchor" href="#拓展" aria-hidden="true">#</a> 拓展</h3><p><strong>优先选择使用HDF5文件存储</strong></p><ul><li>HDF5在存储的时候支持压缩，<strong>使用的方式是blosc，这个是速度最快</strong>的也是pandas默认支持的</li><li>使用压缩可以<strong>提磁盘利用率，节省空间</strong></li><li>HDF5还是跨平台的，可以轻松迁移到hadoop 上面</li></ul><h2 id="高级处理-缺失值处理" tabindex="-1"><a class="header-anchor" href="#高级处理-缺失值处理" aria-hidden="true">#</a> 高级处理-缺失值处理</h2><p><img src="/assets/缺失值.edec4185.png" alt=""></p><h3 id="如何处理nan" tabindex="-1"><a class="header-anchor" href="#如何处理nan" aria-hidden="true">#</a> 如何处理nan</h3><ul><li>判断数据是否为NaN： <ul><li>pd.isnull(df),</li><li>pd.notnull(df)</li></ul></li><li>处理方式： <ul><li>存在缺失值nan,并且是np.nan: <ul><li>1、删除存在缺失值的:dropna(axis=&#39;rows&#39;) <ul><li>注：不会修改原数据，需要接受返回值</li></ul></li><li>2、替换缺失值:fillna(value, inplace=True) <ul><li>value:替换成的值</li><li>inplace:True:会修改原数据，False:不替换修改原数据，生成新的对象</li></ul></li></ul></li><li>不是缺失值nan，有默认标记的</li></ul></li></ul><h3 id="电影数据的缺失值处理" tabindex="-1"><a class="header-anchor" href="#电影数据的缺失值处理" aria-hidden="true">#</a> 电影数据的缺失值处理</h3><ul><li>电影数据文件获取</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 读取电影数据</span>
movie <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/IMDB-Movie-Data.csv&quot;</span><span class="token punctuation">)</span>
<span class="token number">989</span>    Martyrs    Horror    A young woman&#39;s quest <span class="token keyword">for</span> revenge against the <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    Pascal Laugier    Morjana Alaoui<span class="token punctuation">,</span> Mylène Jampanoï<span class="token punctuation">,</span> Catherine Bég<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token number">2008</span>    <span class="token number">99</span>    <span class="token number">7.1</span>    <span class="token number">63785</span>    NaN    <span class="token number">89.0</span>
<span class="token number">990</span>    Selma    Biography<span class="token punctuation">,</span>Drama<span class="token punctuation">,</span>History    A chronicle of Martin Luther King&#39;s campaign t<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    Ava DuVernay    David Oyelowo<span class="token punctuation">,</span> Carmen Ejogo<span class="token punctuation">,</span> Tim Roth<span class="token punctuation">,</span> Lorrain<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token number">2014</span>    <span class="token number">128</span>    <span class="token number">7.5</span>    <span class="token number">67637</span>    <span class="token number">52.07</span>    NaN
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="判断缺失值是否存在" tabindex="-1"><a class="header-anchor" href="#判断缺失值是否存在" aria-hidden="true">#</a> 判断缺失值是否存在</h4><ul><li>pd.notnull()</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>pd.notnull(movie)
Rank    Title    Genre    Description    Director    Actors    Year    Runtime (Minutes)    Rating    Votes    Revenue (Millions)    Metascore
0    True    True    True    True    True    True    True    True    True    True    True    True
1    True    True    True    True    True    True    True    True    True    True    True    True
2    True    True    True    True    True    True    True    True    True    True    True    True
3    True    True    True    True    True    True    True    True    True    True    True    True
4    True    True    True    True    True    True    True    True    True    True    True    True
5    True    True    True    True    True    True    True    True    True    True    True    True
6    True    True    True    True    True    True    True    True    True    True    True    True
7    True    True    True    True    True    True    True    True    True    True    False    True
np.all(pd.notnull(movie))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="存在缺失值nan-并且是np-nan" tabindex="-1"><a class="header-anchor" href="#存在缺失值nan-并且是np-nan" aria-hidden="true">#</a> 存在缺失值nan,并且是np.nan</h4><ul><li>1、删除</li></ul><p>pandas删除缺失值，使用dropna的前提是，缺失值的类型必须是np.nan</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 不修改原数据</span>
movie<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 可以定义新的变量接受或者用原来的变量名</span>
data <span class="token operator">=</span> movie<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>2、替换缺失值</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 替换存在缺失值的样本的两列</span>
<span class="token comment"># 替换填充平均值，中位数</span>
<span class="token comment"># movie[&#39;Revenue (Millions)&#39;].fillna(movie[&#39;Revenue (Millions)&#39;].mean(), inplace=True)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>替换所有缺失值：</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">for</span> i <span class="token keyword">in</span> movie<span class="token punctuation">.</span>columns<span class="token punctuation">:</span>
    <span class="token keyword">if</span> np<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span>pd<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span>movie<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        movie<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>movie<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="不是缺失值nan-有默认标记的" tabindex="-1"><a class="header-anchor" href="#不是缺失值nan-有默认标记的" aria-hidden="true">#</a> 不是缺失值nan，有默认标记的</h4><p>数据是这样的：</p><p><img src="/assets/问号缺失值.6ad6a6e2.png" alt=""></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>wis <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>以上数据在读取时，可能会报如下错误：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>URLError: &lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:833)&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>解决办法：</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 全局取消证书验证</span>
<span class="token keyword">import</span> ssl
ssl<span class="token punctuation">.</span>_create_default_https_context <span class="token operator">=</span> ssl<span class="token punctuation">.</span>_create_unverified_context
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>处理思路分析：</strong></p><ul><li>1、先替换‘?’为np.nan <ul><li>df.replace(to_replace=, value=) <ul><li>to_replace:替换前的值</li><li>value:替换后的值</li></ul></li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 把一些其它值标记的缺失值，替换成np.nan</span>
wis <span class="token operator">=</span> wis<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>to_replace<span class="token operator">=</span><span class="token string">&#39;?&#39;</span><span class="token punctuation">,</span> value<span class="token operator">=</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>2、在进行缺失值的处理</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 删除</span>
wis <span class="token operator">=</span> wis<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="高级处理-数据离散化" tabindex="-1"><a class="header-anchor" href="#高级处理-数据离散化" aria-hidden="true">#</a> 高级处理-数据离散化</h2><h3 id="为什么要离散化" tabindex="-1"><a class="header-anchor" href="#为什么要离散化" aria-hidden="true">#</a> 为什么要离散化</h3><p>连续属性离散化的目的是为了简化数据结构，<strong>数据离散化技术可以用来减少给定连续属性值的个数</strong>。离散化方法经常作为数据挖掘的工具。</p><h3 id="什么是数据的离散化" tabindex="-1"><a class="header-anchor" href="#什么是数据的离散化" aria-hidden="true">#</a> 什么是数据的离散化</h3><p><strong>连续属性的离散化就是在连续属性的值域上，将值域划分为若干个离散的区间，最后用不同的符号或整数</strong> <strong>值代表落在每个子区间中的属性值。</strong></p><p>离散化有很多种方法，这使用一种最简单的方式去操作</p><ul><li>原始人的身高数据：165，174，160，180，159，163，192，184</li><li>假设按照身高分几个区间段：150~165, 165~180,180~195</li></ul><p>这样我们将数据分到了三个区间段，我可以对应的标记为矮、中、高三个类别，最终要处理成一个&quot;哑变量&quot;矩阵</p><p><img src="/assets/哑变量矩阵.d5cfbd9a.png" alt=""></p><h3 id="股票的涨跌幅离散化" tabindex="-1"><a class="header-anchor" href="#股票的涨跌幅离散化" aria-hidden="true">#</a> 股票的涨跌幅离散化</h3><p>我们对股票每日的&quot;p_change&quot;进行离散化</p><h4 id="读取股票的数据" tabindex="-1"><a class="header-anchor" href="#读取股票的数据" aria-hidden="true">#</a> 读取股票的数据</h4><p>先读取股票的数据，筛选出p_change数据</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/stock_day.csv&quot;</span><span class="token punctuation">)</span>
p_change<span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="将股票涨跌幅数据进行分组" tabindex="-1"><a class="header-anchor" href="#将股票涨跌幅数据进行分组" aria-hidden="true">#</a> 将股票涨跌幅数据进行分组</h4><p><img src="/assets/股票涨跌幅分组.c9d85ea8.png" alt=""></p><p>使用的工具：</p><ul><li>pd.qcut(data, bins)： <ul><li>对数据进行分组将数据分组 一般会与value_counts搭配使用，统计每组的个数</li></ul></li><li>series.value_counts()：统计分组次数</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 自行分组</span>
qcut <span class="token operator">=</span> pd<span class="token punctuation">.</span>qcut<span class="token punctuation">(</span>p_change<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment"># 计算分到每个组数据个数</span>
qcut<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>自定义区间分组：</p><ul><li>pd.cut(data, bins)</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 自己指定分组区间</span>
bins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span>
p_counts <span class="token operator">=</span> pd<span class="token punctuation">.</span>cut<span class="token punctuation">(</span>p_change<span class="token punctuation">,</span> bins<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="股票涨跌幅分组数据变成one-hot编码" tabindex="-1"><a class="header-anchor" href="#股票涨跌幅分组数据变成one-hot编码" aria-hidden="true">#</a> 股票涨跌幅分组数据变成one-hot编码</h4><ul><li><strong>什么是one-hot编码</strong></li></ul><p>把每个类别生成一个布尔列，这些列中只有一列可以为这个样本取值为1.其又被称为热编码。</p><p>把下图中左边的表格转化为使用右边形式进行表示：</p><p><img src="/assets/one_hot编码.e282d3a3.png" alt=""></p><ul><li>pandas.get_dummies(<em>data</em>, <em>prefix=None</em>) <ul><li>data:array-like, Series, or DataFrame</li><li>prefix:分组名字</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 得出one-hot编码矩阵</span>
dummies <span class="token operator">=</span> pd<span class="token punctuation">.</span>get_dummies<span class="token punctuation">(</span>p_counts<span class="token punctuation">,</span> prefix<span class="token operator">=</span><span class="token string">&quot;rise&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/哑变量矩阵.d5cfbd9a.png" alt=""></p><h2 id="高级处理-合并" tabindex="-1"><a class="header-anchor" href="#高级处理-合并" aria-hidden="true">#</a> 高级处理-合并</h2><p><strong>如果你的数据由多张表组成，那么有时候需要将不同的内容合并在一起分析</strong></p><h3 id="pd-concat实现数据合并" tabindex="-1"><a class="header-anchor" href="#pd-concat实现数据合并" aria-hidden="true">#</a> pd.concat实现数据合并</h3><ul><li>pd.concat([data1, data2], axis=1) <ul><li>按照行或列进行合并,axis=0为列索引，axis=1为行索引</li></ul></li></ul><p>比如我们将刚才处理好的one-hot编码与原数据合并</p><p><img src="/assets/股票哑变量合并.b12cb6ea.png" alt=""></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 按照行索引进行</span>
pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>data<span class="token punctuation">,</span> dummies<span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pd-merge" tabindex="-1"><a class="header-anchor" href="#pd-merge" aria-hidden="true">#</a> pd.merge</h3><ul><li>pd.merge(left, right, how=&#39;inner&#39;, on=None, left_on=None, right_on=None) <ul><li>可以指定按照两组数据的共同键值对合并或者左右各自</li><li><code>left</code>: A DataFrame object</li><li><code>right</code>: Another DataFrame object</li><li><code>on</code>: Columns (names) to join on. Must be found in both the left and right DataFrame objects.</li><li>left_on=None, right_on=None：指定左右键</li></ul></li></ul><table><thead><tr><th>Merge method</th><th>SQL Join Name</th><th>Description</th></tr></thead><tbody><tr><td><code>left</code></td><td><code>LEFT OUTER JOIN</code></td><td>Use keys from left frame only</td></tr><tr><td><code>right</code></td><td><code>RIGHT OUTER JOIN</code></td><td>Use keys from right frame only</td></tr><tr><td><code>outer</code></td><td><code>FULL OUTER JOIN</code></td><td>Use union of keys from both frames</td></tr><tr><td><code>inner</code></td><td><code>INNER JOIN</code></td><td>Use intersection of keys from both frames</td></tr></tbody></table><h3 id="pd-merge合并" tabindex="-1"><a class="header-anchor" href="#pd-merge合并" aria-hidden="true">#</a> pd.merge合并</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>left = pd.DataFrame({&#39;key1&#39;: [&#39;K0&#39;, &#39;K0&#39;, &#39;K1&#39;, &#39;K2&#39;],
                        &#39;key2&#39;: [&#39;K0&#39;, &#39;K1&#39;, &#39;K0&#39;, &#39;K1&#39;],
                        &#39;A&#39;: [&#39;A0&#39;, &#39;A1&#39;, &#39;A2&#39;, &#39;A3&#39;],
                        &#39;B&#39;: [&#39;B0&#39;, &#39;B1&#39;, &#39;B2&#39;, &#39;B3&#39;]})

right = pd.DataFrame({&#39;key1&#39;: [&#39;K0&#39;, &#39;K1&#39;, &#39;K1&#39;, &#39;K2&#39;],
                        &#39;key2&#39;: [&#39;K0&#39;, &#39;K0&#39;, &#39;K0&#39;, &#39;K0&#39;],
                        &#39;C&#39;: [&#39;C0&#39;, &#39;C1&#39;, &#39;C2&#39;, &#39;C3&#39;],
                        &#39;D&#39;: [&#39;D0&#39;, &#39;D1&#39;, &#39;D2&#39;, &#39;D3&#39;]})

# 默认内连接
result = pd.merge(left, right, on=[&#39;key1&#39;, &#39;key2&#39;])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/内连接.b0ef5700.png" alt=""></p><ul><li>左连接</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>result <span class="token operator">=</span> pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">&#39;left&#39;</span><span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;key1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;key2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/左连接.8b78c0b6.png" alt=""></p><ul><li>右连接</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>result <span class="token operator">=</span> pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">&#39;right&#39;</span><span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;key1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;key2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/右连接.53a748de.png" alt=""></p><ul><li>外链接</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>result <span class="token operator">=</span> pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">&#39;outer&#39;</span><span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;key1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;key2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/外链接.1b4ae5ac.png" alt=""></p><h2 id="高级处理-交叉表与透视表" tabindex="-1"><a class="header-anchor" href="#高级处理-交叉表与透视表" aria-hidden="true">#</a> 高级处理-交叉表与透视表</h2><h3 id="交叉表与透视表什么作用" tabindex="-1"><a class="header-anchor" href="#交叉表与透视表什么作用" aria-hidden="true">#</a> 交叉表与透视表什么作用</h3><p><strong>探究股票的涨跌与星期几有关？</strong></p><p><strong>以下图当中表示，week代表星期几，1,0代表这一天股票的涨跌幅是好还是坏，里面的数据代表比例</strong></p><p><strong>可以理解为所有时间为星期一等等的数据当中涨跌幅好坏的比例</strong></p><p><img src="/assets/交叉表透视表作用.9d099122.png" alt=""></p><p><img src="/assets/crosstab.8385793a.png" alt=""></p><h3 id="使用crosstab-交叉表-实现上图" tabindex="-1"><a class="header-anchor" href="#使用crosstab-交叉表-实现上图" aria-hidden="true">#</a> 使用crosstab(交叉表)实现上图</h3><ul><li><p>交叉表：</p><p>交叉表用于计算一列数据对于另外一列数据的分组个数(寻找两个列之间的关系)</p><ul><li>pd.crosstab(value1, value2)</li><li>DataFrame.pivot_table([], index=[])</li></ul></li></ul><h3 id="案例分析" tabindex="-1"><a class="header-anchor" href="#案例分析" aria-hidden="true">#</a> 案例分析</h3><h4 id="数据准备" tabindex="-1"><a class="header-anchor" href="#数据准备" aria-hidden="true">#</a> 数据准备</h4><ul><li>准备两列数据，星期数据以及涨跌幅是好是坏数据</li><li>进行交叉表计算</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 寻找星期几跟股票张得的关系</span>
<span class="token comment"># 1、先把对应的日期找到星期几</span>
date <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>data<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span>weekday
data<span class="token punctuation">[</span><span class="token string">&#39;week&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> date

<span class="token comment"># 2、假如把p_change按照大小去分个类0为界限</span>
data<span class="token punctuation">[</span><span class="token string">&#39;posi_neg&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># 通过交叉表找寻两列数据的关系</span>
count <span class="token operator">=</span> pd<span class="token punctuation">.</span>crosstab<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">&#39;week&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token string">&#39;posi_neg&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>但是我们看到count只是每个星期日子的好坏天数，并没有得到比例，该怎么去做？</p><ul><li>对于每个星期一等的总天数求和，运用除法运算求出比例</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 算数运算，先求和</span>
<span class="token builtin">sum</span> <span class="token operator">=</span> count<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>float32<span class="token punctuation">)</span>

<span class="token comment"># 进行相除操作，得出比例</span>
pro <span class="token operator">=</span> count<span class="token punctuation">.</span>div<span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="查看效果" tabindex="-1"><a class="header-anchor" href="#查看效果" aria-hidden="true">#</a> 查看效果</h4><p>使用plot画出这个比例，使用stacked的柱状图</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pro<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">,</span> stacked<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="使用pivot-table-透视表-实现" tabindex="-1"><a class="header-anchor" href="#使用pivot-table-透视表-实现" aria-hidden="true">#</a> 使用pivot_table(透视表)实现</h4><p>使用透视表，刚才的过程更加简单</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 通过透视表，将整个过程变成更简单一些</span>
data<span class="token punctuation">.</span>pivot_table<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;posi_neg&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token string">&#39;week&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="高级处理-分组与聚合" tabindex="-1"><a class="header-anchor" href="#高级处理-分组与聚合" aria-hidden="true">#</a> 高级处理-分组与聚合</h2><p><strong>分组与聚合通常是分析数据的一种方式，通常与一些统计函数一起使用，查看数据的分组情况</strong></p><p>想一想其实刚才的交叉表与透视表也有分组的功能，所以算是分组的一种形式，只不过他们主要是计算次数或者计算比例！！看其中的效果：</p><p><img src="/assets/分组效果.a21d4bf2.png" alt=""></p><h3 id="什么分组与聚合" tabindex="-1"><a class="header-anchor" href="#什么分组与聚合" aria-hidden="true">#</a> 什么分组与聚合</h3><p><img src="/assets/分组聚合原理.919669ca.png" alt=""></p><h3 id="分组api" tabindex="-1"><a class="header-anchor" href="#分组api" aria-hidden="true">#</a> 分组API</h3><ul><li>DataFrame.groupby(key, as_index=False) <ul><li>key:分组的列数据，可以多个</li></ul></li><li>案例:不同颜色的不同笔的价格数据</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>col <span class="token operator">=</span>pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;white&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;green&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;pen&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;pencil&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;pencil&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ashtray&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;pen&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&#39;price1&#39;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">5.56</span><span class="token punctuation">,</span><span class="token number">4.20</span><span class="token punctuation">,</span><span class="token number">1.30</span><span class="token punctuation">,</span><span class="token number">0.56</span><span class="token punctuation">,</span><span class="token number">2.75</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&#39;price2&#39;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">4.75</span><span class="token punctuation">,</span><span class="token number">4.12</span><span class="token punctuation">,</span><span class="token number">1.60</span><span class="token punctuation">,</span><span class="token number">0.75</span><span class="token punctuation">,</span><span class="token number">3.15</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

color    <span class="token builtin">object</span>    price1    price2
<span class="token number">0</span>    white    pen    <span class="token number">5.56</span>    <span class="token number">4.75</span>
<span class="token number">1</span>    red    pencil    <span class="token number">4.20</span>    <span class="token number">4.12</span>
<span class="token number">2</span>    green    pencil    <span class="token number">1.30</span>    <span class="token number">1.60</span>
<span class="token number">3</span>    red    ashtray    <span class="token number">0.56</span>    <span class="token number">0.75</span>
<span class="token number">4</span>    green    pen    <span class="token number">2.75</span>    <span class="token number">3.15</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>进行分组，对颜色分组，price进行聚合</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 分组，求平均值</span>
col<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#39;price1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
col<span class="token punctuation">[</span><span class="token string">&#39;price1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>col<span class="token punctuation">[</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>

color
green    <span class="token number">2.025</span>
red      <span class="token number">2.380</span>
white    <span class="token number">5.560</span>
Name<span class="token punctuation">:</span> price1<span class="token punctuation">,</span> dtype<span class="token punctuation">:</span> float64

<span class="token comment"># 分组，数据的结构不变</span>
col<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> as_index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#39;price1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>

color    price1
<span class="token number">0</span>    green    <span class="token number">2.025</span>
<span class="token number">1</span>    red    <span class="token number">2.380</span>
<span class="token number">2</span>    white    <span class="token number">5.560</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="星巴克零售店铺数据" tabindex="-1"><a class="header-anchor" href="#星巴克零售店铺数据" aria-hidden="true">#</a> 星巴克零售店铺数据</h3><p>现在我们有一组关于全球星巴克店铺的统计数据，如果我想知道美国的星巴克数量和中国的哪个多，或者我想知道中国每个省份星巴克的数量的情况，那么应该怎么办？</p><blockquote><p>数据来源：https://www.kaggle.com/starbucks/store-locations/data</p></blockquote><p><img src="/assets/星巴克数据.0e4baefb.png" alt=""></p><h4 id="数据获取" tabindex="-1"><a class="header-anchor" href="#数据获取" aria-hidden="true">#</a> 数据获取</h4><p>从文件中读取星巴克店铺数据</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 导入星巴克店的数据</span>
starbucks <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/starbucks/directory.csv&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="进行分组聚合" tabindex="-1"><a class="header-anchor" href="#进行分组聚合" aria-hidden="true">#</a> 进行分组聚合</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 按照国家分组，求出每个国家的星巴克零售店数量</span>
count <span class="token operator">=</span> starbucks<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;Country&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>画图显示结果</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>count<span class="token punctuation">[</span><span class="token string">&#39;Brand&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/星巴克数量画图.67503a90.png" alt=""></p><p>假设我们加入省市一起进行分组</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 设置多个索引，set_index()</span>
starbucks<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;Country&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;State/Province&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/国家省市分组结果.133540df.png" alt=""></p><p><strong>仔细观察这个结构，与我们前面讲的哪个结构类似？？</strong></p><p>与前面的MultiIndex结构类似</p><h2 id="案例-4" tabindex="-1"><a class="header-anchor" href="#案例-4" aria-hidden="true">#</a> 案例</h2><h3 id="需求" tabindex="-1"><a class="header-anchor" href="#需求" aria-hidden="true">#</a> 需求</h3><p><strong>现在我们有一组从2006年到2016年1000部最流行的电影数据，数据来源：https://www.kaggle.com/damianpanek/sunday-eda/data</strong></p><ul><li>问题1：我们想知道这些电影数据中评分的平均分，导演的人数等信息，我们应该怎么获取？</li><li>问题2：对于这一组电影数据，如果我们想rating，runtime的分布情况，应该如何呈现数据？</li><li>问题3：对于这一组电影数据，如果我们希望统计电影分类(genre)的情况，应该如何处理数据？</li></ul><h3 id="实现" tabindex="-1"><a class="header-anchor" href="#实现" aria-hidden="true">#</a> 实现</h3><p>首先获取导入包，获取数据</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>%matplotlib inline
import pandas  as pd 
import numpy as np
from matplotlib import pyplot as plt
#文件的路径
path = &quot;./data/IMDB-Movie-Data.csv&quot;
#读取文件
df = pd.read_csv(path)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="问题一" tabindex="-1"><a class="header-anchor" href="#问题一" aria-hidden="true">#</a> 问题一</h4><p><strong>我们想知道这些电影数据中评分的平均分，导演的人数等信息，我们应该怎么获取？</strong></p><ul><li>得出评分的平均分</li></ul><p>使用mean函数</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">[</span><span class="token string">&quot;Rating&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>得出导演人数信息</li></ul><p>求出唯一值，然后进行形状获取</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment">## 导演的人数</span>
<span class="token comment"># df[&quot;Director&quot;].unique().shape[0]</span>
np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&quot;Director&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

<span class="token number">644</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="问题二" tabindex="-1"><a class="header-anchor" href="#问题二" aria-hidden="true">#</a> 问题二</h4><p><strong>对于这一组电影数据，如果我们想Rating，Runtime (Minutes)的分布情况，应该如何呈现数据？</strong></p><ul><li>直接呈现，以直方图的形式</li></ul><p>选择分数列数据，进行plot</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">[</span><span class="token string">&quot;Rating&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">&#39;hist&#39;</span><span class="token punctuation">,</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/电影分数直方图.6c921843.png" alt=""></p><ul><li>Rating进行分布展示</li></ul><p>进行绘制直方图</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&quot;Rating&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改刻度的间隔</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 求出最大最小值</span>
max_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&quot;Rating&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
min_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&quot;Rating&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 生成刻度列表</span>
t1 <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>min_<span class="token punctuation">,</span>max_<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">)</span>

<span class="token comment"># [ 1.9    2.255  2.61   2.965  3.32   3.675  4.03   4.385  4.74   5.095  5.45   5.805  6.16   6.515  6.87   7.225  7.58   7.935  8.29   8.645  9.   ]</span>

<span class="token comment"># 修改刻度</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>t1<span class="token punctuation">)</span>

<span class="token comment"># 添加网格</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/电影分数直方图1.12585504.png" alt=""></p><ul><li>Runtime (Minutes)进行分布展示</li></ul><p>进行绘制直方图</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&quot;Runtime (Minutes)&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改间隔</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 求出最大最小值</span>
max_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&quot;Runtime (Minutes)&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
min_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&quot;Runtime (Minutes)&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># # 生成刻度列表</span>
t1 <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>min_<span class="token punctuation">,</span>max_<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">)</span>

<span class="token comment"># 修改刻度</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>min_<span class="token punctuation">,</span>max_<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 添加网格</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/电影分数直方图2.dac64d98.png" alt=""></p><h4 id="问题三" tabindex="-1"><a class="header-anchor" href="#问题三" aria-hidden="true">#</a> 问题三</h4><p><strong>对于这一组电影数据，如果我们希望统计电影分类(genre)的情况，应该如何处理数据？</strong></p><ul><li>思路分析 <ul><li>思路 <ul><li>1、创建一个全为0的dataframe，列索引置为电影的分类，temp_df</li><li>2、遍历每一部电影，temp_df中把分类出现的列的值置为1</li><li>3、求和</li></ul></li></ul></li><li>1、创建一个全为0的dataframe，列索引置为电影的分类，temp_df</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 进行字符串分割</span>
temp_list <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> df<span class="token punctuation">[</span><span class="token string">&quot;Genre&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># 获取电影的分类</span>
genre_list <span class="token operator">=</span> np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">[</span>i <span class="token keyword">for</span> j <span class="token keyword">in</span> temp_list <span class="token keyword">for</span> i <span class="token keyword">in</span> j<span class="token punctuation">]</span><span class="token punctuation">)</span> 

<span class="token comment"># 增加新的列</span>
temp_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">[</span>df<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>genre_list<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>columns<span class="token operator">=</span>genre_list<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>2、遍历每一部电影，temp_df中把分类出现的列的值置为1</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">#temp_list[i] [&#39;Action&#39;,&#39;Adventure&#39;,&#39;Animation&#39;]</span>
    temp_df<span class="token punctuation">.</span>ix<span class="token punctuation">[</span>i<span class="token punctuation">,</span>temp_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>temp_df<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>3、求和,绘图</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>temp_df<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>fontsize<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span>colormap<span class="token operator">=</span><span class="token string">&quot;cool&quot;</span><span class="token punctuation">)</span>


Musical        <span class="token number">5.0</span>
Western        <span class="token number">7.0</span>
War           <span class="token number">13.0</span>
Music         <span class="token number">16.0</span>
Sport         <span class="token number">18.0</span>
History       <span class="token number">29.0</span>
Animation     <span class="token number">49.0</span>
Family        <span class="token number">51.0</span>
Biography     <span class="token number">81.0</span>
Fantasy      <span class="token number">101.0</span>
Mystery      <span class="token number">106.0</span>
Horror       <span class="token number">119.0</span>
Sci<span class="token operator">-</span>Fi       <span class="token number">120.0</span>
Romance      <span class="token number">141.0</span>
Crime        <span class="token number">150.0</span>
Thriller     <span class="token number">195.0</span>
Adventure    <span class="token number">259.0</span>
Comedy       <span class="token number">279.0</span>
Action       <span class="token number">303.0</span>
Drama        <span class="token number">513.0</span>
dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/genre分类结果.aba4cef3.png" alt=""></p><h2 id="pandas中文api" tabindex="-1"><a class="header-anchor" href="#pandas中文api" aria-hidden="true">#</a> Pandas中文API</h2><p><a href="https://www.gairuo.com/p/pandas-overview" target="_blank" rel="noopener noreferrer">Pandas API解析<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/roiding/roiding.github.io/edit/docs/docs/python/pandas.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页"><!--[--><!--]--> 编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: dingran@ran-ding.ga">roiding</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/python/numpy.html" class="" aria-label="Numpy 数值计算库"><!--[--><!--]--> Numpy 数值计算库 <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--[--><div class="my-footer">「<a href="https://webify.cloudbase.net/">CloudBase Webify</a> 提供网站托管服务」</div><!--]--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.7c042103.js" defer></script>
  </body>
</html>
