import{_ as e,r as p,o as t,c as o,b as n,d as l,a as c,e as u}from"./app.7c042103.js";var i="/assets/7a1a6f9327ea43fda40af3c1cdd0402a.a83f07f9.png",r="/assets/\u5904\u7406\u524D.47f0427a.png",k="/assets/\u5904\u7406\u540E.38c3b2a3.png",d="/assets/stockdf.9154976d.png",m="/assets/df.18340644.png",b="/assets/DF\u8F6C\u7F6E\u7ED3\u679C.1476e009.png",v="/assets/series.2e13bda4.png",h="/assets/stockday.2098503e.png",g="/assets/describe\u7ED3\u679C.9610b20e.png",y="/assets/cumsum1.d5f58c0e.png",_="/assets/cumsum.c56b9a8e.png",x="/assets/\u8BFB\u53D6\u5B58\u50A8.3c9e11ec.png",f="/assets/readh5.df5d38f8.png",q="/assets/tables.def2e4cf.png",w="/assets/\u65B0\u95FB\u6807\u9898\u8BBD\u523A\u8BFB\u53D6.5d30460f.png",T="/assets/\u7F3A\u5931\u503C.edec4185.png",F="/assets/\u95EE\u53F7\u7F3A\u5931\u503C.6ad6a6e2.png",s="/assets/\u54D1\u53D8\u91CF\u77E9\u9635.d5cfbd9a.png",D="/assets/\u80A1\u7968\u6DA8\u8DCC\u5E45\u5206\u7EC4.c9d85ea8.png",N="/assets/one_hot\u7F16\u7801.e282d3a3.png",j="/assets/\u80A1\u7968\u54D1\u53D8\u91CF\u5408\u5E76.b12cb6ea.png",M="/assets/\u5185\u8FDE\u63A5.b0ef5700.png",A="/assets/\u5DE6\u8FDE\u63A5.8b78c0b6.png",S="/assets/\u53F3\u8FDE\u63A5.53a748de.png",I="/assets/\u5916\u94FE\u63A5.1b4ae5ac.png",R="/assets/\u4EA4\u53C9\u8868\u900F\u89C6\u8868\u4F5C\u7528.9d099122.png",P="/assets/crosstab.8385793a.png",C="/assets/\u5206\u7EC4\u6548\u679C.a21d4bf2.png",B="/assets/\u5206\u7EC4\u805A\u5408\u539F\u7406.919669ca.png",L="/assets/\u661F\u5DF4\u514B\u6570\u636E.0e4baefb.png",O="/assets/\u661F\u5DF4\u514B\u6570\u91CF\u753B\u56FE.67503a90.png",K="/assets/\u56FD\u5BB6\u7701\u5E02\u5206\u7EC4\u7ED3\u679C.133540df.png",E="/assets/\u7535\u5F71\u5206\u6570\u76F4\u65B9\u56FE.6c921843.png",H="/assets/\u7535\u5F71\u5206\u6570\u76F4\u65B9\u56FE1.12585504.png",J="/assets/\u7535\u5F71\u5206\u6570\u76F4\u65B9\u56FE2.dac64d98.png",U="/assets/genre\u5206\u7C7B\u7ED3\u679C.aba4cef3.png";const V={},z=c('<h2 id="pandas\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#pandas\u4ECB\u7ECD" aria-hidden="true">#</a> Pandas\u4ECB\u7ECD</h2><p><img src="'+i+'" alt=""></p><ul><li>2008\u5E74WesMcKinney\u5F00\u53D1\u51FA\u7684\u5E93</li><li>\u4E13\u95E8\u7528\u4E8E\u6570\u636E\u6316\u6398\u7684\u5F00\u6E90python\u5E93</li><li><strong>\u4EE5Numpy\u4E3A\u57FA\u7840\uFF0C\u501F\u529BNumpy\u6A21\u5757\u5728\u8BA1\u7B97\u65B9\u9762\u6027\u80FD\u9AD8\u7684\u4F18\u52BF</strong></li><li><strong>\u57FA\u4E8Ematplotlib\uFF0C\u80FD\u591F\u7B80\u4FBF\u7684\u753B\u56FE</strong></li><li><strong>\u72EC\u7279\u7684\u6570\u636E\u7ED3\u6784</strong></li></ul><h3 id="\u4E3A\u4EC0\u4E48\u4F7F\u7528pandas" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48\u4F7F\u7528pandas" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48\u4F7F\u7528Pandas</h3><p>Numpy\u5DF2\u7ECF\u80FD\u591F\u5E2E\u52A9\u6211\u4EEC\u5904\u7406\u6570\u636E\uFF0C\u80FD\u591F\u7ED3\u5408matplotlib\u89E3\u51B3\u90E8\u5206\u6570\u636E\u5C55\u793A\u7B49\u95EE\u9898\uFF0C\u90A3\u4E48pandas\u5B66\u4E60\u7684\u76EE\u7684\u5728\u4EC0\u4E48\u5730\u65B9\u5462\uFF1F</p><ul><li><strong>\u4FBF\u6377\u7684\u6570\u636E\u5904\u7406\u80FD\u529B</strong></li></ul><p><img src="'+r+'" alt=""></p><p><img src="'+k+`" alt=""></p><ul><li><strong>\u8BFB\u53D6\u6587\u4EF6\u65B9\u4FBF</strong></li><li><strong>\u5C01\u88C5\u4E86Matplotlib\u3001Numpy\u7684\u753B\u56FE\u548C\u8BA1\u7B97</strong></li></ul><h3 id="\u6848\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u6848\u4F8B" aria-hidden="true">#</a> \u6848\u4F8B</h3><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u5BFC\u5165pandas</span>

<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u56DE\u5FC6\u6211\u4EEC\u5728numpy\u5F53\u4E2D\u521B\u5EFA\u7684\u80A1\u7968\u6DA8\u8DCC\u5E45\u6570\u636E\u5F62\u5F0F\uFF1F**</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u521B\u5EFA\u4E00\u4E2A\u7B26\u5408\u6B63\u592A\u5206\u5E03\u768410\u4E2A\u80A1\u79685\u5929\u7684\u6DA8\u8DCC\u5E45\u6570\u636E</span>
stock_change <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.06544031</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.30931491</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.45451514</span><span class="token punctuation">,</span>  <span class="token number">0.57973008</span><span class="token punctuation">,</span>  <span class="token number">1.48602405</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1.73216741</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.83413717</span><span class="token punctuation">,</span>  <span class="token number">0.45861517</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.80391793</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.46878575</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">0.21805567</span><span class="token punctuation">,</span>  <span class="token number">0.19901371</span><span class="token punctuation">,</span>  <span class="token number">0.7134683</span> <span class="token punctuation">,</span>  <span class="token number">0.5484263</span> <span class="token punctuation">,</span>  <span class="token number">0.38623412</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.42207879</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.33702398</span><span class="token punctuation">,</span>  <span class="token number">0.42328531</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.23079202</span><span class="token punctuation">,</span>  <span class="token number">1.32843773</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1.72530711</span><span class="token punctuation">,</span>  <span class="token number">0.07591832</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.91708358</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.16535818</span><span class="token punctuation">,</span>  <span class="token number">1.07645091</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.81576845</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.28675278</span><span class="token punctuation">,</span>  <span class="token number">1.20441981</span><span class="token punctuation">,</span>  <span class="token number">0.73365951</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.06214496</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.98820861</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.01815231</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.95417342</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.81538991</span><span class="token punctuation">,</span>  <span class="token number">0.50268175</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.10034128</span><span class="token punctuation">,</span>  <span class="token number">0.61196204</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.06850331</span><span class="token punctuation">,</span>  <span class="token number">0.74738433</span><span class="token punctuation">,</span>  <span class="token number">0.143011</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">1.00026175</span><span class="token punctuation">,</span>  <span class="token number">0.34241958</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2.2529711</span> <span class="token punctuation">,</span>  <span class="token number">0.93921064</span><span class="token punctuation">,</span>  <span class="token number">1.14080312</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">2.52064693</span><span class="token punctuation">,</span>  <span class="token number">1.55384756</span><span class="token punctuation">,</span>  <span class="token number">1.72252984</span><span class="token punctuation">,</span>  <span class="token number">0.61270132</span><span class="token punctuation">,</span>  <span class="token number">0.60888092</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u4F46\u662F\u8FD9\u6837\u7684\u6570\u636E\u5F62\u5F0F\u5F88\u96BE\u770B\u5230\u5B58\u50A8\u7684\u662F\u4EC0\u4E48\u7684\u6837\u7684\u6570\u636E\uFF0C\u5E76\u4E5F\u5F88\u96BE\u83B7\u53D6\u76F8\u5E94\u7684\u6570\u636E\uFF0C\u6BD4\u5982\u9700\u8981\u83B7\u53D6\u67D0\u4E2A\u6307\u5B9A\u80A1\u7968\u7684\u6570\u636E\uFF0C\u5C31\u5F88\u96BE\u53BB\u83B7\u53D6\uFF01\uFF01</strong></p><h4 id="\u95EE\u9898-\u5982\u4F55\u8BA9\u6570\u636E\u66F4\u6709\u610F\u4E49\u7684\u663E\u793A-\u5904\u7406\u521A\u624D\u7684\u80A1\u7968\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u95EE\u9898-\u5982\u4F55\u8BA9\u6570\u636E\u66F4\u6709\u610F\u4E49\u7684\u663E\u793A-\u5904\u7406\u521A\u624D\u7684\u80A1\u7968\u6570\u636E" aria-hidden="true">#</a> \u95EE\u9898\uFF1A\u5982\u4F55\u8BA9\u6570\u636E\u66F4\u6709\u610F\u4E49\u7684\u663E\u793A\uFF1F\u5904\u7406\u521A\u624D\u7684\u80A1\u7968\u6570\u636E</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u4F7F\u7528Pandas\u4E2D\u7684\u6570\u636E\u7ED3\u6784</span>
stock_day_rise <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>stock_change<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6548\u679C\uFF1A</p><p><img src="`+d+`" alt=""></p><ul><li>\u589E\u52A0\u884C\u7D22\u5F15</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u6784\u9020\u884C\u7D22\u5F15\u5E8F\u5217</span>
stock_code <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;\u80A1\u7968&#39;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>stock_day_rise<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment"># \u6DFB\u52A0\u884C\u7D22\u5F15</span>
data <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>stock_change<span class="token punctuation">,</span> index<span class="token operator">=</span>stock_code<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u589E\u52A0\u5217\u7D22\u5F15</li></ul><p>\u80A1\u7968\u7684\u65E5\u671F\u662F\u4E00\u4E2A\u65F6\u95F4\u7684\u5E8F\u5217\uFF0C\u6211\u4EEC\u8981\u5B9E\u73B0\u4ECE\u524D\u5F80\u540E\u7684\u65F6\u95F4\u8FD8\u8981\u8003\u8651\u6BCF\u6708\u7684\u603B\u5929\u6570\u7B49\uFF0C\u4E0D\u65B9\u4FBF\u3002\u4F7F\u7528pd.date_range()\uFF1A\u7528\u4E8E\u751F\u6210\u4E00\u7EC4\u8FDE\u7EED\u7684\u65F6\u95F4\u5E8F\u5217(\u6682\u65F6\u4E86\u89E3)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>date_range(start=None,end=None, periods=None, freq=&#39;B&#39;)

    start:\u5F00\u59CB\u65F6\u95F4

    end:\u7ED3\u675F\u65F6\u95F4

    periods:\u65F6\u95F4\u5929\u6570

    freq:\u9012\u8FDB\u5355\u4F4D\uFF0C\u9ED8\u8BA41\u5929,&#39;B&#39;\u9ED8\u8BA4\u7565\u8FC7\u5468\u672B
# \u751F\u6210\u4E00\u4E2A\u65F6\u95F4\u7684\u5E8F\u5217\uFF0C\u7565\u8FC7\u5468\u672B\u975E\u4EA4\u6613\u65E5
date = pd.date_range(&#39;2017-01-01&#39;, periods=stock_day_rise.shape[1], freq=&#39;B&#39;)

# index\u4EE3\u8868\u884C\u7D22\u5F15\uFF0Ccolumns\u4EE3\u8868\u5217\u7D22\u5F15
data = pd.DataFrame(stock_change, index=stock_code, columns=date)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dataframe" tabindex="-1"><a class="header-anchor" href="#dataframe" aria-hidden="true">#</a> DataFrame</h3><h4 id="dataframe\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#dataframe\u7ED3\u6784" aria-hidden="true">#</a> DataFrame\u7ED3\u6784</h4><p>DataFrame\u5BF9\u8C61\u65E2\u6709\u884C\u7D22\u5F15\uFF0C\u53C8\u6709\u5217\u7D22\u5F15</p><ul><li>\u884C\u7D22\u5F15\uFF0C\u8868\u660E\u4E0D\u540C\u884C\uFF0C\u6A2A\u5411\u7D22\u5F15\uFF0C\u53EBindex\uFF0C0\u8F74\uFF0Caxis=0</li><li>\u5217\u7D22\u5F15\uFF0C\u8868\u540D\u4E0D\u540C\u5217\uFF0C\u7EB5\u5411\u7D22\u5F15\uFF0C\u53EBcolumns\uFF0C1\u8F74\uFF0Caxis=1</li></ul><p><img src="`+m+`" alt=""></p><h4 id="dataframe\u7684\u5C5E\u6027" tabindex="-1"><a class="header-anchor" href="#dataframe\u7684\u5C5E\u6027" aria-hidden="true">#</a> DataFrame\u7684\u5C5E\u6027</h4><ul><li><strong>shape</strong></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>shape
<span class="token comment"># \u7ED3\u679C</span>
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>index</strong></li></ul><p>DataFrame\u7684\u884C\u7D22\u5F15\u5217\u8868</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>index

Index<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;\u80A1\u79680&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u80A1\u79681&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u80A1\u79682&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u80A1\u79683&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u80A1\u79684&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u80A1\u79685&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u80A1\u79686&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u80A1\u79687&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u80A1\u79688&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u80A1\u79689&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>columns</strong></li></ul><p>DataFrame\u7684\u5217\u7D22\u5F15\u5217\u8868</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>columns

DatetimeIndex<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;2017-01-02&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2017-01-03&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2017-01-04&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2017-01-05&#39;</span><span class="token punctuation">,</span>
               <span class="token string">&#39;2017-01-06&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              dtype<span class="token operator">=</span><span class="token string">&#39;datetime64[ns]&#39;</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>values</strong></li></ul><p>\u76F4\u63A5\u83B7\u53D6\u5176\u4E2Darray\u7684\u503C</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>values

array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.06544031</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.30931491</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.45451514</span><span class="token punctuation">,</span>  <span class="token number">0.57973008</span><span class="token punctuation">,</span>  <span class="token number">1.48602405</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1.73216741</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.83413717</span><span class="token punctuation">,</span>  <span class="token number">0.45861517</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.80391793</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.46878575</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">0.21805567</span><span class="token punctuation">,</span>  <span class="token number">0.19901371</span><span class="token punctuation">,</span>  <span class="token number">0.7134683</span> <span class="token punctuation">,</span>  <span class="token number">0.5484263</span> <span class="token punctuation">,</span>  <span class="token number">0.38623412</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.42207879</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.33702398</span><span class="token punctuation">,</span>  <span class="token number">0.42328531</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.23079202</span><span class="token punctuation">,</span>  <span class="token number">1.32843773</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1.72530711</span><span class="token punctuation">,</span>  <span class="token number">0.07591832</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.91708358</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.16535818</span><span class="token punctuation">,</span>  <span class="token number">1.07645091</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.81576845</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.28675278</span><span class="token punctuation">,</span>  <span class="token number">1.20441981</span><span class="token punctuation">,</span>  <span class="token number">0.73365951</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.06214496</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.98820861</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.01815231</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.95417342</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.81538991</span><span class="token punctuation">,</span>  <span class="token number">0.50268175</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.10034128</span><span class="token punctuation">,</span>  <span class="token number">0.61196204</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.06850331</span><span class="token punctuation">,</span>  <span class="token number">0.74738433</span><span class="token punctuation">,</span>  <span class="token number">0.143011</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">1.00026175</span><span class="token punctuation">,</span>  <span class="token number">0.34241958</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2.2529711</span> <span class="token punctuation">,</span>  <span class="token number">0.93921064</span><span class="token punctuation">,</span>  <span class="token number">1.14080312</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">2.52064693</span><span class="token punctuation">,</span>  <span class="token number">1.55384756</span><span class="token punctuation">,</span>  <span class="token number">1.72252984</span><span class="token punctuation">,</span>  <span class="token number">0.61270132</span><span class="token punctuation">,</span>  <span class="token number">0.60888092</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>T</strong></li></ul><p>\u8F6C\u7F6E</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>data.T
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u7ED3\u679C</p><p><img src="`+b+`" alt=""></p><ul><li><strong>head(5)</strong>\uFF1A\u663E\u793A\u524D5\u884C\u5185\u5BB9</li></ul><p>\u5982\u679C\u4E0D\u8865\u5145\u53C2\u6570\uFF0C\u9ED8\u8BA45\u884C\u3002\u586B\u5165\u53C2\u6570N\u5219\u663E\u793A\u524DN\u884C</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

<span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
\u80A1\u7968<span class="token number">0</span>    <span class="token operator">-</span><span class="token number">0.065440</span>    <span class="token operator">-</span><span class="token number">1.309315</span>    <span class="token operator">-</span><span class="token number">1.454515</span>    <span class="token number">0.579730</span>    <span class="token number">1.486024</span>
\u80A1\u7968<span class="token number">1</span>    <span class="token operator">-</span><span class="token number">1.732167</span>    <span class="token operator">-</span><span class="token number">0.834137</span>    <span class="token number">0.458615</span>    <span class="token operator">-</span><span class="token number">0.803918</span>    <span class="token operator">-</span><span class="token number">0.468786</span>
\u80A1\u7968<span class="token number">2</span>    <span class="token number">0.218056</span>    <span class="token number">0.199014</span>    <span class="token number">0.713468</span>    <span class="token number">0.548426</span>    <span class="token number">0.386234</span>
\u80A1\u7968<span class="token number">3</span>    <span class="token operator">-</span><span class="token number">0.422079</span>    <span class="token operator">-</span><span class="token number">0.337024</span>    <span class="token number">0.423285</span>    <span class="token operator">-</span><span class="token number">1.230792</span>    <span class="token number">1.328438</span>
\u80A1\u7968<span class="token number">4</span>    <span class="token operator">-</span><span class="token number">1.725307</span>    <span class="token number">0.075918</span>    <span class="token operator">-</span><span class="token number">1.917084</span>    <span class="token operator">-</span><span class="token number">0.165358</span>    <span class="token number">1.076451</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>tail(5)</strong>:\u663E\u793A\u540E5\u884C\u5185\u5BB9</li></ul><p>\u5982\u679C\u4E0D\u8865\u5145\u53C2\u6570\uFF0C\u9ED8\u8BA45\u884C\u3002\u586B\u5165\u53C2\u6570N\u5219\u663E\u793A\u540EN\u884C</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

 <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
\u80A1\u7968<span class="token number">5</span>    <span class="token operator">-</span><span class="token number">0.815768</span>    <span class="token operator">-</span><span class="token number">0.286753</span>    <span class="token number">1.204420</span>    <span class="token number">0.733660</span>    <span class="token operator">-</span><span class="token number">0.062145</span>
\u80A1\u7968<span class="token number">6</span>    <span class="token operator">-</span><span class="token number">0.988209</span>    <span class="token operator">-</span><span class="token number">1.018152</span>    <span class="token operator">-</span><span class="token number">0.954173</span>    <span class="token operator">-</span><span class="token number">0.815390</span>    <span class="token number">0.502682</span>
\u80A1\u7968<span class="token number">7</span>    <span class="token operator">-</span><span class="token number">0.100341</span>    <span class="token number">0.611962</span>    <span class="token operator">-</span><span class="token number">0.068503</span>    <span class="token number">0.747384</span>    <span class="token number">0.143011</span>
\u80A1\u7968<span class="token number">8</span>    <span class="token number">1.000262</span>    <span class="token number">0.342420</span>    <span class="token operator">-</span><span class="token number">2.252971</span>    <span class="token number">0.939211</span>    <span class="token number">1.140803</span>
\u80A1\u7968<span class="token number">9</span>    <span class="token number">2.520647</span>    <span class="token number">1.553848</span>    <span class="token number">1.722530</span>    <span class="token number">0.612701</span>    <span class="token number">0.608881</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="datatframe\u7D22\u5F15\u7684\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#datatframe\u7D22\u5F15\u7684\u8BBE\u7F6E" aria-hidden="true">#</a> DatatFrame\u7D22\u5F15\u7684\u8BBE\u7F6E</h3><h4 id="\u4FEE\u6539\u884C\u5217\u7D22\u5F15\u503C" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u884C\u5217\u7D22\u5F15\u503C" aria-hidden="true">#</a> <strong>\u4FEE\u6539\u884C\u5217\u7D22\u5F15\u503C</strong></h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>stock_code <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;\u80A1\u7968_&quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>stock_day_rise<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment"># \u5FC5\u987B\u6574\u4F53\u5168\u90E8\u4FEE\u6539</span>
data<span class="token punctuation">.</span>index <span class="token operator">=</span> stock_code
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u679C</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
\u80A1\u7968_0    <span class="token operator">-</span><span class="token number">0.065440</span>    <span class="token operator">-</span><span class="token number">1.309315</span>    <span class="token operator">-</span><span class="token number">1.454515</span>    <span class="token number">0.579730</span>    <span class="token number">1.486024</span>
\u80A1\u7968_1    <span class="token operator">-</span><span class="token number">1.732167</span>    <span class="token operator">-</span><span class="token number">0.834137</span>    <span class="token number">0.458615</span>    <span class="token operator">-</span><span class="token number">0.803918</span>    <span class="token operator">-</span><span class="token number">0.468786</span>
\u80A1\u7968_2    <span class="token number">0.218056</span>    <span class="token number">0.199014</span>    <span class="token number">0.713468</span>    <span class="token number">0.548426</span>    <span class="token number">0.386234</span>
\u80A1\u7968_3    <span class="token operator">-</span><span class="token number">0.422079</span>    <span class="token operator">-</span><span class="token number">0.337024</span>    <span class="token number">0.423285</span>    <span class="token operator">-</span><span class="token number">1.230792</span>    <span class="token number">1.328438</span>
\u80A1\u7968_4    <span class="token operator">-</span><span class="token number">1.725307</span>    <span class="token number">0.075918</span>    <span class="token operator">-</span><span class="token number">1.917084</span>    <span class="token operator">-</span><span class="token number">0.165358</span>    <span class="token number">1.076451</span>
\u80A1\u7968_5    <span class="token operator">-</span><span class="token number">0.815768</span>    <span class="token operator">-</span><span class="token number">0.286753</span>    <span class="token number">1.204420</span>    <span class="token number">0.733660</span>    <span class="token operator">-</span><span class="token number">0.062145</span>
\u80A1\u7968_6    <span class="token operator">-</span><span class="token number">0.988209</span>    <span class="token operator">-</span><span class="token number">1.018152</span>    <span class="token operator">-</span><span class="token number">0.954173</span>    <span class="token operator">-</span><span class="token number">0.815390</span>    <span class="token number">0.502682</span>
\u80A1\u7968_7    <span class="token operator">-</span><span class="token number">0.100341</span>    <span class="token number">0.611962</span>    <span class="token operator">-</span><span class="token number">0.068503</span>    <span class="token number">0.747384</span>    <span class="token number">0.143011</span>
\u80A1\u7968_8    <span class="token number">1.000262</span>    <span class="token number">0.342420</span>    <span class="token operator">-</span><span class="token number">2.252971</span>    <span class="token number">0.939211</span>    <span class="token number">1.140803</span>
\u80A1\u7968_9    <span class="token number">2.520647</span>    <span class="token number">1.553848</span>    <span class="token number">1.722530</span>    <span class="token number">0.612701</span>    <span class="token number">0.608881</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\uFF1A\u4EE5\u4E0B\u4FEE\u6539\u65B9\u5F0F\u662F\u9519\u8BEF\u7684</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># \u9519\u8BEF\u4FEE\u6539\u65B9\u5F0F
data.index[3] = &#39;\u80A1\u7968_3&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u91CD\u8BBE\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u91CD\u8BBE\u7D22\u5F15" aria-hidden="true">#</a> \u91CD\u8BBE\u7D22\u5F15</h4><ul><li>reset_index(drop=False) <ul><li>\u8BBE\u7F6E\u65B0\u7684\u4E0B\u6807\u7D22\u5F15</li><li>drop:\u9ED8\u8BA4\u4E3AFalse\uFF0C\u4E0D\u5220\u9664\u539F\u6765\u7D22\u5F15\uFF0C\u5982\u679C\u4E3ATrue,\u5220\u9664\u539F\u6765\u7684\u7D22\u5F15\u503C</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u91CD\u7F6E\u7D22\u5F15,drop=False</span>
data<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span>

    index    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
<span class="token number">0</span>    \u80A1\u7968_0    <span class="token operator">-</span><span class="token number">0.065440</span>    <span class="token operator">-</span><span class="token number">1.309315</span>    <span class="token operator">-</span><span class="token number">1.454515</span>    <span class="token number">0.579730</span>    <span class="token number">1.486024</span>
<span class="token number">1</span>    \u80A1\u7968_1    <span class="token operator">-</span><span class="token number">1.732167</span>    <span class="token operator">-</span><span class="token number">0.834137</span>    <span class="token number">0.458615</span>    <span class="token operator">-</span><span class="token number">0.803918</span>    <span class="token operator">-</span><span class="token number">0.468786</span>
<span class="token number">2</span>    \u80A1\u7968_2    <span class="token number">0.218056</span>    <span class="token number">0.199014</span>    <span class="token number">0.713468</span>    <span class="token number">0.548426</span>    <span class="token number">0.386234</span>
<span class="token number">3</span>    \u80A1\u7968_3    <span class="token operator">-</span><span class="token number">0.422079</span>    <span class="token operator">-</span><span class="token number">0.337024</span>    <span class="token number">0.423285</span>    <span class="token operator">-</span><span class="token number">1.230792</span>    <span class="token number">1.328438</span>
<span class="token number">4</span>    \u80A1\u7968_4    <span class="token operator">-</span><span class="token number">1.725307</span>    <span class="token number">0.075918</span>    <span class="token operator">-</span><span class="token number">1.917084</span>    <span class="token operator">-</span><span class="token number">0.165358</span>    <span class="token number">1.076451</span>
<span class="token number">5</span>    \u80A1\u7968_5    <span class="token operator">-</span><span class="token number">0.815768</span>    <span class="token operator">-</span><span class="token number">0.286753</span>    <span class="token number">1.204420</span>    <span class="token number">0.733660</span>    <span class="token operator">-</span><span class="token number">0.062145</span>
<span class="token number">6</span>    \u80A1\u7968_6    <span class="token operator">-</span><span class="token number">0.988209</span>    <span class="token operator">-</span><span class="token number">1.018152</span>    <span class="token operator">-</span><span class="token number">0.954173</span>    <span class="token operator">-</span><span class="token number">0.815390</span>    <span class="token number">0.502682</span>
<span class="token number">7</span>    \u80A1\u7968_7    <span class="token operator">-</span><span class="token number">0.100341</span>    <span class="token number">0.611962</span>    <span class="token operator">-</span><span class="token number">0.068503</span>    <span class="token number">0.747384</span>    <span class="token number">0.143011</span>
<span class="token number">8</span>    \u80A1\u7968_8    <span class="token number">1.000262</span>    <span class="token number">0.342420</span>    <span class="token operator">-</span><span class="token number">2.252971</span>    <span class="token number">0.939211</span>    <span class="token number">1.140803</span>
<span class="token number">9</span>    \u80A1\u7968_9    <span class="token number">2.520647</span>    <span class="token number">1.553848</span>    <span class="token number">1.722530</span>    <span class="token number">0.612701</span>    <span class="token number">0.608881</span>
<span class="token comment"># \u91CD\u7F6E\u7D22\u5F15,drop=True</span>
data<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span>drop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
<span class="token number">0</span>    <span class="token operator">-</span><span class="token number">0.065440</span>    <span class="token operator">-</span><span class="token number">1.309315</span>    <span class="token operator">-</span><span class="token number">1.454515</span>    <span class="token number">0.579730</span>    <span class="token number">1.486024</span>
<span class="token number">1</span>    <span class="token operator">-</span><span class="token number">1.732167</span>    <span class="token operator">-</span><span class="token number">0.834137</span>    <span class="token number">0.458615</span>    <span class="token operator">-</span><span class="token number">0.803918</span>    <span class="token operator">-</span><span class="token number">0.468786</span>
<span class="token number">2</span>    <span class="token number">0.218056</span>    <span class="token number">0.199014</span>    <span class="token number">0.713468</span>    <span class="token number">0.548426</span>    <span class="token number">0.386234</span>
<span class="token number">3</span>    <span class="token operator">-</span><span class="token number">0.422079</span>    <span class="token operator">-</span><span class="token number">0.337024</span>    <span class="token number">0.423285</span>    <span class="token operator">-</span><span class="token number">1.230792</span>    <span class="token number">1.328438</span>
<span class="token number">4</span>    <span class="token operator">-</span><span class="token number">1.725307</span>    <span class="token number">0.075918</span>    <span class="token operator">-</span><span class="token number">1.917084</span>    <span class="token operator">-</span><span class="token number">0.165358</span>    <span class="token number">1.076451</span>
<span class="token number">5</span>    <span class="token operator">-</span><span class="token number">0.815768</span>    <span class="token operator">-</span><span class="token number">0.286753</span>    <span class="token number">1.204420</span>    <span class="token number">0.733660</span>    <span class="token operator">-</span><span class="token number">0.062145</span>
<span class="token number">6</span>    <span class="token operator">-</span><span class="token number">0.988209</span>    <span class="token operator">-</span><span class="token number">1.018152</span>    <span class="token operator">-</span><span class="token number">0.954173</span>    <span class="token operator">-</span><span class="token number">0.815390</span>    <span class="token number">0.502682</span>
<span class="token number">7</span>    <span class="token operator">-</span><span class="token number">0.100341</span>    <span class="token number">0.611962</span>    <span class="token operator">-</span><span class="token number">0.068503</span>    <span class="token number">0.747384</span>    <span class="token number">0.143011</span>
<span class="token number">8</span>    <span class="token number">1.000262</span>    <span class="token number">0.342420</span>    <span class="token operator">-</span><span class="token number">2.252971</span>    <span class="token number">0.939211</span>    <span class="token number">1.140803</span>
<span class="token number">9</span>    <span class="token number">2.520647</span>    <span class="token number">1.553848</span>    <span class="token number">1.722530</span>    <span class="token number">0.612701</span>    <span class="token number">0.608881</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u4EE5\u67D0\u5217\u503C\u8BBE\u7F6E\u4E3A\u65B0\u7684\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u4EE5\u67D0\u5217\u503C\u8BBE\u7F6E\u4E3A\u65B0\u7684\u7D22\u5F15" aria-hidden="true">#</a> \u4EE5\u67D0\u5217\u503C\u8BBE\u7F6E\u4E3A\u65B0\u7684\u7D22\u5F15</h4><ul><li>set_index(<em>keys</em>, <em>drop=True</em>) <ul><li><strong>keys</strong> : \u5217\u7D22\u5F15\u540D\u6210\u6216\u8005\u5217\u7D22\u5F15\u540D\u79F0\u7684\u5217\u8868</li><li><strong>drop</strong> : boolean, default True.\u5F53\u505A\u65B0\u7684\u7D22\u5F15\uFF0C\u5220\u9664\u539F\u6765\u7684\u5217</li></ul></li><li><strong>\u8BBE\u7F6E\u65B0\u7D22\u5F15\u6848\u4F8B</strong></li></ul><p>1\u3001\u521B\u5EFA</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&#39;month&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;year&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">2014</span><span class="token punctuation">,</span> <span class="token number">2013</span><span class="token punctuation">,</span> <span class="token number">2014</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;sale&#39;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

   month  sale  year
<span class="token number">0</span>  <span class="token number">1</span>      <span class="token number">55</span>    <span class="token number">2012</span>
<span class="token number">1</span>  <span class="token number">4</span>      <span class="token number">40</span>    <span class="token number">2014</span>
<span class="token number">2</span>  <span class="token number">7</span>      <span class="token number">84</span>    <span class="token number">2013</span>
<span class="token number">3</span>  <span class="token number">10</span>     <span class="token number">31</span>    <span class="token number">2014</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2\u3001\u4EE5\u6708\u4EFD\u8BBE\u7F6E\u65B0\u7684\u7D22\u5F15</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">&#39;month&#39;</span><span class="token punctuation">)</span>
       sale  year
month
<span class="token number">1</span>      <span class="token number">55</span>    <span class="token number">2012</span>
<span class="token number">4</span>      <span class="token number">40</span>    <span class="token number">2014</span>
<span class="token number">7</span>      <span class="token number">84</span>    <span class="token number">2013</span>
<span class="token number">10</span>     <span class="token number">31</span>    <span class="token number">2014</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3\u3001\u8BBE\u7F6E\u591A\u4E2A\u7D22\u5F15\uFF0C\u4EE5\u5E74\u548C\u6708\u4EFD</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;year&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;month&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            sale
year  month
<span class="token number">2012</span>  <span class="token number">1</span>     <span class="token number">55</span>
<span class="token number">2014</span>  <span class="token number">4</span>     <span class="token number">40</span>
<span class="token number">2013</span>  <span class="token number">7</span>     <span class="token number">84</span>
<span class="token number">2014</span>  <span class="token number">10</span>    <span class="token number">31</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u6CE8\uFF1A\u901A\u8FC7\u521A\u624D\u7684\u8BBE\u7F6E\uFF0C\u8FD9\u6837DataFrame\u5C31\u53D8\u6210\u4E86\u4E00\u4E2A\u5177\u6709MultiIndex\u7684DataFrame\u3002</p></blockquote><h3 id="multiindex\u4E0Epanel" tabindex="-1"><a class="header-anchor" href="#multiindex\u4E0Epanel" aria-hidden="true">#</a> MultiIndex\u4E0EPanel</h3><p>\u6253\u5370\u521A\u624D\u7684df\u7684\u884C\u7D22\u5F15\u7ED3\u679C</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>index

MultiIndex<span class="token punctuation">(</span>levels<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
           labels<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
           names<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;year&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;month&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="multiindex" tabindex="-1"><a class="header-anchor" href="#multiindex" aria-hidden="true">#</a> MultiIndex</h4><p>\u591A\u7EA7\u6216\u5206\u5C42\u7D22\u5F15\u5BF9\u8C61\u3002</p><ul><li>index\u5C5E\u6027 <ul><li>names:levels\u7684\u540D\u79F0</li><li>levels\uFF1A\u6BCF\u4E2Alevel\u7684\u5143\u7EC4\u503C</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>index<span class="token punctuation">.</span>names
FrozenList<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;year&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;month&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

df<span class="token punctuation">.</span>index<span class="token punctuation">.</span>levels
FrozenList<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="panel" tabindex="-1"><a class="header-anchor" href="#panel" aria-hidden="true">#</a> Panel</h4><ul><li>class <code>pandas.Panel</code>(<em>data=None</em>, <em>items=None</em>, <em>major_axis=None</em>, <em>minor_axis=None</em>, <em>copy=False</em>, <em>dtype=None</em>) <ul><li>\u5B58\u50A83\u7EF4\u6570\u7EC4\u7684Panel\u7ED3\u6784</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>p <span class="token operator">=</span> pd<span class="token punctuation">.</span>Panel<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 items<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token string">&#39;ABCD&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 major_axis<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">&#39;20130101&#39;</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 minor_axis<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;first&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;second&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
p

<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">&#39;pandas.core.panel.Panel&#39;</span><span class="token operator">&gt;</span>
Dimensions<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">(</span>items<span class="token punctuation">)</span> x <span class="token number">3</span> <span class="token punctuation">(</span>major_axis<span class="token punctuation">)</span> x <span class="token number">2</span> <span class="token punctuation">(</span>minor_axis<span class="token punctuation">)</span>
Items axis<span class="token punctuation">:</span> A to D
Major_axis axis<span class="token punctuation">:</span> <span class="token number">2013</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span> to <span class="token number">2013</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">00</span>
Minor_axis axis<span class="token punctuation">:</span> first to second
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><em>items</em> - <code>axis 0</code>\uFF0C\u6BCF\u4E2A\u9879\u76EE\u5BF9\u5E94\u4E8E\u5185\u90E8\u5305\u542B\u7684\u6570\u636E\u5E27(DataFrame)\u3002</li><li><em>major_axis</em> - <code>axis 1</code>\uFF0C\u5B83\u662F\u6BCF\u4E2A\u6570\u636E\u5E27(DataFrame)\u7684\u7D22\u5F15(\u884C)\u3002</li><li><em>minor_axis</em> - <code>axis 2</code>\uFF0C\u5B83\u662F\u6BCF\u4E2A\u6570\u636E\u5E27(DataFrame)\u7684\u5217\u3002</li></ul><p>\u67E5\u770Bpanel\u6570\u636E:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>p[:,:,&quot;first&quot;]
p[&quot;B&quot;,:,:]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>\u6CE8\uFF1APandas\u4ECE\u7248\u672C0.20.0\u5F00\u59CB\u5F03\u7528\uFF1A\u63A8\u8350\u7684\u7528\u4E8E\u8868\u793A3D\u6570\u636E\u7684\u65B9\u6CD5\u662F\u901A\u8FC7DataFrame\u4E0A\u7684MultiIndex\u65B9\u6CD5</strong></p></blockquote><p><strong>\u5982\u679C\u83B7\u53D6DataFrame\u4E2D\u67D0\u4E2A\u80A1\u7968\u7684\u4E0D\u540C\u65F6\u95F4\u6570\u636E\uFF1F\u8FD9\u6837\u7684\u7ED3\u6784\u662F\u4EC0\u4E48\u6837\u7684\uFF1F</strong></p><h3 id="series\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#series\u7ED3\u6784" aria-hidden="true">#</a> Series\u7ED3\u6784</h3><p>\u4EC0\u4E48\u662FSeries\u7ED3\u6784\u5462\uFF0C\u6211\u4EEC\u76F4\u63A5\u770B\u4E0B\u9762\u7684\u56FE\uFF1A</p><p><img src="`+v+`" alt=""></p><ul><li>series\u7ED3\u6784\u53EA\u6709\u884C\u7D22\u5F15</li></ul><p>\u6211\u4EEC\u5C06\u4E4B\u524D\u7684\u6DA8\u8DCC\u5E45\u6570\u636E\u8FDB\u884C\u8F6C\u7F6E\uFF0C\u7136\u540E\u83B7\u53D6&#39;\u80A1\u79680&#39;\u7684\u6240\u6709\u6570\u636E</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># series</span>
<span class="token builtin">type</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">&#39;2017-01-02&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
pandas<span class="token punctuation">.</span>core<span class="token punctuation">.</span>series<span class="token punctuation">.</span>Series

<span class="token comment"># \u8FD9\u4E00\u6B65\u76F8\u5F53\u4E8E\u662Fseries\u53BB\u83B7\u53D6\u884C\u7D22\u5F15\u7684\u503C</span>
data<span class="token punctuation">[</span><span class="token string">&#39;2017-01-02&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;\u80A1\u7968_0&#39;</span><span class="token punctuation">]</span>
<span class="token operator">-</span><span class="token number">0.18753158283513574</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u521B\u5EFAseries" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFAseries" aria-hidden="true">#</a> \u521B\u5EFAseries</h4><p>\u901A\u8FC7\u5DF2\u6709\u6570\u636E\u521B\u5EFA</p><ul><li>\u6307\u5B9A\u5185\u5BB9\uFF0C\u9ED8\u8BA4\u7D22\u5F15</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u6307\u5B9A\u7D22\u5F15</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">6.7</span><span class="token punctuation">,</span><span class="token number">5.6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u901A\u8FC7\u5B57\u5178\u6570\u636E\u521B\u5EFA</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span>blue<span class="token string">&#39;:200, &#39;</span>green<span class="token string">&#39;: 500, &#39;</span>yellow&#39;<span class="token punctuation">:</span><span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="series\u83B7\u53D6\u5C5E\u6027\u548C\u503C" tabindex="-1"><a class="header-anchor" href="#series\u83B7\u53D6\u5C5E\u6027\u548C\u503C" aria-hidden="true">#</a> series\u83B7\u53D6\u5C5E\u6027\u548C\u503C</h4><ul><li>index</li><li>values</li></ul><h2 id="\u57FA\u672C\u6570\u636E\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u6570\u636E\u64CD\u4F5C" aria-hidden="true">#</a> \u57FA\u672C\u6570\u636E\u64CD\u4F5C</h2><p>\u4E3A\u4E86\u66F4\u597D\u7684\u7406\u89E3\u8FD9\u4E9B\u57FA\u672C\u64CD\u4F5C\uFF0C\u6211\u4EEC\u5C06\u8BFB\u53D6\u4E00\u4E2A\u771F\u5B9E\u7684\u80A1\u7968\u6570\u636E\u3002\u5173\u4E8E\u6587\u4EF6\u64CD\u4F5C\uFF0C\u540E\u9762\u5728\u4ECB\u7ECD\uFF0C\u8FD9\u91CC\u53EA\u5148\u7528\u4E00\u4E0BAPI</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u8BFB\u53D6\u6587\u4EF6</span>
data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/stock_day.csv&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># \u5220\u9664\u4E00\u4E9B\u5217\uFF0C\u8BA9\u6570\u636E\u66F4\u7B80\u5355\u4E9B\uFF0C\u518D\u53BB\u505A\u540E\u9762\u7684\u64CD\u4F5C</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;ma5&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ma10&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ma20&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;v_ma5&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;v_ma10&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;v_ma20&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+h+`" alt=""></p><h3 id="\u7D22\u5F15\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u64CD\u4F5C" aria-hidden="true">#</a> \u7D22\u5F15\u64CD\u4F5C</h3><p>Numpy\u5F53\u4E2D\u6211\u4EEC\u5DF2\u7ECF\u8BB2\u8FC7\u4F7F\u7528\u7D22\u5F15\u9009\u53D6\u5E8F\u5217\u548C\u5207\u7247\u9009\u62E9\uFF0Cpandas\u4E5F\u652F\u6301\u7C7B\u4F3C\u7684\u64CD\u4F5C\uFF0C\u4E5F\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5217\u540D\u3001\u884C\u540D</p><p>\u79F0\uFF0C\u751A\u81F3\u7EC4\u5408\u4F7F\u7528\u3002</p><h4 id="\u76F4\u63A5\u4F7F\u7528\u884C\u5217\u7D22\u5F15-\u5148\u5217\u540E\u884C" tabindex="-1"><a class="header-anchor" href="#\u76F4\u63A5\u4F7F\u7528\u884C\u5217\u7D22\u5F15-\u5148\u5217\u540E\u884C" aria-hidden="true">#</a> <strong>\u76F4\u63A5\u4F7F\u7528\u884C\u5217\u7D22\u5F15(\u5148\u5217\u540E\u884C)</strong></h4><p>\u83B7\u53D6&#39;2018-02-27&#39;\u8FD9\u5929\u7684&#39;open&#39;\u7684\u7ED3\u679C</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u76F4\u63A5\u4F7F\u7528\u884C\u5217\u7D22\u5F15\u540D\u5B57\u7684\u65B9\u5F0F\uFF08\u5148\u5217\u540E\u884C\uFF09</span>
data<span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;2018-02-27&#39;</span><span class="token punctuation">]</span>
<span class="token number">23.53</span>

<span class="token comment"># \u4E0D\u652F\u6301\u7684\u64CD\u4F5C</span>
<span class="token comment"># \u9519\u8BEF</span>
data<span class="token punctuation">[</span><span class="token string">&#39;2018-02-27&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span>
<span class="token comment"># \u9519\u8BEF</span>
data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7ED3\u5408loc\u6216\u8005iloc\u4F7F\u7528\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u7ED3\u5408loc\u6216\u8005iloc\u4F7F\u7528\u7D22\u5F15" aria-hidden="true">#</a> <strong>\u7ED3\u5408loc\u6216\u8005iloc\u4F7F\u7528\u7D22\u5F15</strong></h4><p>\u83B7\u53D6\u4ECE&#39;2018-02-27&#39;:&#39;2018-02-22&#39;\uFF0C&#39;open&#39;\u7684\u7ED3\u679C</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u4F7F\u7528loc:\u53EA\u80FD\u6307\u5B9A\u884C\u5217\u7D22\u5F15\u7684\u540D\u5B57</span>
data<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">&#39;2018-02-27&#39;</span><span class="token punctuation">:</span><span class="token string">&#39;2018-02-22&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span>

<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>
Name<span class="token punctuation">:</span> <span class="token builtin">open</span><span class="token punctuation">,</span> dtype<span class="token punctuation">:</span> float64

<span class="token comment"># \u4F7F\u7528iloc\u53EF\u4EE5\u901A\u8FC7\u7D22\u5F15\u7684\u4E0B\u6807\u53BB\u83B7\u53D6</span>
<span class="token comment"># \u83B7\u53D6\u524D100\u5929\u6570\u636E\u7684&#39;open&#39;\u5217\u7684\u7ED3\u679C</span>
data<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token builtin">open</span>    high    close    low
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">25.88</span>    <span class="token number">24.16</span>    <span class="token number">23.53</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>    <span class="token number">23.78</span>    <span class="token number">23.53</span>    <span class="token number">22.80</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>    <span class="token number">23.37</span>    <span class="token number">22.82</span>    <span class="token number">22.71</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u4F7F\u7528ix\u7EC4\u5408\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528ix\u7EC4\u5408\u7D22\u5F15" aria-hidden="true">#</a> <strong>\u4F7F\u7528ix\u7EC4\u5408\u7D22\u5F15</strong></h4><blockquote><p>Warning:Starting in 0.20.0, the <code>.ix</code> indexer is deprecated, in favor of the more strict <code>.iloc</code> and <code>.loc</code> indexers.</p></blockquote><p>\u83B7\u53D6\u884C\u7B2C1\u5929\u5230\u7B2C4\u5929\uFF0C[&#39;open&#39;, &#39;close&#39;, &#39;high&#39;, &#39;low&#39;]\u8FD9\u4E2A\u56DB\u4E2A\u6307\u6807\u7684\u7ED3\u679C</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u4F7F\u7528ix\u8FDB\u884C\u4E0B\u8868\u548C\u540D\u79F0\u7EC4\u5408\u505A\u5F15</span>
data<span class="token punctuation">.</span>ix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;close&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;high&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;low&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

<span class="token comment"># \u63A8\u8350\u4F7F\u7528loc\u548Ciloc\u6765\u83B7\u53D6\u7684\u65B9\u5F0F</span>
data<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>data<span class="token punctuation">.</span>index<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;close&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;high&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;low&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
data<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>columns<span class="token punctuation">.</span>get_indexer<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;close&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;high&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;low&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

            <span class="token builtin">open</span>    close    high    low
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">24.16</span>    <span class="token number">25.88</span>    <span class="token number">23.53</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>    <span class="token number">23.53</span>    <span class="token number">23.78</span>    <span class="token number">22.80</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>    <span class="token number">22.82</span>    <span class="token number">23.37</span>    <span class="token number">22.71</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">22.25</span>    <span class="token number">22.28</span>    <span class="token number">22.76</span>    <span class="token number">22.02</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8D4B\u503C\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u8D4B\u503C\u64CD\u4F5C" aria-hidden="true">#</a> \u8D4B\u503C\u64CD\u4F5C</h3><p>\u5BF9DataFrame\u5F53\u4E2D\u7684close\u5217\u8FDB\u884C\u91CD\u65B0\u8D4B\u503C\u4E3A1</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u76F4\u63A5\u4FEE\u6539\u539F\u6765\u7684\u503C</span>
data<span class="token punctuation">[</span><span class="token string">&#39;close&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment"># \u6216\u8005</span>
data<span class="token punctuation">.</span>close <span class="token operator">=</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6392\u5E8F" tabindex="-1"><a class="header-anchor" href="#\u6392\u5E8F" aria-hidden="true">#</a> \u6392\u5E8F</h3><p>\u6392\u5E8F\u6709\u4E24\u79CD\u5F62\u5F0F\uFF0C\u4E00\u79CD\u5BF9\u4E8E\u7D22\u5F15\u8FDB\u884C\u6392\u5E8F\uFF0C\u4E00\u79CD\u5BF9\u4E8E\u5185\u5BB9\u8FDB\u884C\u6392\u5E8F</p><ul><li>\u4F7F\u7528df.sort_values(by=, ascending=) <ul><li>\u5355\u4E2A\u952E\u6216\u8005\u591A\u4E2A\u952E\u8FDB\u884C\u6392\u5E8F,\u9ED8\u8BA4\u5347\u5E8F</li><li>ascending=False:\u964D\u5E8F</li><li>ascending=True:\u5347\u5E8F</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u6309\u7167\u6DA8\u8DCC\u5E45\u5927\u5C0F\u8FDB\u884C\u6392\u5E8F , \u4F7F\u7528ascending\u6307\u5B9A\u6309\u7167\u5927\u5C0F\u6392\u5E8F</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token builtin">open</span>    high    close    low        volume price_change p_change turnover
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">28</span>    <span class="token number">15.40</span>    <span class="token number">16.46</span>    <span class="token number">16.46</span>    <span class="token number">15.00</span>    <span class="token number">117827.60</span>    <span class="token number">1.50</span>    <span class="token number">10.03</span>    <span class="token number">4.03</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">21</span>    <span class="token number">27.50</span>    <span class="token number">28.22</span>    <span class="token number">28.22</span>    <span class="token number">26.50</span>    <span class="token number">121190.11</span>    <span class="token number">2.57</span>    <span class="token number">10.02</span>    <span class="token number">4.15</span>
<span class="token number">2016</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">18.50</span>    <span class="token number">20.42</span>    <span class="token number">20.42</span>    <span class="token number">18.45</span>    <span class="token number">150470.83</span>    <span class="token number">1.86</span>    <span class="token number">10.02</span>    <span class="token number">3.77</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span>    <span class="token number">16.20</span>    <span class="token number">17.35</span>    <span class="token number">17.35</span>    <span class="token number">15.80</span>    <span class="token number">94292.63</span>    <span class="token number">1.58</span>    <span class="token number">10.02</span>    <span class="token number">3.23</span>
<span class="token number">2016</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">07</span>    <span class="token number">18.66</span>    <span class="token number">18.66</span>    <span class="token number">18.66</span>    <span class="token number">18.41</span>    <span class="token number">48756.55</span>    <span class="token number">1.70</span>    <span class="token number">10.02</span>    <span class="token number">1.67</span>

<span class="token comment"># \u6309\u7167\u8FC7\u4E2A\u952E\u8FDB\u884C\u6392\u5E8F</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;high&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token builtin">open</span>    high    close    low        volume price_change p_change turnover
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">15</span>    <span class="token number">34.99</span>    <span class="token number">34.99</span>    <span class="token number">31.69</span>    <span class="token number">31.69</span>    <span class="token number">199369.53</span>    <span class="token operator">-</span><span class="token number">3.52</span>    <span class="token operator">-</span><span class="token number">10.00</span>    <span class="token number">6.82</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">12</span>    <span class="token number">34.69</span>    <span class="token number">35.98</span>    <span class="token number">35.21</span>    <span class="token number">34.01</span>    <span class="token number">159825.88</span>    <span class="token number">0.82</span>    <span class="token number">2.38</span>    <span class="token number">5.47</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">10</span>    <span class="token number">34.10</span>    <span class="token number">36.35</span>    <span class="token number">33.85</span>    <span class="token number">32.23</span>    <span class="token number">269033.12</span>    <span class="token number">0.51</span>    <span class="token number">1.53</span>    <span class="token number">9.21</span>
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>    <span class="token number">33.85</span>    <span class="token number">34.34</span>    <span class="token number">33.83</span>    <span class="token number">33.10</span>    <span class="token number">232325.30</span>    <span class="token operator">-</span><span class="token number">0.61</span>    <span class="token operator">-</span><span class="token number">1.77</span>    <span class="token number">5.81</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">11</span>    <span class="token number">33.17</span>    <span class="token number">34.98</span>    <span class="token number">34.39</span>    <span class="token number">32.51</span>    <span class="token number">173075.73</span>    <span class="token number">0.54</span>    <span class="token number">1.59</span>    <span class="token number">5.92</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528df.sort_index\u7ED9\u7D22\u5F15\u8FDB\u884C\u6392\u5E8F</li></ul><p>\u8FD9\u4E2A\u80A1\u7968\u7684\u65E5\u671F\u7D22\u5F15\u539F\u6765\u662F\u4ECE\u5927\u5230\u5C0F\uFF0C\u73B0\u5728\u91CD\u65B0\u6392\u5E8F\uFF0C\u4ECE\u5C0F\u5230\u5927</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u5BF9\u7D22\u5F15\u8FDB\u884C\u6392\u5E8F</span>
data<span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token builtin">open</span>    high    close    low    volume    price_change    p_change    turnover
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>    <span class="token number">12.25</span>    <span class="token number">12.67</span>    <span class="token number">12.52</span>    <span class="token number">12.20</span>    <span class="token number">96291.73</span>    <span class="token number">0.32</span>    <span class="token number">2.62</span>    <span class="token number">3.30</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">03</span>    <span class="token number">12.52</span>    <span class="token number">13.06</span>    <span class="token number">12.70</span>    <span class="token number">12.52</span>    <span class="token number">139071.61</span>    <span class="token number">0.18</span>    <span class="token number">1.44</span>    <span class="token number">4.76</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">04</span>    <span class="token number">12.80</span>    <span class="token number">12.92</span>    <span class="token number">12.90</span>    <span class="token number">12.61</span>    <span class="token number">67075.44</span>    <span class="token number">0.20</span>    <span class="token number">1.57</span>    <span class="token number">2.30</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">05</span>    <span class="token number">12.88</span>    <span class="token number">13.45</span>    <span class="token number">13.16</span>    <span class="token number">12.87</span>    <span class="token number">93180.39</span>    <span class="token number">0.26</span>    <span class="token number">2.02</span>    <span class="token number">3.19</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">06</span>    <span class="token number">13.17</span>    <span class="token number">14.48</span>    <span class="token number">14.28</span>    <span class="token number">13.13</span>    <span class="token number">179831.72</span>    <span class="token number">1.12</span>    <span class="token number">8.51</span>    <span class="token number">6.16</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528series.sort_values(ascending=True)\u8FDB\u884C\u6392\u5E8F</li></ul><p>series\u6392\u5E8F\u65F6\uFF0C\u53EA\u6709\u4E00\u5217\uFF0C\u4E0D\u9700\u8981\u53C2\u6570</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>ascending<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">2015</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">01</span>   <span class="token operator">-</span><span class="token number">10.03</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">14</span>   <span class="token operator">-</span><span class="token number">10.02</span>
<span class="token number">2016</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">11</span>   <span class="token operator">-</span><span class="token number">10.02</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">15</span>   <span class="token operator">-</span><span class="token number">10.02</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">26</span>   <span class="token operator">-</span><span class="token number">10.01</span>
Name<span class="token punctuation">:</span> p_change<span class="token punctuation">,</span> dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528series.sort_index()\u8FDB\u884C\u6392\u5E8F</li></ul><p>\u4E0Edf\u4E00\u81F4</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u5BF9\u7D22\u5F15\u8FDB\u884C\u6392\u5E8F</span>
data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>    <span class="token number">2.62</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">03</span>    <span class="token number">1.44</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">04</span>    <span class="token number">1.57</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">05</span>    <span class="token number">2.02</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">06</span>    <span class="token number">8.51</span>
Name<span class="token punctuation">:</span> p_change<span class="token punctuation">,</span> dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dataframe\u8FD0\u7B97" tabindex="-1"><a class="header-anchor" href="#dataframe\u8FD0\u7B97" aria-hidden="true">#</a> DataFrame\u8FD0\u7B97</h2><h3 id="\u7B97\u672F\u8FD0\u7B97" tabindex="-1"><a class="header-anchor" href="#\u7B97\u672F\u8FD0\u7B97" aria-hidden="true">#</a> \u7B97\u672F\u8FD0\u7B97</h3><ul><li>add(other)</li></ul><p>\u6BD4\u5982\u8FDB\u884C\u6570\u5B66\u8FD0\u7B97\u52A0\u4E0A\u5177\u4F53\u7684\u4E00\u4E2A\u6570\u5B57</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">24.53</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">23.80</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">23.88</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">23.25</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">22.49</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>sub(other)</li></ul><p>\u5982\u679C\u60F3\u8981\u5F97\u5230\u6BCF\u5929\u7684\u6DA8\u8DCC\u5927\u5C0F\uFF1F\u6C42\u51FA\u6BCF\u5929 close- open\u4EF7\u683C\u5DEE</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 1\u3001\u7B5B\u9009\u4E24\u5217\u6570\u636E</span>
close <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">&#39;close&#39;</span><span class="token punctuation">]</span>
open1 <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span>
<span class="token comment"># 2\u3001\u6536\u76D8\u4EF7\u51CF\u53BB\u5F00\u76D8\u4EF7</span>
data<span class="token punctuation">[</span><span class="token string">&#39;m_price_change&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> close<span class="token punctuation">.</span>sub<span class="token punctuation">(</span>open1<span class="token punctuation">)</span>
data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token builtin">open</span>     high   close   low   volume  price_change  p_change  turnover my_price_change
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">25.88</span>    <span class="token number">24.16</span>    <span class="token number">23.53</span>    <span class="token number">95578.03</span>    <span class="token number">0.63</span>    <span class="token number">2.68</span>    <span class="token number">2.39</span>    <span class="token number">0.63</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>    <span class="token number">23.78</span>    <span class="token number">23.53</span>    <span class="token number">22.80</span>    <span class="token number">60985.11</span>    <span class="token number">0.69</span>    <span class="token number">3.02</span>    <span class="token number">1.53</span>    <span class="token number">0.73</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>    <span class="token number">23.37</span>    <span class="token number">22.82</span>    <span class="token number">22.71</span>    <span class="token number">52914.01</span>    <span class="token number">0.54</span>    <span class="token number">2.42</span>    <span class="token number">1.32</span>    <span class="token operator">-</span><span class="token number">0.06</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">22.25</span>    <span class="token number">22.76</span>    <span class="token number">22.28</span>    <span class="token number">22.02</span>    <span class="token number">36105.01</span>    <span class="token number">0.36</span>    <span class="token number">1.64</span>    <span class="token number">0.90</span>    <span class="token number">0.03</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">21.49</span>    <span class="token number">21.99</span>    <span class="token number">21.92</span>    <span class="token number">21.48</span>    <span class="token number">23331.04</span>    <span class="token number">0.44</span>    <span class="token number">2.05</span>    <span class="token number">0.58</span>    <span class="token number">0.43</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u903B\u8F91\u8FD0\u7B97" tabindex="-1"><a class="header-anchor" href="#\u903B\u8F91\u8FD0\u7B97" aria-hidden="true">#</a> \u903B\u8F91\u8FD0\u7B97</h3><h4 id="\u903B\u8F91\u8FD0\u7B97\u7B26\u53F7-\u3001-\u3001-\u3001" tabindex="-1"><a class="header-anchor" href="#\u903B\u8F91\u8FD0\u7B97\u7B26\u53F7-\u3001-\u3001-\u3001" aria-hidden="true">#</a> \u903B\u8F91\u8FD0\u7B97\u7B26\u53F7&lt;\u3001 &gt;\u3001|\u3001 &amp;</h4><ul><li>\u4F8B\u5982\u7B5B\u9009p_change &gt; 2\u7684\u65E5\u671F\u6570\u636E <ul><li>data[&#39;p_change&#39;] &gt; 2\u8FD4\u56DE\u903B\u8F91\u7ED3\u679C</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">2</span>

<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>     <span class="token boolean">True</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>     <span class="token boolean">True</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>     <span class="token boolean">True</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token boolean">False</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>     <span class="token boolean">True</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u903B\u8F91\u5224\u65AD\u7684\u7ED3\u679C\u53EF\u4EE5\u4F5C\u4E3A\u7B5B\u9009\u7684\u4F9D\u636E</span>
data<span class="token punctuation">[</span>data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">]</span>

pen    high    close    low    volume    price_change    p_change    turnover    my_price_change
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">25.88</span>    <span class="token number">24.16</span>    <span class="token number">23.53</span>    <span class="token number">95578.03</span>    <span class="token number">0.63</span>    <span class="token number">2.68</span>    <span class="token number">2.39</span>    <span class="token number">0.63</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>    <span class="token number">23.78</span>    <span class="token number">23.53</span>    <span class="token number">22.80</span>    <span class="token number">60985.11</span>    <span class="token number">0.69</span>    <span class="token number">3.02</span>    <span class="token number">1.53</span>    <span class="token number">0.73</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>    <span class="token number">23.37</span>    <span class="token number">22.82</span>    <span class="token number">22.71</span>    <span class="token number">52914.01</span>    <span class="token number">0.54</span>    <span class="token number">2.42</span>    <span class="token number">1.32</span>    <span class="token operator">-</span><span class="token number">0.06</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">21.49</span>    <span class="token number">21.99</span>    <span class="token number">21.92</span>    <span class="token number">21.48</span>    <span class="token number">23331.04</span>    <span class="token number">0.44</span>    <span class="token number">2.05</span>    <span class="token number">0.58</span>    <span class="token number">0.43</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">12</span>    <span class="token number">20.70</span>    <span class="token number">21.40</span>    <span class="token number">21.19</span>    <span class="token number">20.63</span>    <span class="token number">32445.39</span>    <span class="token number">0.82</span>    <span class="token number">4.03</span>    <span class="token number">0.81</span>    <span class="token number">0.49</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5B8C\u6210\u4E00\u4E2A\u591A\u4E2A\u903B\u8F91\u5224\u65AD\uFF0C \u7B5B\u9009p_change &gt; 2\u5E76\u4E14open &gt; 15</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">[</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token builtin">open</span>    high    close    low    volume    price_change    p_change    turnover    my_price_change
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">28.00</span>    <span class="token number">29.89</span>    <span class="token number">29.34</span>    <span class="token number">27.68</span>    <span class="token number">243773.23</span>    <span class="token number">1.10</span>    <span class="token number">3.90</span>    <span class="token number">6.10</span>    <span class="token number">1.34</span>
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">31</span>    <span class="token number">32.62</span>    <span class="token number">35.22</span>    <span class="token number">34.44</span>    <span class="token number">32.20</span>    <span class="token number">361660.88</span>    <span class="token number">2.38</span>    <span class="token number">7.42</span>    <span class="token number">9.05</span>    <span class="token number">1.82</span>
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">31.45</span>    <span class="token number">33.20</span>    <span class="token number">33.11</span>    <span class="token number">31.45</span>    <span class="token number">333824.31</span>    <span class="token number">0.70</span>    <span class="token number">2.16</span>    <span class="token number">8.35</span>    <span class="token number">1.66</span>
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">29.30</span>    <span class="token number">32.70</span>    <span class="token number">32.41</span>    <span class="token number">28.92</span>    <span class="token number">501915.41</span>    <span class="token number">2.68</span>    <span class="token number">9.01</span>    <span class="token number">12.56</span>    <span class="token number">3.11</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u903B\u8F91\u8FD0\u7B97\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u903B\u8F91\u8FD0\u7B97\u51FD\u6570" aria-hidden="true">#</a> \u903B\u8F91\u8FD0\u7B97\u51FD\u6570</h4><ul><li>query(expr) <ul><li>expr:\u67E5\u8BE2\u5B57\u7B26\u4E32</li></ul></li></ul><p>\u901A\u8FC7query\u4F7F\u5F97\u521A\u624D\u7684\u8FC7\u7A0B\u66F4\u52A0\u65B9\u4FBF\u7B80\u5355</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">&quot;p_change &gt; 2 &amp; turnover &gt; 15&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>isin(values)</li></ul><p>\u4F8B\u5982\u5224\u65AD&#39;turnover&#39;\u662F\u5426\u4E3A4.19, 2.39</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u53EF\u4EE5\u6307\u5B9A\u503C\u8FDB\u884C\u4E00\u4E2A\u5224\u65AD\uFF0C\u4ECE\u800C\u8FDB\u884C\u7B5B\u9009\u64CD\u4F5C</span>
data<span class="token punctuation">[</span>data<span class="token punctuation">[</span><span class="token string">&#39;turnover&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4.19</span><span class="token punctuation">,</span> <span class="token number">2.39</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token builtin">open</span>    high    close    low    volume    price_change    p_change    turnover    my_price_change
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">25.88</span>    <span class="token number">24.16</span>    <span class="token number">23.53</span>    <span class="token number">95578.03</span>    <span class="token number">0.63</span>    <span class="token number">2.68</span>    <span class="token number">2.39</span>    <span class="token number">0.63</span>
<span class="token number">2017</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">25</span>    <span class="token number">23.07</span>    <span class="token number">24.20</span>    <span class="token number">23.70</span>    <span class="token number">22.64</span>    <span class="token number">167489.48</span>    <span class="token number">0.67</span>    <span class="token number">2.91</span>    <span class="token number">4.19</span>    <span class="token number">0.63</span>
<span class="token number">2016</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span>    <span class="token number">19.88</span>    <span class="token number">20.98</span>    <span class="token number">20.86</span>    <span class="token number">19.71</span>    <span class="token number">95580.75</span>    <span class="token number">0.98</span>    <span class="token number">4.93</span>    <span class="token number">2.39</span>    <span class="token number">0.98</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span>    <span class="token number">16.54</span>    <span class="token number">17.98</span>    <span class="token number">17.54</span>    <span class="token number">16.50</span>    <span class="token number">122471.85</span>    <span class="token number">0.88</span>    <span class="token number">5.28</span>    <span class="token number">4.19</span>    <span class="token number">1.00</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7EDF\u8BA1\u8FD0\u7B97" tabindex="-1"><a class="header-anchor" href="#\u7EDF\u8BA1\u8FD0\u7B97" aria-hidden="true">#</a> \u7EDF\u8BA1\u8FD0\u7B97</h3><h4 id="describe" tabindex="-1"><a class="header-anchor" href="#describe" aria-hidden="true">#</a> describe()</h4><p>\u7EFC\u5408\u5206\u6790: \u80FD\u591F\u76F4\u63A5\u5F97\u51FA\u5F88\u591A\u7EDF\u8BA1\u7ED3\u679C,<code>count</code>, <code>mean</code>, <code>std</code>, <code>min</code>, <code>max</code> \u7B49</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u8BA1\u7B97\u5E73\u5747\u503C\u3001\u6807\u51C6\u5DEE\u3001\u6700\u5927\u503C\u3001\u6700\u5C0F\u503C</span>
data<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+g+`" alt=""></p><h4 id="\u7EDF\u8BA1\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u7EDF\u8BA1\u51FD\u6570" aria-hidden="true">#</a> \u7EDF\u8BA1\u51FD\u6570</h4><p>Numpy\u5F53\u4E2D\u5DF2\u7ECF\u8BE6\u7EC6\u4ECB\u7ECD\uFF0C\u5728\u8FD9\u91CC\u6211\u4EEC\u6F14\u793Amin(\u6700\u5C0F\u503C), max(\u6700\u5927\u503C), mean(\u5E73\u5747\u503C), median(\u4E2D\u4F4D\u6570), var(\u65B9\u5DEE), std(\u6807\u51C6\u5DEE),mode(\u4F17\u6570)\u7ED3\u679C,</p><table><thead><tr><th><code>count</code></th><th>Number of non-NA observations</th></tr></thead><tbody><tr><td><code>sum</code></td><td><strong>Sum of values</strong></td></tr><tr><td><code>mean</code></td><td><strong>Mean of values</strong></td></tr><tr><td><code>median</code></td><td>Arithmetic median of values</td></tr><tr><td><code>min</code></td><td><strong>Minimum</strong></td></tr><tr><td><code>max</code></td><td><strong>Maximum</strong></td></tr><tr><td><code>mode</code></td><td>Mode</td></tr><tr><td><code>abs</code></td><td>Absolute Value</td></tr><tr><td><code>prod</code></td><td>Product of values</td></tr><tr><td><code>std</code></td><td><strong>Bessel-corrected sample standard deviation</strong></td></tr><tr><td><code>var</code></td><td><strong>Unbiased variance</strong></td></tr><tr><td><code>idxmax</code></td><td>compute the index labels with the maximum</td></tr><tr><td><code>idxmin</code></td><td>compute the index labels with the minimum</td></tr></tbody></table><p><strong>\u5BF9\u4E8E\u5355\u4E2A\u51FD\u6570\u53BB\u8FDB\u884C\u7EDF\u8BA1\u7684\u65F6\u5019\uFF0C\u5750\u6807\u8F74\u8FD8\u662F\u6309\u7167\u8FD9\u4E9B\u9ED8\u8BA4\u4E3A\u201Ccolumns\u201D (axis=0, default)\uFF0C\u5982\u679C\u8981\u5BF9\u884C\u201Cindex\u201D \u9700\u8981\u6307\u5B9A(axis=1)</strong></p><ul><li>max()\u3001min()</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u4F7F\u7528\u7EDF\u8BA1\u51FD\u6570\uFF1A0 \u4EE3\u8868\u5217\u6C42\u7ED3\u679C\uFF0C 1 \u4EE3\u8868\u884C\u6C42\u7EDF\u8BA1\u7ED3\u679C</span>
data<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>                   <span class="token number">34.99</span>
high                   <span class="token number">36.35</span>
close                  <span class="token number">35.21</span>
low                    <span class="token number">34.01</span>
volume             <span class="token number">501915.41</span>
price_change            <span class="token number">3.03</span>
p_change               <span class="token number">10.03</span>
turnover               <span class="token number">12.56</span>
my_price_change         <span class="token number">3.41</span>
dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>std()\u3001var()</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u65B9\u5DEE</span>
data<span class="token punctuation">.</span>var<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>               <span class="token number">1.545255e+01</span>
high               <span class="token number">1.662665e+01</span>
close              <span class="token number">1.554572e+01</span>
low                <span class="token number">1.437902e+01</span>
volume             <span class="token number">5.458124e+09</span>
price_change       <span class="token number">8.072595e-01</span>
p_change           <span class="token number">1.664394e+01</span>
turnover           <span class="token number">4.323800e+00</span>
my_price_change    <span class="token number">6.409037e-01</span>
dtype<span class="token punctuation">:</span> float64

<span class="token comment"># \u6807\u51C6\u5DEE</span>
data<span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>                   <span class="token number">3.930973</span>
high                   <span class="token number">4.077578</span>
close                  <span class="token number">3.942806</span>
low                    <span class="token number">3.791968</span>
volume             <span class="token number">73879.119354</span>
price_change           <span class="token number">0.898476</span>
p_change               <span class="token number">4.079698</span>
turnover               <span class="token number">2.079375</span>
my_price_change        <span class="token number">0.800565</span>
dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>median()\uFF1A\u4E2D\u4F4D\u6570</li></ul><p>\u4E2D\u4F4D\u6570\u4E3A\u5C06\u6570\u636E\u4ECE\u5C0F\u5230\u5927\u6392\u5217\uFF0C\u5728\u6700\u4E2D\u95F4\u7684\u90A3\u4E2A\u6570\u4E3A\u4E2D\u4F4D\u6570\u3002\u5982\u679C\u6CA1\u6709\u4E2D\u95F4\u6570\uFF0C\u53D6\u4E2D\u95F4\u4E24\u4E2A\u6570\u7684\u5E73\u5747\u503C\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&#39;COL1&#39;</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                   <span class="token string">&#39;COL2&#39;</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

df<span class="token punctuation">.</span>median<span class="token punctuation">(</span><span class="token punctuation">)</span>

COL1    <span class="token number">3.5</span>
COL2    <span class="token number">2.0</span>
dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>idxmax()\u3001idxmin()</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u6C42\u51FA\u6700\u5927\u503C\u7684\u4F4D\u7F6E</span>
data<span class="token punctuation">.</span>idxmax<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>               <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">15</span>
high               <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">10</span>
close              <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">12</span>
low                <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">12</span>
volume             <span class="token number">2017</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">26</span>
price_change       <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span>
p_change           <span class="token number">2015</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">28</span>
turnover           <span class="token number">2017</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">26</span>
my_price_change    <span class="token number">2015</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">10</span>
dtype<span class="token punctuation">:</span> <span class="token builtin">object</span>


<span class="token comment"># \u6C42\u51FA\u6700\u5C0F\u503C\u7684\u4F4D\u7F6E</span>
data<span class="token punctuation">.</span>idxmin<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>               <span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>
high               <span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>
close              <span class="token number">2015</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">02</span>
low                <span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>
volume             <span class="token number">2016</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">06</span>
price_change       <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">15</span>
p_change           <span class="token number">2015</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">01</span>
turnover           <span class="token number">2016</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">06</span>
my_price_change    <span class="token number">2015</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">15</span>
dtype<span class="token punctuation">:</span> <span class="token builtin">object</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7D2F\u8BA1\u7EDF\u8BA1\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u7D2F\u8BA1\u7EDF\u8BA1\u51FD\u6570" aria-hidden="true">#</a> \u7D2F\u8BA1\u7EDF\u8BA1\u51FD\u6570</h3><table><thead><tr><th>\u51FD\u6570</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td><code>cumsum</code></td><td><strong>\u8BA1\u7B97\u524D1/2/3/\u2026/n\u4E2A\u6570\u7684\u548C</strong></td></tr><tr><td><code>cummax</code></td><td>\u8BA1\u7B97\u524D1/2/3/\u2026/n\u4E2A\u6570\u7684\u6700\u5927\u503C</td></tr><tr><td><code>cummin</code></td><td>\u8BA1\u7B97\u524D1/2/3/\u2026/n\u4E2A\u6570\u7684\u6700\u5C0F\u503C</td></tr><tr><td><code>cumprod</code></td><td>\u8BA1\u7B97\u524D1/2/3/\u2026/n\u4E2A\u6570\u7684\u79EF</td></tr></tbody></table><p><strong>\u90A3\u4E48\u8FD9\u4E9B\u7D2F\u8BA1\u7EDF\u8BA1\u51FD\u6570\u600E\u4E48\u7528\uFF1F</strong></p><p><img src="`+y+`" alt=""></p><p>\u4EE5\u4E0A\u8FD9\u4E9B\u51FD\u6570\u53EF\u4EE5\u5BF9series\u548Cdataframe\u64CD\u4F5C</p><p>\u8FD9\u91CC\u6211\u4EEC\u6309\u7167\u65F6\u95F4\u7684\u4ECE\u524D\u5F80\u540E\u6765\u8FDB\u884C\u7D2F\u8BA1</p><ul><li>\u6392\u5E8F</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u6392\u5E8F\u4E4B\u540E\uFF0C\u8FDB\u884C\u7D2F\u8BA1\u6C42\u548C</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5BF9p_change\u8FDB\u884C\u6C42\u548C</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>stock_rise <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span>
<span class="token comment"># plot\u65B9\u6CD5\u96C6\u6210\u4E86\u524D\u9762\u76F4\u65B9\u56FE\u3001\u6761\u5F62\u56FE\u3001\u997C\u56FE\u3001\u6298\u7EBF\u56FE</span>
stock_rise<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">02</span>      <span class="token number">2.62</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">03</span>      <span class="token number">4.06</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">04</span>      <span class="token number">5.63</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">05</span>      <span class="token number">7.65</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">06</span>     <span class="token number">16.16</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">09</span>     <span class="token number">16.37</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">10</span>     <span class="token number">18.75</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">11</span>     <span class="token number">16.36</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">12</span>     <span class="token number">15.03</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">13</span>     <span class="token number">17.58</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">16</span>     <span class="token number">20.34</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">17</span>     <span class="token number">22.42</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">18</span>     <span class="token number">23.28</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span>     <span class="token number">23.74</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">20</span>     <span class="token number">23.48</span>
<span class="token number">2015</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">23</span>     <span class="token number">23.74</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u90A3\u4E48\u5982\u4F55\u8BA9\u8FD9\u4E2A\u8FDE\u7EED\u6C42\u548C\u7684\u7ED3\u679C\u66F4\u597D\u7684\u663E\u793A\u5462\uFF1F</strong></p><p><img src="`+_+`" alt=""></p><p>\u5982\u679C\u8981\u4F7F\u7528plot\u51FD\u6570\uFF0C\u9700\u8981\u5BFC\u5165matplotlib.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token comment"># plot\u663E\u793A\u56FE\u5F62</span>
stock_rise<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># \u9700\u8981\u8C03\u7528show\uFF0C\u624D\u80FD\u663E\u793A\u51FA\u7ED3\u679C</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5173\u4E8Eplot\uFF0C\u7A0D\u540E\u4F1A\u4ECB\u7ECDAPI\u7684\u9009\u62E9</p></blockquote><h3 id="\u81EA\u5B9A\u4E49\u8FD0\u7B97" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u8FD0\u7B97" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u8FD0\u7B97</h3><ul><li>apply(func, axis=0) <ul><li>func:\u81EA\u5B9A\u4E49\u51FD\u6570</li><li>axis=0:\u9ED8\u8BA4\u662F\u5217\uFF0Caxis=1\u4E3A\u884C\u8FDB\u884C\u8FD0\u7B97</li></ul></li><li>\u5B9A\u4E49\u4E00\u4E2A\u5BF9\u5217\uFF0C\u6700\u5927\u503C-\u6700\u5C0F\u503C\u7684\u51FD\u6570</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;close&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> x<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token builtin">open</span>     <span class="token number">22.74</span>
close    <span class="token number">22.85</span>
dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="pandas\u753B\u56FE" tabindex="-1"><a class="header-anchor" href="#pandas\u753B\u56FE" aria-hidden="true">#</a> Pandas\u753B\u56FE</h2><h3 id="pandas-dataframe-plot" tabindex="-1"><a class="header-anchor" href="#pandas-dataframe-plot" aria-hidden="true">#</a> pandas.DataFrame.plot</h3><ul><li><code>DataFrame.plot</code>(<em>x=None</em>, <em>y=None</em>, <em>kind=&#39;line&#39;</em>) <ul><li>x : label or position, default None</li><li>y : label, position or list of label, positions, default None <ul><li>Allows plotting of one column versus another</li></ul></li><li>kind : str <ul><li>\u2018line\u2019 : line plot (default)</li><li>\u2018bar\u2019 : vertical bar plot</li><li>\u2018barh\u2019 : horizontal bar plot <ul><li>\u5173\u4E8E\u201Cbarh\u201D\u7684\u89E3\u91CA\uFF1A</li><li>http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.plot.barh.html</li></ul></li><li>\u2018hist\u2019 : histogram</li><li>\u2018pie\u2019 : pie plot</li><li>\u2018scatter\u2019 : scatter plot</li></ul></li></ul></li></ul><blockquote><p>\u66F4\u591A\u53C2\u6570\u7EC6\u8282\uFF1Ahttps://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.plot.html?highlight=plot#pandas.DataFrame.plot</p></blockquote><h3 id="pandas-series-plot" tabindex="-1"><a class="header-anchor" href="#pandas-series-plot" aria-hidden="true">#</a> pandas.Series.plot</h3><blockquote><p>\u66F4\u591A\u53C2\u6570\u7EC6\u8282\uFF1Ahttps://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.plot.html?highlight=plot#pandas.Series.plot</p></blockquote><h2 id="\u6587\u4EF6\u8BFB\u53D6\u4E0E\u5B58\u50A8" tabindex="-1"><a class="header-anchor" href="#\u6587\u4EF6\u8BFB\u53D6\u4E0E\u5B58\u50A8" aria-hidden="true">#</a> \u6587\u4EF6\u8BFB\u53D6\u4E0E\u5B58\u50A8</h2><p>\u6211\u4EEC\u7684\u6570\u636E\u5927\u90E8\u5206\u5B58\u5728\u4E8E\u6587\u4EF6\u5F53\u4E2D\uFF0C\u6240\u4EE5pandas\u4F1A\u652F\u6301\u590D\u6742\u7684IO\u64CD\u4F5C\uFF0Cpandas\u7684API\u652F\u6301\u4F17\u591A\u7684\u6587\u4EF6\u683C\u5F0F\uFF0C\u5982CSV\u3001SQL\u3001XLS\u3001JSON\u3001HDF5\u3002</p><blockquote><p>\u6CE8\uFF1A\u6700\u5E38\u7528\u7684HDF5\u548CCSV\u6587\u4EF6</p></blockquote><p><img src="`+x+`" alt=""></p><h3 id="csv" tabindex="-1"><a class="header-anchor" href="#csv" aria-hidden="true">#</a> CSV</h3><h4 id="read-csv" tabindex="-1"><a class="header-anchor" href="#read-csv" aria-hidden="true">#</a> read_csv</h4><ul><li>pandas.read_csv(filepath_or_buffer, sep =&#39;,&#39; ) <ul><li>filepath_or_buffer:\u6587\u4EF6\u8DEF\u5F84</li><li>usecols:\u6307\u5B9A\u8BFB\u53D6\u7684\u5217\u540D\uFF0C\u5217\u8868\u5F62\u5F0F</li></ul></li></ul><p>\u8BFB\u53D6\u4E4B\u524D\u7684\u80A1\u7968\u7684\u6570\u636E</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u8BFB\u53D6\u6587\u4EF6,\u5E76\u4E14\u6307\u5B9A\u53EA\u83B7\u53D6&#39;open&#39;, &#39;close&#39;\u6307\u6807</span>
data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/stock_day.csv&quot;</span><span class="token punctuation">,</span> usecols<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;close&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

            <span class="token builtin">open</span>    high    close
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>    <span class="token number">25.88</span>    <span class="token number">24.16</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>    <span class="token number">23.78</span>    <span class="token number">23.53</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>    <span class="token number">23.37</span>    <span class="token number">22.82</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">22.25</span>    <span class="token number">22.76</span>    <span class="token number">22.28</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">21.49</span>    <span class="token number">21.99</span>    <span class="token number">21.92</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="to-csv" tabindex="-1"><a class="header-anchor" href="#to-csv" aria-hidden="true">#</a> to_csv</h4><ul><li>DataFrame.to_csv(path_or_buf=None, sep=&#39;, \u2019, columns=None, header=True, index=True, mode=&#39;w&#39;, encoding=None) <ul><li>path_or_buf :string or file handle, default None</li><li>sep :character, default \u2018,\u2019</li><li>columns :sequence, optional</li><li>mode:&#39;w&#39;\uFF1A\u91CD\u5199, &#39;a&#39; \u8FFD\u52A0</li><li>index:\u662F\u5426\u5199\u8FDB\u884C\u7D22\u5F15</li><li>header :boolean or list of string, default True,\u662F\u5426\u5199\u8FDB\u5217\u7D22\u5F15\u503C</li></ul></li></ul><h4 id="\u6848\u4F8B-1" tabindex="-1"><a class="header-anchor" href="#\u6848\u4F8B-1" aria-hidden="true">#</a> \u6848\u4F8B</h4><ul><li>\u4FDD\u5B58&#39;open&#39;\u5217\u7684\u6570\u636E</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u9009\u53D610\u884C\u6570\u636E\u4FDD\u5B58,\u4FBF\u4E8E\u89C2\u5BDF\u6570\u636E</span>
data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/test.csv&quot;</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u8BFB\u53D6\uFF0C\u67E5\u770B\u7ED3\u679C</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/test.csv&quot;</span><span class="token punctuation">)</span>

     Unnamed<span class="token punctuation">:</span> <span class="token number">0</span>    <span class="token builtin">open</span>
<span class="token number">0</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">27</span>    <span class="token number">23.53</span>
<span class="token number">1</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">26</span>    <span class="token number">22.80</span>
<span class="token number">2</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">23</span>    <span class="token number">22.88</span>
<span class="token number">3</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span>    <span class="token number">22.25</span>
<span class="token number">4</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">14</span>    <span class="token number">21.49</span>
<span class="token number">5</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">13</span>    <span class="token number">21.40</span>
<span class="token number">6</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">12</span>    <span class="token number">20.70</span>
<span class="token number">7</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">09</span>    <span class="token number">21.20</span>
<span class="token number">8</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">08</span>    <span class="token number">21.79</span>
<span class="token number">9</span>    <span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">07</span>    <span class="token number">22.69</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F1A\u53D1\u73B0\u5C06\u7D22\u5F15\u5B58\u5165\u5230\u6587\u4EF6\u5F53\u4E2D\uFF0C\u53D8\u6210\u5355\u72EC\u7684\u4E00\u5217\u6570\u636E\u3002\u5982\u679C\u9700\u8981\u5220\u9664\uFF0C\u53EF\u4EE5\u6307\u5B9Aindex\u53C2\u6570,\u5220\u9664\u539F\u6765\u7684\u6587\u4EF6\uFF0C\u91CD\u65B0\u4FDD\u5B58\u4E00\u6B21\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># index:\u5B58\u50A8\u4E0D\u4F1A\u8BB2\u7D22\u5F15\u503C\u53D8\u6210\u4E00\u5217\u6570\u636E</span>
data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/test.csv&quot;</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="hdf5" tabindex="-1"><a class="header-anchor" href="#hdf5" aria-hidden="true">#</a> HDF5</h3><h4 id="read-hdf\u4E0Eto-hdf" tabindex="-1"><a class="header-anchor" href="#read-hdf\u4E0Eto-hdf" aria-hidden="true">#</a> read_hdf\u4E0Eto_hdf</h4><p><strong>HDF5\u6587\u4EF6\u7684\u8BFB\u53D6\u548C\u5B58\u50A8\u9700\u8981\u6307\u5B9A\u4E00\u4E2A\u952E\uFF0C\u503C\u4E3A\u8981\u5B58\u50A8\u7684DataFrame</strong></p><ul><li><p>pandas.read_hdf(path_or_buf\uFF0Ckey =None\uFF0C** kwargs)</p><p>\u4ECEh5\u6587\u4EF6\u5F53\u4E2D\u8BFB\u53D6\u6570\u636E</p><ul><li>path_or_buffer:\u6587\u4EF6\u8DEF\u5F84</li><li>key:\u8BFB\u53D6\u7684\u952E</li><li>return:Theselected object</li></ul></li><li><p>DataFrame.to_hdf(path_or_buf, <em>key</em>, **/<em>kwargs</em>)</p></li></ul><h4 id="\u6848\u4F8B-2" tabindex="-1"><a class="header-anchor" href="#\u6848\u4F8B-2" aria-hidden="true">#</a> \u6848\u4F8B</h4><ul><li>\u8BFB\u53D6\u6587\u4EF6</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>day_eps_ttm <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_hdf<span class="token punctuation">(</span><span class="token string">&quot;./data/stock_data/day/day_eps_ttm.h5&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5982\u679C\u8BFB\u53D6\u7684\u65F6\u5019\u51FA\u73B0\u4EE5\u4E0B\u9519\u8BEF</p><p><img src="`+f+`" alt=""></p><p>\u9700\u8981\u5B89\u88C5\u5B89\u88C5tables\u6A21\u5757\u907F\u514D\u4E0D\u80FD\u8BFB\u53D6HDF5\u6587\u4EF6</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pip install tables
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+q+`" alt=""></p><ul><li>\u5B58\u50A8\u6587\u4EF6</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>day_eps_ttm<span class="token punctuation">.</span>to_hdf<span class="token punctuation">(</span><span class="token string">&quot;./data/test.h5&quot;</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token string">&quot;day_eps_ttm&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u518D\u6B21\u8BFB\u53D6\u7684\u65F6\u5019, \u9700\u8981\u6307\u5B9A\u952E\u7684\u540D\u5B57</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>new_eps <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_hdf<span class="token punctuation">(</span><span class="token string">&quot;./data/test.h5&quot;</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token string">&quot;day_eps_ttm&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="json" tabindex="-1"><a class="header-anchor" href="#json" aria-hidden="true">#</a> JSON</h3><p>JSON\u662F\u6211\u4EEC\u5E38\u7528\u7684\u4E00\u79CD\u6570\u636E\u4EA4\u6362\u683C\u5F0F\uFF0C\u524D\u9762\u5728\u524D\u540E\u7AEF\u7684\u4EA4\u4E92\u7ECF\u5E38\u7528\u5230\uFF0C\u4E5F\u4F1A\u5728\u5B58\u50A8\u7684\u65F6\u5019\u9009\u62E9\u8FD9\u79CD\u683C\u5F0F\u3002\u6240\u4EE5\u6211\u4EEC\u9700\u8981\u77E5\u9053Pandas\u5982\u4F55\u8FDB\u884C\u8BFB\u53D6\u548C\u5B58\u50A8JSON\u683C\u5F0F\u3002</p><h4 id="read-json" tabindex="-1"><a class="header-anchor" href="#read-json" aria-hidden="true">#</a> read_json</h4><ul><li><p>pandas.read_json(path_or_buf=None, orient=None, typ=&#39;frame&#39;, lines=False)</p><ul><li><p>\u5C06JSON\u683C\u5F0F\u51C6\u6362\u6210\u9ED8\u8BA4\u7684Pandas DataFrame\u683C\u5F0F</p></li><li><p>orient : string,Indication of expected JSON string format.</p><ul><li><p>&#39;split&#39; : dict like {index -&gt; [index], columns -&gt; [columns], data -&gt; [values]}</p><ul><li>split \u5C06\u7D22\u5F15\u603B\u7ED3\u5230\u7D22\u5F15\uFF0C\u5217\u540D\u5230\u5217\u540D\uFF0C\u6570\u636E\u5230\u6570\u636E\u3002\u5C06\u4E09\u90E8\u5206\u90FD\u5206\u5F00\u4E86</li></ul></li><li><p>&#39;records&#39; : list like [{column -&gt; value}, ... , {column -&gt; value}]</p><ul><li>records \u4EE5<code>columns\uFF1Avalues</code>\u7684\u5F62\u5F0F\u8F93\u51FA</li></ul></li><li><p>&#39;index&#39; : dict like {index -&gt; {column -&gt; value}}</p><ul><li>index \u4EE5<code>index\uFF1A{columns\uFF1Avalues}...</code>\u7684\u5F62\u5F0F\u8F93\u51FA</li></ul></li><li><p>&#39;columns&#39; : dict like {column -&gt; {index -&gt; value}}</p><p>,\u9ED8\u8BA4\u8BE5\u683C\u5F0F</p><ul><li>colums \u4EE5<code>columns:{index:values}</code>\u7684\u5F62\u5F0F\u8F93\u51FA</li></ul></li><li><p>&#39;values&#39; : just the values array</p><ul><li>values \u76F4\u63A5\u8F93\u51FA\u503C</li></ul></li></ul></li><li><p>lines : boolean, default False</p><ul><li>\u6309\u7167\u6BCF\u884C\u8BFB\u53D6json\u5BF9\u8C61</li></ul></li><li><p>typ : default \u2018frame\u2019\uFF0C \u6307\u5B9A\u8F6C\u6362\u6210\u7684\u5BF9\u8C61\u7C7B\u578Bseries\u6216\u8005dataframe</p></li></ul></li></ul><h4 id="read-josn-\u6848\u4F8B" tabindex="-1"><a class="header-anchor" href="#read-josn-\u6848\u4F8B" aria-hidden="true">#</a> read_josn \u6848\u4F8B</h4><ul><li>\u6570\u636E\u4ECB\u7ECD</li></ul><p>\u8FD9\u91CC\u4F7F\u7528\u4E00\u4E2A\u65B0\u95FB\u6807\u9898\u8BBD\u523A\u6570\u636E\u96C6\uFF0C\u683C\u5F0F\u4E3Ajson\u3002<code>is_sarcastic</code>\uFF1A1\u8BBD\u523A\u7684\uFF0C\u5426\u5219\u4E3A0\uFF1B<code>headline</code>\uFF1A\u65B0\u95FB\u62A5\u9053\u7684\u6807\u9898\uFF1B<code>article_link</code>\uFF1A\u94FE\u63A5\u5230\u539F\u59CB\u65B0\u95FB\u6587\u7AE0\u3002\u5B58\u50A8\u683C\u5F0F\u4E3A\uFF1A</p><div class="language-jso ext-jso line-numbers-mode"><pre class="language-jso"><code>{&quot;article_link&quot;: &quot;https://www.huffingtonpost.com/entry/versace-black-code_us_5861fbefe4b0de3a08f600d5&quot;, &quot;headline&quot;: &quot;former versace store clerk sues over secret &#39;black code&#39; for minority shoppers&quot;, &quot;is_sarcastic&quot;: 0}
{&quot;article_link&quot;: &quot;https://www.huffingtonpost.com/entry/roseanne-revival-review_us_5ab3a497e4b054d118e04365&quot;, &quot;headline&quot;: &quot;the &#39;roseanne&#39; revival catches up to our thorny political mood, for better and worse&quot;, &quot;is_sarcastic&quot;: 0}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u8BFB\u53D6</li></ul><p>orient\u6307\u5B9A\u5B58\u50A8\u7684json\u683C\u5F0F\uFF0Clines\u6307\u5B9A\u6309\u7167\u884C\u53BB\u53D8\u6210\u4E00\u4E2A\u6837\u672C</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>json_read <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_json<span class="token punctuation">(</span><span class="token string">&quot;./data/Sarcasm_Headlines_Dataset.json&quot;</span><span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">&quot;records&quot;</span><span class="token punctuation">,</span> lines<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u7ED3\u679C\u4E3A\uFF1A</p><p><img src="`+w+`" alt=""></p><h4 id="to-json" tabindex="-1"><a class="header-anchor" href="#to-json" aria-hidden="true">#</a> to_json</h4><ul><li>DataFrame.to_json(<em>path_or_buf=None</em>, <em>orient=None</em>, <em>lines=False</em>) <ul><li>\u5C06Pandas \u5BF9\u8C61\u5B58\u50A8\u4E3Ajson\u683C\u5F0F</li><li><em>path_or_buf=None</em>\uFF1A\u6587\u4EF6\u5730\u5740</li><li>orient:\u5B58\u50A8\u7684json\u5F62\u5F0F\uFF0C{\u2018split\u2019,\u2019records\u2019,\u2019index\u2019,\u2019columns\u2019,\u2019values\u2019}</li><li>lines:\u4E00\u4E2A\u5BF9\u8C61\u5B58\u50A8\u4E3A\u4E00\u884C</li></ul></li></ul><h4 id="\u6848\u4F8B-3" tabindex="-1"><a class="header-anchor" href="#\u6848\u4F8B-3" aria-hidden="true">#</a> \u6848\u4F8B</h4><ul><li>\u5B58\u50A8\u6587\u4EF6</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>json_read<span class="token punctuation">.</span>to_json<span class="token punctuation">(</span><span class="token string">&quot;./data/test.json&quot;</span><span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">&#39;records&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u7ED3\u679C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//versace-black-code_us_5861fbefe4b0de3a08f600d5&quot;,&quot;headline&quot;:&quot;former versace store clerk sues over secret &#39;black code&#39; for minority shoppers&quot;,&quot;is_sarcastic&quot;:0},{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//roseanne-revival-review_us_5ab3a497e4b054d118e04365&quot;,&quot;headline&quot;:&quot;the &#39;roseanne&#39; revival catches up to our thorny political mood, for better and worse&quot;,&quot;is_sarcastic&quot;:0},{&quot;article_link&quot;:&quot;https:////local.theonion.com//mom-starting-to-fear-son-s-web-series-closest-thing-she-1819576697&quot;,&quot;headline&quot;:&quot;mom starting to fear son&#39;s web series closest thing she will have to grandchild&quot;,&quot;is_sarcastic&quot;:1},{&quot;article_link&quot;:&quot;https:////politics.theonion.com//boehner-just-wants-wife-to-listen-not-come-up-with-alt-1819574302&quot;,&quot;headline&quot;:&quot;boehner just wants wife to listen, not come up with alternative debt-reduction ideas&quot;,&quot;is_sarcastic&quot;:1},{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//jk-rowling-wishes-snape-happy-birthday_us_569117c4e4b0cad15e64fdcb&quot;,&quot;headline&quot;:&quot;j.k. rowling wishes snape happy birthday in the most magical way&quot;,&quot;is_sarcastic&quot;:0},{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//advancing-the-worlds-women_b_6810038.html&quot;,&quot;headline&quot;:&quot;advancing the world&#39;s women&quot;,&quot;is_sarcastic&quot;:0},....]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u4FEE\u6539lines\u53C2\u6570\u4E3ATrue</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>json_read<span class="token punctuation">.</span>to_json<span class="token punctuation">(</span><span class="token string">&quot;./data/test.json&quot;</span><span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">&#39;records&#39;</span><span class="token punctuation">,</span> lines<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u7ED3\u679C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//versace-black-code_us_5861fbefe4b0de3a08f600d5&quot;,&quot;headline&quot;:&quot;former versace store clerk sues over secret &#39;black code&#39; for minority shoppers&quot;,&quot;is_sarcastic&quot;:0}
{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//roseanne-revival-review_us_5ab3a497e4b054d118e04365&quot;,&quot;headline&quot;:&quot;the &#39;roseanne&#39; revival catches up to our thorny political mood, for better and worse&quot;,&quot;is_sarcastic&quot;:0}
{&quot;article_link&quot;:&quot;https:////local.theonion.com//mom-starting-to-fear-son-s-web-series-closest-thing-she-1819576697&quot;,&quot;headline&quot;:&quot;mom starting to fear son&#39;s web series closest thing she will have to grandchild&quot;,&quot;is_sarcastic&quot;:1}
{&quot;article_link&quot;:&quot;https:////politics.theonion.com//boehner-just-wants-wife-to-listen-not-come-up-with-alt-1819574302&quot;,&quot;headline&quot;:&quot;boehner just wants wife to listen, not come up with alternative debt-reduction ideas&quot;,&quot;is_sarcastic&quot;:1}
{&quot;article_link&quot;:&quot;https:////www.huffingtonpost.com//entry//jk-rowling-wishes-snape-happy-birthday_us_569117c4e4b0cad15e64fdcb&quot;,&quot;headline&quot;:&quot;j.k. rowling wishes snape happy birthday in the most magical way&quot;,&quot;is_sarcastic&quot;:0}...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u62D3\u5C55" tabindex="-1"><a class="header-anchor" href="#\u62D3\u5C55" aria-hidden="true">#</a> \u62D3\u5C55</h3><p><strong>\u4F18\u5148\u9009\u62E9\u4F7F\u7528HDF5\u6587\u4EF6\u5B58\u50A8</strong></p><ul><li>HDF5\u5728\u5B58\u50A8\u7684\u65F6\u5019\u652F\u6301\u538B\u7F29\uFF0C<strong>\u4F7F\u7528\u7684\u65B9\u5F0F\u662Fblosc\uFF0C\u8FD9\u4E2A\u662F\u901F\u5EA6\u6700\u5FEB</strong>\u7684\u4E5F\u662Fpandas\u9ED8\u8BA4\u652F\u6301\u7684</li><li>\u4F7F\u7528\u538B\u7F29\u53EF\u4EE5<strong>\u63D0\u78C1\u76D8\u5229\u7528\u7387\uFF0C\u8282\u7701\u7A7A\u95F4</strong></li><li>HDF5\u8FD8\u662F\u8DE8\u5E73\u53F0\u7684\uFF0C\u53EF\u4EE5\u8F7B\u677E\u8FC1\u79FB\u5230hadoop \u4E0A\u9762</li></ul><h2 id="\u9AD8\u7EA7\u5904\u7406-\u7F3A\u5931\u503C\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#\u9AD8\u7EA7\u5904\u7406-\u7F3A\u5931\u503C\u5904\u7406" aria-hidden="true">#</a> \u9AD8\u7EA7\u5904\u7406-\u7F3A\u5931\u503C\u5904\u7406</h2><p><img src="`+T+`" alt=""></p><h3 id="\u5982\u4F55\u5904\u7406nan" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u5904\u7406nan" aria-hidden="true">#</a> \u5982\u4F55\u5904\u7406nan</h3><ul><li>\u5224\u65AD\u6570\u636E\u662F\u5426\u4E3ANaN\uFF1A <ul><li>pd.isnull(df),</li><li>pd.notnull(df)</li></ul></li><li>\u5904\u7406\u65B9\u5F0F\uFF1A <ul><li>\u5B58\u5728\u7F3A\u5931\u503Cnan,\u5E76\u4E14\u662Fnp.nan: <ul><li>1\u3001\u5220\u9664\u5B58\u5728\u7F3A\u5931\u503C\u7684:dropna(axis=&#39;rows&#39;) <ul><li>\u6CE8\uFF1A\u4E0D\u4F1A\u4FEE\u6539\u539F\u6570\u636E\uFF0C\u9700\u8981\u63A5\u53D7\u8FD4\u56DE\u503C</li></ul></li><li>2\u3001\u66FF\u6362\u7F3A\u5931\u503C:fillna(value, inplace=True) <ul><li>value:\u66FF\u6362\u6210\u7684\u503C</li><li>inplace:True:\u4F1A\u4FEE\u6539\u539F\u6570\u636E\uFF0CFalse:\u4E0D\u66FF\u6362\u4FEE\u6539\u539F\u6570\u636E\uFF0C\u751F\u6210\u65B0\u7684\u5BF9\u8C61</li></ul></li></ul></li><li>\u4E0D\u662F\u7F3A\u5931\u503Cnan\uFF0C\u6709\u9ED8\u8BA4\u6807\u8BB0\u7684</li></ul></li></ul><h3 id="\u7535\u5F71\u6570\u636E\u7684\u7F3A\u5931\u503C\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#\u7535\u5F71\u6570\u636E\u7684\u7F3A\u5931\u503C\u5904\u7406" aria-hidden="true">#</a> \u7535\u5F71\u6570\u636E\u7684\u7F3A\u5931\u503C\u5904\u7406</h3><ul><li>\u7535\u5F71\u6570\u636E\u6587\u4EF6\u83B7\u53D6</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u8BFB\u53D6\u7535\u5F71\u6570\u636E</span>
movie <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/IMDB-Movie-Data.csv&quot;</span><span class="token punctuation">)</span>
<span class="token number">989</span>    Martyrs    Horror    A young woman&#39;s quest <span class="token keyword">for</span> revenge against the <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    Pascal Laugier    Morjana Alaoui<span class="token punctuation">,</span> Myl\xE8ne Jampano\xEF<span class="token punctuation">,</span> Catherine B\xE9g<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token number">2008</span>    <span class="token number">99</span>    <span class="token number">7.1</span>    <span class="token number">63785</span>    NaN    <span class="token number">89.0</span>
<span class="token number">990</span>    Selma    Biography<span class="token punctuation">,</span>Drama<span class="token punctuation">,</span>History    A chronicle of Martin Luther King&#39;s campaign t<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    Ava DuVernay    David Oyelowo<span class="token punctuation">,</span> Carmen Ejogo<span class="token punctuation">,</span> Tim Roth<span class="token punctuation">,</span> Lorrain<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token number">2014</span>    <span class="token number">128</span>    <span class="token number">7.5</span>    <span class="token number">67637</span>    <span class="token number">52.07</span>    NaN
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5224\u65AD\u7F3A\u5931\u503C\u662F\u5426\u5B58\u5728" tabindex="-1"><a class="header-anchor" href="#\u5224\u65AD\u7F3A\u5931\u503C\u662F\u5426\u5B58\u5728" aria-hidden="true">#</a> \u5224\u65AD\u7F3A\u5931\u503C\u662F\u5426\u5B58\u5728</h4><ul><li>pd.notnull()</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>pd.notnull(movie)
Rank    Title    Genre    Description    Director    Actors    Year    Runtime (Minutes)    Rating    Votes    Revenue (Millions)    Metascore
0    True    True    True    True    True    True    True    True    True    True    True    True
1    True    True    True    True    True    True    True    True    True    True    True    True
2    True    True    True    True    True    True    True    True    True    True    True    True
3    True    True    True    True    True    True    True    True    True    True    True    True
4    True    True    True    True    True    True    True    True    True    True    True    True
5    True    True    True    True    True    True    True    True    True    True    True    True
6    True    True    True    True    True    True    True    True    True    True    True    True
7    True    True    True    True    True    True    True    True    True    True    False    True
np.all(pd.notnull(movie))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5B58\u5728\u7F3A\u5931\u503Cnan-\u5E76\u4E14\u662Fnp-nan" tabindex="-1"><a class="header-anchor" href="#\u5B58\u5728\u7F3A\u5931\u503Cnan-\u5E76\u4E14\u662Fnp-nan" aria-hidden="true">#</a> \u5B58\u5728\u7F3A\u5931\u503Cnan,\u5E76\u4E14\u662Fnp.nan</h4><ul><li>1\u3001\u5220\u9664</li></ul><p>pandas\u5220\u9664\u7F3A\u5931\u503C\uFF0C\u4F7F\u7528dropna\u7684\u524D\u63D0\u662F\uFF0C\u7F3A\u5931\u503C\u7684\u7C7B\u578B\u5FC5\u987B\u662Fnp.nan</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u4E0D\u4FEE\u6539\u539F\u6570\u636E</span>
movie<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># \u53EF\u4EE5\u5B9A\u4E49\u65B0\u7684\u53D8\u91CF\u63A5\u53D7\u6216\u8005\u7528\u539F\u6765\u7684\u53D8\u91CF\u540D</span>
data <span class="token operator">=</span> movie<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>2\u3001\u66FF\u6362\u7F3A\u5931\u503C</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u66FF\u6362\u5B58\u5728\u7F3A\u5931\u503C\u7684\u6837\u672C\u7684\u4E24\u5217</span>
<span class="token comment"># \u66FF\u6362\u586B\u5145\u5E73\u5747\u503C\uFF0C\u4E2D\u4F4D\u6570</span>
<span class="token comment"># movie[&#39;Revenue (Millions)&#39;].fillna(movie[&#39;Revenue (Millions)&#39;].mean(), inplace=True)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u66FF\u6362\u6240\u6709\u7F3A\u5931\u503C\uFF1A</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">for</span> i <span class="token keyword">in</span> movie<span class="token punctuation">.</span>columns<span class="token punctuation">:</span>
    <span class="token keyword">if</span> np<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span>pd<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span>movie<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        movie<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>movie<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u4E0D\u662F\u7F3A\u5931\u503Cnan-\u6709\u9ED8\u8BA4\u6807\u8BB0\u7684" tabindex="-1"><a class="header-anchor" href="#\u4E0D\u662F\u7F3A\u5931\u503Cnan-\u6709\u9ED8\u8BA4\u6807\u8BB0\u7684" aria-hidden="true">#</a> \u4E0D\u662F\u7F3A\u5931\u503Cnan\uFF0C\u6709\u9ED8\u8BA4\u6807\u8BB0\u7684</h4><p>\u6570\u636E\u662F\u8FD9\u6837\u7684\uFF1A</p><p><img src="`+F+`" alt=""></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>wis <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4EE5\u4E0A\u6570\u636E\u5728\u8BFB\u53D6\u65F6\uFF0C\u53EF\u80FD\u4F1A\u62A5\u5982\u4E0B\u9519\u8BEF\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>URLError: &lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:833)&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u89E3\u51B3\u529E\u6CD5\uFF1A</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u5168\u5C40\u53D6\u6D88\u8BC1\u4E66\u9A8C\u8BC1</span>
<span class="token keyword">import</span> ssl
ssl<span class="token punctuation">.</span>_create_default_https_context <span class="token operator">=</span> ssl<span class="token punctuation">.</span>_create_unverified_context
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5904\u7406\u601D\u8DEF\u5206\u6790\uFF1A</strong></p><ul><li>1\u3001\u5148\u66FF\u6362\u2018?\u2019\u4E3Anp.nan <ul><li>df.replace(to_replace=, value=) <ul><li>to_replace:\u66FF\u6362\u524D\u7684\u503C</li><li>value:\u66FF\u6362\u540E\u7684\u503C</li></ul></li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u628A\u4E00\u4E9B\u5176\u5B83\u503C\u6807\u8BB0\u7684\u7F3A\u5931\u503C\uFF0C\u66FF\u6362\u6210np.nan</span>
wis <span class="token operator">=</span> wis<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>to_replace<span class="token operator">=</span><span class="token string">&#39;?&#39;</span><span class="token punctuation">,</span> value<span class="token operator">=</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>2\u3001\u5728\u8FDB\u884C\u7F3A\u5931\u503C\u7684\u5904\u7406</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u5220\u9664</span>
wis <span class="token operator">=</span> wis<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u9AD8\u7EA7\u5904\u7406-\u6570\u636E\u79BB\u6563\u5316" tabindex="-1"><a class="header-anchor" href="#\u9AD8\u7EA7\u5904\u7406-\u6570\u636E\u79BB\u6563\u5316" aria-hidden="true">#</a> \u9AD8\u7EA7\u5904\u7406-\u6570\u636E\u79BB\u6563\u5316</h2><h3 id="\u4E3A\u4EC0\u4E48\u8981\u79BB\u6563\u5316" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48\u8981\u79BB\u6563\u5316" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48\u8981\u79BB\u6563\u5316</h3><p>\u8FDE\u7EED\u5C5E\u6027\u79BB\u6563\u5316\u7684\u76EE\u7684\u662F\u4E3A\u4E86\u7B80\u5316\u6570\u636E\u7ED3\u6784\uFF0C<strong>\u6570\u636E\u79BB\u6563\u5316\u6280\u672F\u53EF\u4EE5\u7528\u6765\u51CF\u5C11\u7ED9\u5B9A\u8FDE\u7EED\u5C5E\u6027\u503C\u7684\u4E2A\u6570</strong>\u3002\u79BB\u6563\u5316\u65B9\u6CD5\u7ECF\u5E38\u4F5C\u4E3A\u6570\u636E\u6316\u6398\u7684\u5DE5\u5177\u3002</p><h3 id="\u4EC0\u4E48\u662F\u6570\u636E\u7684\u79BB\u6563\u5316" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u6570\u636E\u7684\u79BB\u6563\u5316" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u6570\u636E\u7684\u79BB\u6563\u5316</h3><p><strong>\u8FDE\u7EED\u5C5E\u6027\u7684\u79BB\u6563\u5316\u5C31\u662F\u5728\u8FDE\u7EED\u5C5E\u6027\u7684\u503C\u57DF\u4E0A\uFF0C\u5C06\u503C\u57DF\u5212\u5206\u4E3A\u82E5\u5E72\u4E2A\u79BB\u6563\u7684\u533A\u95F4\uFF0C\u6700\u540E\u7528\u4E0D\u540C\u7684\u7B26\u53F7\u6216\u6574\u6570</strong> <strong>\u503C\u4EE3\u8868\u843D\u5728\u6BCF\u4E2A\u5B50\u533A\u95F4\u4E2D\u7684\u5C5E\u6027\u503C\u3002</strong></p><p>\u79BB\u6563\u5316\u6709\u5F88\u591A\u79CD\u65B9\u6CD5\uFF0C\u8FD9\u4F7F\u7528\u4E00\u79CD\u6700\u7B80\u5355\u7684\u65B9\u5F0F\u53BB\u64CD\u4F5C</p><ul><li>\u539F\u59CB\u4EBA\u7684\u8EAB\u9AD8\u6570\u636E\uFF1A165\uFF0C174\uFF0C160\uFF0C180\uFF0C159\uFF0C163\uFF0C192\uFF0C184</li><li>\u5047\u8BBE\u6309\u7167\u8EAB\u9AD8\u5206\u51E0\u4E2A\u533A\u95F4\u6BB5\uFF1A150~165, 165~180,180~195</li></ul><p>\u8FD9\u6837\u6211\u4EEC\u5C06\u6570\u636E\u5206\u5230\u4E86\u4E09\u4E2A\u533A\u95F4\u6BB5\uFF0C\u6211\u53EF\u4EE5\u5BF9\u5E94\u7684\u6807\u8BB0\u4E3A\u77EE\u3001\u4E2D\u3001\u9AD8\u4E09\u4E2A\u7C7B\u522B\uFF0C\u6700\u7EC8\u8981\u5904\u7406\u6210\u4E00\u4E2A&quot;\u54D1\u53D8\u91CF&quot;\u77E9\u9635</p><p><img src="`+s+`" alt=""></p><h3 id="\u80A1\u7968\u7684\u6DA8\u8DCC\u5E45\u79BB\u6563\u5316" tabindex="-1"><a class="header-anchor" href="#\u80A1\u7968\u7684\u6DA8\u8DCC\u5E45\u79BB\u6563\u5316" aria-hidden="true">#</a> \u80A1\u7968\u7684\u6DA8\u8DCC\u5E45\u79BB\u6563\u5316</h3><p>\u6211\u4EEC\u5BF9\u80A1\u7968\u6BCF\u65E5\u7684&quot;p_change&quot;\u8FDB\u884C\u79BB\u6563\u5316</p><h4 id="\u8BFB\u53D6\u80A1\u7968\u7684\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u8BFB\u53D6\u80A1\u7968\u7684\u6570\u636E" aria-hidden="true">#</a> \u8BFB\u53D6\u80A1\u7968\u7684\u6570\u636E</h4><p>\u5148\u8BFB\u53D6\u80A1\u7968\u7684\u6570\u636E\uFF0C\u7B5B\u9009\u51FAp_change\u6570\u636E</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/stock_day.csv&quot;</span><span class="token punctuation">)</span>
p_change<span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C06\u80A1\u7968\u6DA8\u8DCC\u5E45\u6570\u636E\u8FDB\u884C\u5206\u7EC4" tabindex="-1"><a class="header-anchor" href="#\u5C06\u80A1\u7968\u6DA8\u8DCC\u5E45\u6570\u636E\u8FDB\u884C\u5206\u7EC4" aria-hidden="true">#</a> \u5C06\u80A1\u7968\u6DA8\u8DCC\u5E45\u6570\u636E\u8FDB\u884C\u5206\u7EC4</h4><p><img src="`+D+`" alt=""></p><p>\u4F7F\u7528\u7684\u5DE5\u5177\uFF1A</p><ul><li>pd.qcut(data, bins)\uFF1A <ul><li>\u5BF9\u6570\u636E\u8FDB\u884C\u5206\u7EC4\u5C06\u6570\u636E\u5206\u7EC4 \u4E00\u822C\u4F1A\u4E0Evalue_counts\u642D\u914D\u4F7F\u7528\uFF0C\u7EDF\u8BA1\u6BCF\u7EC4\u7684\u4E2A\u6570</li></ul></li><li>series.value_counts()\uFF1A\u7EDF\u8BA1\u5206\u7EC4\u6B21\u6570</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u81EA\u884C\u5206\u7EC4</span>
qcut <span class="token operator">=</span> pd<span class="token punctuation">.</span>qcut<span class="token punctuation">(</span>p_change<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment"># \u8BA1\u7B97\u5206\u5230\u6BCF\u4E2A\u7EC4\u6570\u636E\u4E2A\u6570</span>
qcut<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u81EA\u5B9A\u4E49\u533A\u95F4\u5206\u7EC4\uFF1A</p><ul><li>pd.cut(data, bins)</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u81EA\u5DF1\u6307\u5B9A\u5206\u7EC4\u533A\u95F4</span>
bins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span>
p_counts <span class="token operator">=</span> pd<span class="token punctuation">.</span>cut<span class="token punctuation">(</span>p_change<span class="token punctuation">,</span> bins<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u80A1\u7968\u6DA8\u8DCC\u5E45\u5206\u7EC4\u6570\u636E\u53D8\u6210one-hot\u7F16\u7801" tabindex="-1"><a class="header-anchor" href="#\u80A1\u7968\u6DA8\u8DCC\u5E45\u5206\u7EC4\u6570\u636E\u53D8\u6210one-hot\u7F16\u7801" aria-hidden="true">#</a> \u80A1\u7968\u6DA8\u8DCC\u5E45\u5206\u7EC4\u6570\u636E\u53D8\u6210one-hot\u7F16\u7801</h4><ul><li><strong>\u4EC0\u4E48\u662Fone-hot\u7F16\u7801</strong></li></ul><p>\u628A\u6BCF\u4E2A\u7C7B\u522B\u751F\u6210\u4E00\u4E2A\u5E03\u5C14\u5217\uFF0C\u8FD9\u4E9B\u5217\u4E2D\u53EA\u6709\u4E00\u5217\u53EF\u4EE5\u4E3A\u8FD9\u4E2A\u6837\u672C\u53D6\u503C\u4E3A1.\u5176\u53C8\u88AB\u79F0\u4E3A\u70ED\u7F16\u7801\u3002</p><p>\u628A\u4E0B\u56FE\u4E2D\u5DE6\u8FB9\u7684\u8868\u683C\u8F6C\u5316\u4E3A\u4F7F\u7528\u53F3\u8FB9\u5F62\u5F0F\u8FDB\u884C\u8868\u793A\uFF1A</p><p><img src="`+N+`" alt=""></p><ul><li>pandas.get_dummies(<em>data</em>, <em>prefix=None</em>) <ul><li>data:array-like, Series, or DataFrame</li><li>prefix:\u5206\u7EC4\u540D\u5B57</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u5F97\u51FAone-hot\u7F16\u7801\u77E9\u9635</span>
dummies <span class="token operator">=</span> pd<span class="token punctuation">.</span>get_dummies<span class="token punctuation">(</span>p_counts<span class="token punctuation">,</span> prefix<span class="token operator">=</span><span class="token string">&quot;rise&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+s+'" alt=""></p><h2 id="\u9AD8\u7EA7\u5904\u7406-\u5408\u5E76" tabindex="-1"><a class="header-anchor" href="#\u9AD8\u7EA7\u5904\u7406-\u5408\u5E76" aria-hidden="true">#</a> \u9AD8\u7EA7\u5904\u7406-\u5408\u5E76</h2><p><strong>\u5982\u679C\u4F60\u7684\u6570\u636E\u7531\u591A\u5F20\u8868\u7EC4\u6210\uFF0C\u90A3\u4E48\u6709\u65F6\u5019\u9700\u8981\u5C06\u4E0D\u540C\u7684\u5185\u5BB9\u5408\u5E76\u5728\u4E00\u8D77\u5206\u6790</strong></p><h3 id="pd-concat\u5B9E\u73B0\u6570\u636E\u5408\u5E76" tabindex="-1"><a class="header-anchor" href="#pd-concat\u5B9E\u73B0\u6570\u636E\u5408\u5E76" aria-hidden="true">#</a> pd.concat\u5B9E\u73B0\u6570\u636E\u5408\u5E76</h3><ul><li>pd.concat([data1, data2], axis=1) <ul><li>\u6309\u7167\u884C\u6216\u5217\u8FDB\u884C\u5408\u5E76,axis=0\u4E3A\u5217\u7D22\u5F15\uFF0Caxis=1\u4E3A\u884C\u7D22\u5F15</li></ul></li></ul><p>\u6BD4\u5982\u6211\u4EEC\u5C06\u521A\u624D\u5904\u7406\u597D\u7684one-hot\u7F16\u7801\u4E0E\u539F\u6570\u636E\u5408\u5E76</p><p><img src="'+j+`" alt=""></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u6309\u7167\u884C\u7D22\u5F15\u8FDB\u884C</span>
pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>data<span class="token punctuation">,</span> dummies<span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pd-merge" tabindex="-1"><a class="header-anchor" href="#pd-merge" aria-hidden="true">#</a> pd.merge</h3><ul><li>pd.merge(left, right, how=&#39;inner&#39;, on=None, left_on=None, right_on=None) <ul><li>\u53EF\u4EE5\u6307\u5B9A\u6309\u7167\u4E24\u7EC4\u6570\u636E\u7684\u5171\u540C\u952E\u503C\u5BF9\u5408\u5E76\u6216\u8005\u5DE6\u53F3\u5404\u81EA</li><li><code>left</code>: A DataFrame object</li><li><code>right</code>: Another DataFrame object</li><li><code>on</code>: Columns (names) to join on. Must be found in both the left and right DataFrame objects.</li><li>left_on=None, right_on=None\uFF1A\u6307\u5B9A\u5DE6\u53F3\u952E</li></ul></li></ul><table><thead><tr><th>Merge method</th><th>SQL Join Name</th><th>Description</th></tr></thead><tbody><tr><td><code>left</code></td><td><code>LEFT OUTER JOIN</code></td><td>Use keys from left frame only</td></tr><tr><td><code>right</code></td><td><code>RIGHT OUTER JOIN</code></td><td>Use keys from right frame only</td></tr><tr><td><code>outer</code></td><td><code>FULL OUTER JOIN</code></td><td>Use union of keys from both frames</td></tr><tr><td><code>inner</code></td><td><code>INNER JOIN</code></td><td>Use intersection of keys from both frames</td></tr></tbody></table><h3 id="pd-merge\u5408\u5E76" tabindex="-1"><a class="header-anchor" href="#pd-merge\u5408\u5E76" aria-hidden="true">#</a> pd.merge\u5408\u5E76</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>left = pd.DataFrame({&#39;key1&#39;: [&#39;K0&#39;, &#39;K0&#39;, &#39;K1&#39;, &#39;K2&#39;],
                        &#39;key2&#39;: [&#39;K0&#39;, &#39;K1&#39;, &#39;K0&#39;, &#39;K1&#39;],
                        &#39;A&#39;: [&#39;A0&#39;, &#39;A1&#39;, &#39;A2&#39;, &#39;A3&#39;],
                        &#39;B&#39;: [&#39;B0&#39;, &#39;B1&#39;, &#39;B2&#39;, &#39;B3&#39;]})

right = pd.DataFrame({&#39;key1&#39;: [&#39;K0&#39;, &#39;K1&#39;, &#39;K1&#39;, &#39;K2&#39;],
                        &#39;key2&#39;: [&#39;K0&#39;, &#39;K0&#39;, &#39;K0&#39;, &#39;K0&#39;],
                        &#39;C&#39;: [&#39;C0&#39;, &#39;C1&#39;, &#39;C2&#39;, &#39;C3&#39;],
                        &#39;D&#39;: [&#39;D0&#39;, &#39;D1&#39;, &#39;D2&#39;, &#39;D3&#39;]})

# \u9ED8\u8BA4\u5185\u8FDE\u63A5
result = pd.merge(left, right, on=[&#39;key1&#39;, &#39;key2&#39;])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+M+`" alt=""></p><ul><li>\u5DE6\u8FDE\u63A5</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>result <span class="token operator">=</span> pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">&#39;left&#39;</span><span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;key1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;key2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+A+`" alt=""></p><ul><li>\u53F3\u8FDE\u63A5</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>result <span class="token operator">=</span> pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">&#39;right&#39;</span><span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;key1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;key2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+S+`" alt=""></p><ul><li>\u5916\u94FE\u63A5</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>result <span class="token operator">=</span> pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">&#39;outer&#39;</span><span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;key1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;key2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+I+'" alt=""></p><h2 id="\u9AD8\u7EA7\u5904\u7406-\u4EA4\u53C9\u8868\u4E0E\u900F\u89C6\u8868" tabindex="-1"><a class="header-anchor" href="#\u9AD8\u7EA7\u5904\u7406-\u4EA4\u53C9\u8868\u4E0E\u900F\u89C6\u8868" aria-hidden="true">#</a> \u9AD8\u7EA7\u5904\u7406-\u4EA4\u53C9\u8868\u4E0E\u900F\u89C6\u8868</h2><h3 id="\u4EA4\u53C9\u8868\u4E0E\u900F\u89C6\u8868\u4EC0\u4E48\u4F5C\u7528" tabindex="-1"><a class="header-anchor" href="#\u4EA4\u53C9\u8868\u4E0E\u900F\u89C6\u8868\u4EC0\u4E48\u4F5C\u7528" aria-hidden="true">#</a> \u4EA4\u53C9\u8868\u4E0E\u900F\u89C6\u8868\u4EC0\u4E48\u4F5C\u7528</h3><p><strong>\u63A2\u7A76\u80A1\u7968\u7684\u6DA8\u8DCC\u4E0E\u661F\u671F\u51E0\u6709\u5173\uFF1F</strong></p><p><strong>\u4EE5\u4E0B\u56FE\u5F53\u4E2D\u8868\u793A\uFF0Cweek\u4EE3\u8868\u661F\u671F\u51E0\uFF0C1,0\u4EE3\u8868\u8FD9\u4E00\u5929\u80A1\u7968\u7684\u6DA8\u8DCC\u5E45\u662F\u597D\u8FD8\u662F\u574F\uFF0C\u91CC\u9762\u7684\u6570\u636E\u4EE3\u8868\u6BD4\u4F8B</strong></p><p><strong>\u53EF\u4EE5\u7406\u89E3\u4E3A\u6240\u6709\u65F6\u95F4\u4E3A\u661F\u671F\u4E00\u7B49\u7B49\u7684\u6570\u636E\u5F53\u4E2D\u6DA8\u8DCC\u5E45\u597D\u574F\u7684\u6BD4\u4F8B</strong></p><p><img src="'+R+'" alt=""></p><p><img src="'+P+`" alt=""></p><h3 id="\u4F7F\u7528crosstab-\u4EA4\u53C9\u8868-\u5B9E\u73B0\u4E0A\u56FE" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528crosstab-\u4EA4\u53C9\u8868-\u5B9E\u73B0\u4E0A\u56FE" aria-hidden="true">#</a> \u4F7F\u7528crosstab(\u4EA4\u53C9\u8868)\u5B9E\u73B0\u4E0A\u56FE</h3><ul><li><p>\u4EA4\u53C9\u8868\uFF1A</p><p>\u4EA4\u53C9\u8868\u7528\u4E8E\u8BA1\u7B97\u4E00\u5217\u6570\u636E\u5BF9\u4E8E\u53E6\u5916\u4E00\u5217\u6570\u636E\u7684\u5206\u7EC4\u4E2A\u6570(\u5BFB\u627E\u4E24\u4E2A\u5217\u4E4B\u95F4\u7684\u5173\u7CFB)</p><ul><li>pd.crosstab(value1, value2)</li><li>DataFrame.pivot_table([], index=[])</li></ul></li></ul><h3 id="\u6848\u4F8B\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#\u6848\u4F8B\u5206\u6790" aria-hidden="true">#</a> \u6848\u4F8B\u5206\u6790</h3><h4 id="\u6570\u636E\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u51C6\u5907" aria-hidden="true">#</a> \u6570\u636E\u51C6\u5907</h4><ul><li>\u51C6\u5907\u4E24\u5217\u6570\u636E\uFF0C\u661F\u671F\u6570\u636E\u4EE5\u53CA\u6DA8\u8DCC\u5E45\u662F\u597D\u662F\u574F\u6570\u636E</li><li>\u8FDB\u884C\u4EA4\u53C9\u8868\u8BA1\u7B97</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u5BFB\u627E\u661F\u671F\u51E0\u8DDF\u80A1\u7968\u5F20\u5F97\u7684\u5173\u7CFB</span>
<span class="token comment"># 1\u3001\u5148\u628A\u5BF9\u5E94\u7684\u65E5\u671F\u627E\u5230\u661F\u671F\u51E0</span>
date <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>data<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span>weekday
data<span class="token punctuation">[</span><span class="token string">&#39;week&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> date

<span class="token comment"># 2\u3001\u5047\u5982\u628Ap_change\u6309\u7167\u5927\u5C0F\u53BB\u5206\u4E2A\u7C7B0\u4E3A\u754C\u9650</span>
data<span class="token punctuation">[</span><span class="token string">&#39;posi_neg&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">&#39;p_change&#39;</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># \u901A\u8FC7\u4EA4\u53C9\u8868\u627E\u5BFB\u4E24\u5217\u6570\u636E\u7684\u5173\u7CFB</span>
count <span class="token operator">=</span> pd<span class="token punctuation">.</span>crosstab<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">&#39;week&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token string">&#39;posi_neg&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F46\u662F\u6211\u4EEC\u770B\u5230count\u53EA\u662F\u6BCF\u4E2A\u661F\u671F\u65E5\u5B50\u7684\u597D\u574F\u5929\u6570\uFF0C\u5E76\u6CA1\u6709\u5F97\u5230\u6BD4\u4F8B\uFF0C\u8BE5\u600E\u4E48\u53BB\u505A\uFF1F</p><ul><li>\u5BF9\u4E8E\u6BCF\u4E2A\u661F\u671F\u4E00\u7B49\u7684\u603B\u5929\u6570\u6C42\u548C\uFF0C\u8FD0\u7528\u9664\u6CD5\u8FD0\u7B97\u6C42\u51FA\u6BD4\u4F8B</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u7B97\u6570\u8FD0\u7B97\uFF0C\u5148\u6C42\u548C</span>
<span class="token builtin">sum</span> <span class="token operator">=</span> count<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>float32<span class="token punctuation">)</span>

<span class="token comment"># \u8FDB\u884C\u76F8\u9664\u64CD\u4F5C\uFF0C\u5F97\u51FA\u6BD4\u4F8B</span>
pro <span class="token operator">=</span> count<span class="token punctuation">.</span>div<span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u67E5\u770B\u6548\u679C" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u6548\u679C" aria-hidden="true">#</a> \u67E5\u770B\u6548\u679C</h4><p>\u4F7F\u7528plot\u753B\u51FA\u8FD9\u4E2A\u6BD4\u4F8B\uFF0C\u4F7F\u7528stacked\u7684\u67F1\u72B6\u56FE</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pro<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">,</span> stacked<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u4F7F\u7528pivot-table-\u900F\u89C6\u8868-\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528pivot-table-\u900F\u89C6\u8868-\u5B9E\u73B0" aria-hidden="true">#</a> \u4F7F\u7528pivot_table(\u900F\u89C6\u8868)\u5B9E\u73B0</h4><p>\u4F7F\u7528\u900F\u89C6\u8868\uFF0C\u521A\u624D\u7684\u8FC7\u7A0B\u66F4\u52A0\u7B80\u5355</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u901A\u8FC7\u900F\u89C6\u8868\uFF0C\u5C06\u6574\u4E2A\u8FC7\u7A0B\u53D8\u6210\u66F4\u7B80\u5355\u4E00\u4E9B</span>
data<span class="token punctuation">.</span>pivot_table<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;posi_neg&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token string">&#39;week&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u9AD8\u7EA7\u5904\u7406-\u5206\u7EC4\u4E0E\u805A\u5408" tabindex="-1"><a class="header-anchor" href="#\u9AD8\u7EA7\u5904\u7406-\u5206\u7EC4\u4E0E\u805A\u5408" aria-hidden="true">#</a> \u9AD8\u7EA7\u5904\u7406-\u5206\u7EC4\u4E0E\u805A\u5408</h2><p><strong>\u5206\u7EC4\u4E0E\u805A\u5408\u901A\u5E38\u662F\u5206\u6790\u6570\u636E\u7684\u4E00\u79CD\u65B9\u5F0F\uFF0C\u901A\u5E38\u4E0E\u4E00\u4E9B\u7EDF\u8BA1\u51FD\u6570\u4E00\u8D77\u4F7F\u7528\uFF0C\u67E5\u770B\u6570\u636E\u7684\u5206\u7EC4\u60C5\u51B5</strong></p><p>\u60F3\u4E00\u60F3\u5176\u5B9E\u521A\u624D\u7684\u4EA4\u53C9\u8868\u4E0E\u900F\u89C6\u8868\u4E5F\u6709\u5206\u7EC4\u7684\u529F\u80FD\uFF0C\u6240\u4EE5\u7B97\u662F\u5206\u7EC4\u7684\u4E00\u79CD\u5F62\u5F0F\uFF0C\u53EA\u4E0D\u8FC7\u4ED6\u4EEC\u4E3B\u8981\u662F\u8BA1\u7B97\u6B21\u6570\u6216\u8005\u8BA1\u7B97\u6BD4\u4F8B\uFF01\uFF01\u770B\u5176\u4E2D\u7684\u6548\u679C\uFF1A</p><p><img src="`+C+'" alt=""></p><h3 id="\u4EC0\u4E48\u5206\u7EC4\u4E0E\u805A\u5408" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u5206\u7EC4\u4E0E\u805A\u5408" aria-hidden="true">#</a> \u4EC0\u4E48\u5206\u7EC4\u4E0E\u805A\u5408</h3><p><img src="'+B+`" alt=""></p><h3 id="\u5206\u7EC4api" tabindex="-1"><a class="header-anchor" href="#\u5206\u7EC4api" aria-hidden="true">#</a> \u5206\u7EC4API</h3><ul><li>DataFrame.groupby(key, as_index=False) <ul><li>key:\u5206\u7EC4\u7684\u5217\u6570\u636E\uFF0C\u53EF\u4EE5\u591A\u4E2A</li></ul></li><li>\u6848\u4F8B:\u4E0D\u540C\u989C\u8272\u7684\u4E0D\u540C\u7B14\u7684\u4EF7\u683C\u6570\u636E</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>col <span class="token operator">=</span>pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;white&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;green&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;pen&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;pencil&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;pencil&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ashtray&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;pen&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&#39;price1&#39;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">5.56</span><span class="token punctuation">,</span><span class="token number">4.20</span><span class="token punctuation">,</span><span class="token number">1.30</span><span class="token punctuation">,</span><span class="token number">0.56</span><span class="token punctuation">,</span><span class="token number">2.75</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&#39;price2&#39;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">4.75</span><span class="token punctuation">,</span><span class="token number">4.12</span><span class="token punctuation">,</span><span class="token number">1.60</span><span class="token punctuation">,</span><span class="token number">0.75</span><span class="token punctuation">,</span><span class="token number">3.15</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

color    <span class="token builtin">object</span>    price1    price2
<span class="token number">0</span>    white    pen    <span class="token number">5.56</span>    <span class="token number">4.75</span>
<span class="token number">1</span>    red    pencil    <span class="token number">4.20</span>    <span class="token number">4.12</span>
<span class="token number">2</span>    green    pencil    <span class="token number">1.30</span>    <span class="token number">1.60</span>
<span class="token number">3</span>    red    ashtray    <span class="token number">0.56</span>    <span class="token number">0.75</span>
<span class="token number">4</span>    green    pen    <span class="token number">2.75</span>    <span class="token number">3.15</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u8FDB\u884C\u5206\u7EC4\uFF0C\u5BF9\u989C\u8272\u5206\u7EC4\uFF0Cprice\u8FDB\u884C\u805A\u5408</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u5206\u7EC4\uFF0C\u6C42\u5E73\u5747\u503C</span>
col<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#39;price1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
col<span class="token punctuation">[</span><span class="token string">&#39;price1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>col<span class="token punctuation">[</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>

color
green    <span class="token number">2.025</span>
red      <span class="token number">2.380</span>
white    <span class="token number">5.560</span>
Name<span class="token punctuation">:</span> price1<span class="token punctuation">,</span> dtype<span class="token punctuation">:</span> float64

<span class="token comment"># \u5206\u7EC4\uFF0C\u6570\u636E\u7684\u7ED3\u6784\u4E0D\u53D8</span>
col<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> as_index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#39;price1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>

color    price1
<span class="token number">0</span>    green    <span class="token number">2.025</span>
<span class="token number">1</span>    red    <span class="token number">2.380</span>
<span class="token number">2</span>    white    <span class="token number">5.560</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u661F\u5DF4\u514B\u96F6\u552E\u5E97\u94FA\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u661F\u5DF4\u514B\u96F6\u552E\u5E97\u94FA\u6570\u636E" aria-hidden="true">#</a> \u661F\u5DF4\u514B\u96F6\u552E\u5E97\u94FA\u6570\u636E</h3><p>\u73B0\u5728\u6211\u4EEC\u6709\u4E00\u7EC4\u5173\u4E8E\u5168\u7403\u661F\u5DF4\u514B\u5E97\u94FA\u7684\u7EDF\u8BA1\u6570\u636E\uFF0C\u5982\u679C\u6211\u60F3\u77E5\u9053\u7F8E\u56FD\u7684\u661F\u5DF4\u514B\u6570\u91CF\u548C\u4E2D\u56FD\u7684\u54EA\u4E2A\u591A\uFF0C\u6216\u8005\u6211\u60F3\u77E5\u9053\u4E2D\u56FD\u6BCF\u4E2A\u7701\u4EFD\u661F\u5DF4\u514B\u7684\u6570\u91CF\u7684\u60C5\u51B5\uFF0C\u90A3\u4E48\u5E94\u8BE5\u600E\u4E48\u529E\uFF1F</p><blockquote><p>\u6570\u636E\u6765\u6E90\uFF1Ahttps://www.kaggle.com/starbucks/store-locations/data</p></blockquote><p><img src="`+L+`" alt=""></p><h4 id="\u6570\u636E\u83B7\u53D6" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u83B7\u53D6" aria-hidden="true">#</a> \u6570\u636E\u83B7\u53D6</h4><p>\u4ECE\u6587\u4EF6\u4E2D\u8BFB\u53D6\u661F\u5DF4\u514B\u5E97\u94FA\u6570\u636E</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u5BFC\u5165\u661F\u5DF4\u514B\u5E97\u7684\u6570\u636E</span>
starbucks <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;./data/starbucks/directory.csv&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u8FDB\u884C\u5206\u7EC4\u805A\u5408" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u884C\u5206\u7EC4\u805A\u5408" aria-hidden="true">#</a> \u8FDB\u884C\u5206\u7EC4\u805A\u5408</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u6309\u7167\u56FD\u5BB6\u5206\u7EC4\uFF0C\u6C42\u51FA\u6BCF\u4E2A\u56FD\u5BB6\u7684\u661F\u5DF4\u514B\u96F6\u552E\u5E97\u6570\u91CF</span>
count <span class="token operator">=</span> starbucks<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;Country&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u753B\u56FE\u663E\u793A\u7ED3\u679C</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>count<span class="token punctuation">[</span><span class="token string">&#39;Brand&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+O+`" alt=""></p><p>\u5047\u8BBE\u6211\u4EEC\u52A0\u5165\u7701\u5E02\u4E00\u8D77\u8FDB\u884C\u5206\u7EC4</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u8BBE\u7F6E\u591A\u4E2A\u7D22\u5F15\uFF0Cset_index()</span>
starbucks<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;Country&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;State/Province&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+K+`" alt=""></p><p><strong>\u4ED4\u7EC6\u89C2\u5BDF\u8FD9\u4E2A\u7ED3\u6784\uFF0C\u4E0E\u6211\u4EEC\u524D\u9762\u8BB2\u7684\u54EA\u4E2A\u7ED3\u6784\u7C7B\u4F3C\uFF1F\uFF1F</strong></p><p>\u4E0E\u524D\u9762\u7684MultiIndex\u7ED3\u6784\u7C7B\u4F3C</p><h2 id="\u6848\u4F8B-4" tabindex="-1"><a class="header-anchor" href="#\u6848\u4F8B-4" aria-hidden="true">#</a> \u6848\u4F8B</h2><h3 id="\u9700\u6C42" tabindex="-1"><a class="header-anchor" href="#\u9700\u6C42" aria-hidden="true">#</a> \u9700\u6C42</h3><p><strong>\u73B0\u5728\u6211\u4EEC\u6709\u4E00\u7EC4\u4ECE2006\u5E74\u52302016\u5E741000\u90E8\u6700\u6D41\u884C\u7684\u7535\u5F71\u6570\u636E\uFF0C\u6570\u636E\u6765\u6E90\uFF1Ahttps://www.kaggle.com/damianpanek/sunday-eda/data</strong></p><ul><li>\u95EE\u98981\uFF1A\u6211\u4EEC\u60F3\u77E5\u9053\u8FD9\u4E9B\u7535\u5F71\u6570\u636E\u4E2D\u8BC4\u5206\u7684\u5E73\u5747\u5206\uFF0C\u5BFC\u6F14\u7684\u4EBA\u6570\u7B49\u4FE1\u606F\uFF0C\u6211\u4EEC\u5E94\u8BE5\u600E\u4E48\u83B7\u53D6\uFF1F</li><li>\u95EE\u98982\uFF1A\u5BF9\u4E8E\u8FD9\u4E00\u7EC4\u7535\u5F71\u6570\u636E\uFF0C\u5982\u679C\u6211\u4EEC\u60F3rating\uFF0Cruntime\u7684\u5206\u5E03\u60C5\u51B5\uFF0C\u5E94\u8BE5\u5982\u4F55\u5448\u73B0\u6570\u636E\uFF1F</li><li>\u95EE\u98983\uFF1A\u5BF9\u4E8E\u8FD9\u4E00\u7EC4\u7535\u5F71\u6570\u636E\uFF0C\u5982\u679C\u6211\u4EEC\u5E0C\u671B\u7EDF\u8BA1\u7535\u5F71\u5206\u7C7B(genre)\u7684\u60C5\u51B5\uFF0C\u5E94\u8BE5\u5982\u4F55\u5904\u7406\u6570\u636E\uFF1F</li></ul><h3 id="\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0" aria-hidden="true">#</a> \u5B9E\u73B0</h3><p>\u9996\u5148\u83B7\u53D6\u5BFC\u5165\u5305\uFF0C\u83B7\u53D6\u6570\u636E</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>%matplotlib inline
import pandas  as pd 
import numpy as np
from matplotlib import pyplot as plt
#\u6587\u4EF6\u7684\u8DEF\u5F84
path = &quot;./data/IMDB-Movie-Data.csv&quot;
#\u8BFB\u53D6\u6587\u4EF6
df = pd.read_csv(path)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u95EE\u9898\u4E00" tabindex="-1"><a class="header-anchor" href="#\u95EE\u9898\u4E00" aria-hidden="true">#</a> \u95EE\u9898\u4E00</h4><p><strong>\u6211\u4EEC\u60F3\u77E5\u9053\u8FD9\u4E9B\u7535\u5F71\u6570\u636E\u4E2D\u8BC4\u5206\u7684\u5E73\u5747\u5206\uFF0C\u5BFC\u6F14\u7684\u4EBA\u6570\u7B49\u4FE1\u606F\uFF0C\u6211\u4EEC\u5E94\u8BE5\u600E\u4E48\u83B7\u53D6\uFF1F</strong></p><ul><li>\u5F97\u51FA\u8BC4\u5206\u7684\u5E73\u5747\u5206</li></ul><p>\u4F7F\u7528mean\u51FD\u6570</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">[</span><span class="token string">&quot;Rating&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u5F97\u51FA\u5BFC\u6F14\u4EBA\u6570\u4FE1\u606F</li></ul><p>\u6C42\u51FA\u552F\u4E00\u503C\uFF0C\u7136\u540E\u8FDB\u884C\u5F62\u72B6\u83B7\u53D6</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment">## \u5BFC\u6F14\u7684\u4EBA\u6570</span>
<span class="token comment"># df[&quot;Director&quot;].unique().shape[0]</span>
np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&quot;Director&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

<span class="token number">644</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u95EE\u9898\u4E8C" tabindex="-1"><a class="header-anchor" href="#\u95EE\u9898\u4E8C" aria-hidden="true">#</a> \u95EE\u9898\u4E8C</h4><p><strong>\u5BF9\u4E8E\u8FD9\u4E00\u7EC4\u7535\u5F71\u6570\u636E\uFF0C\u5982\u679C\u6211\u4EEC\u60F3Rating\uFF0CRuntime (Minutes)\u7684\u5206\u5E03\u60C5\u51B5\uFF0C\u5E94\u8BE5\u5982\u4F55\u5448\u73B0\u6570\u636E\uFF1F</strong></p><ul><li>\u76F4\u63A5\u5448\u73B0\uFF0C\u4EE5\u76F4\u65B9\u56FE\u7684\u5F62\u5F0F</li></ul><p>\u9009\u62E9\u5206\u6570\u5217\u6570\u636E\uFF0C\u8FDB\u884Cplot</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">[</span><span class="token string">&quot;Rating&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">&#39;hist&#39;</span><span class="token punctuation">,</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+E+`" alt=""></p><ul><li>Rating\u8FDB\u884C\u5206\u5E03\u5C55\u793A</li></ul><p>\u8FDB\u884C\u7ED8\u5236\u76F4\u65B9\u56FE</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&quot;Rating&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4FEE\u6539\u523B\u5EA6\u7684\u95F4\u9694</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u6C42\u51FA\u6700\u5927\u6700\u5C0F\u503C</span>
max_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&quot;Rating&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
min_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&quot;Rating&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># \u751F\u6210\u523B\u5EA6\u5217\u8868</span>
t1 <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>min_<span class="token punctuation">,</span>max_<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">)</span>

<span class="token comment"># [ 1.9    2.255  2.61   2.965  3.32   3.675  4.03   4.385  4.74   5.095  5.45   5.805  6.16   6.515  6.87   7.225  7.58   7.935  8.29   8.645  9.   ]</span>

<span class="token comment"># \u4FEE\u6539\u523B\u5EA6</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>t1<span class="token punctuation">)</span>

<span class="token comment"># \u6DFB\u52A0\u7F51\u683C</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+H+`" alt=""></p><ul><li>Runtime (Minutes)\u8FDB\u884C\u5206\u5E03\u5C55\u793A</li></ul><p>\u8FDB\u884C\u7ED8\u5236\u76F4\u65B9\u56FE</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&quot;Runtime (Minutes)&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4FEE\u6539\u95F4\u9694</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u6C42\u51FA\u6700\u5927\u6700\u5C0F\u503C</span>
max_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&quot;Runtime (Minutes)&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
min_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&quot;Runtime (Minutes)&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># # \u751F\u6210\u523B\u5EA6\u5217\u8868</span>
t1 <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>min_<span class="token punctuation">,</span>max_<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">)</span>

<span class="token comment"># \u4FEE\u6539\u523B\u5EA6</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>min_<span class="token punctuation">,</span>max_<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># \u6DFB\u52A0\u7F51\u683C</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+J+`" alt=""></p><h4 id="\u95EE\u9898\u4E09" tabindex="-1"><a class="header-anchor" href="#\u95EE\u9898\u4E09" aria-hidden="true">#</a> \u95EE\u9898\u4E09</h4><p><strong>\u5BF9\u4E8E\u8FD9\u4E00\u7EC4\u7535\u5F71\u6570\u636E\uFF0C\u5982\u679C\u6211\u4EEC\u5E0C\u671B\u7EDF\u8BA1\u7535\u5F71\u5206\u7C7B(genre)\u7684\u60C5\u51B5\uFF0C\u5E94\u8BE5\u5982\u4F55\u5904\u7406\u6570\u636E\uFF1F</strong></p><ul><li>\u601D\u8DEF\u5206\u6790 <ul><li>\u601D\u8DEF <ul><li>1\u3001\u521B\u5EFA\u4E00\u4E2A\u5168\u4E3A0\u7684dataframe\uFF0C\u5217\u7D22\u5F15\u7F6E\u4E3A\u7535\u5F71\u7684\u5206\u7C7B\uFF0Ctemp_df</li><li>2\u3001\u904D\u5386\u6BCF\u4E00\u90E8\u7535\u5F71\uFF0Ctemp_df\u4E2D\u628A\u5206\u7C7B\u51FA\u73B0\u7684\u5217\u7684\u503C\u7F6E\u4E3A1</li><li>3\u3001\u6C42\u548C</li></ul></li></ul></li><li>1\u3001\u521B\u5EFA\u4E00\u4E2A\u5168\u4E3A0\u7684dataframe\uFF0C\u5217\u7D22\u5F15\u7F6E\u4E3A\u7535\u5F71\u7684\u5206\u7C7B\uFF0Ctemp_df</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># \u8FDB\u884C\u5B57\u7B26\u4E32\u5206\u5272</span>
temp_list <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> df<span class="token punctuation">[</span><span class="token string">&quot;Genre&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># \u83B7\u53D6\u7535\u5F71\u7684\u5206\u7C7B</span>
genre_list <span class="token operator">=</span> np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">[</span>i <span class="token keyword">for</span> j <span class="token keyword">in</span> temp_list <span class="token keyword">for</span> i <span class="token keyword">in</span> j<span class="token punctuation">]</span><span class="token punctuation">)</span> 

<span class="token comment"># \u589E\u52A0\u65B0\u7684\u5217</span>
temp_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">[</span>df<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>genre_list<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>columns<span class="token operator">=</span>genre_list<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>2\u3001\u904D\u5386\u6BCF\u4E00\u90E8\u7535\u5F71\uFF0Ctemp_df\u4E2D\u628A\u5206\u7C7B\u51FA\u73B0\u7684\u5217\u7684\u503C\u7F6E\u4E3A1</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">#temp_list[i] [&#39;Action&#39;,&#39;Adventure&#39;,&#39;Animation&#39;]</span>
    temp_df<span class="token punctuation">.</span>ix<span class="token punctuation">[</span>i<span class="token punctuation">,</span>temp_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>temp_df<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>3\u3001\u6C42\u548C,\u7ED8\u56FE</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>temp_df<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>fontsize<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span>colormap<span class="token operator">=</span><span class="token string">&quot;cool&quot;</span><span class="token punctuation">)</span>


Musical        <span class="token number">5.0</span>
Western        <span class="token number">7.0</span>
War           <span class="token number">13.0</span>
Music         <span class="token number">16.0</span>
Sport         <span class="token number">18.0</span>
History       <span class="token number">29.0</span>
Animation     <span class="token number">49.0</span>
Family        <span class="token number">51.0</span>
Biography     <span class="token number">81.0</span>
Fantasy      <span class="token number">101.0</span>
Mystery      <span class="token number">106.0</span>
Horror       <span class="token number">119.0</span>
Sci<span class="token operator">-</span>Fi       <span class="token number">120.0</span>
Romance      <span class="token number">141.0</span>
Crime        <span class="token number">150.0</span>
Thriller     <span class="token number">195.0</span>
Adventure    <span class="token number">259.0</span>
Comedy       <span class="token number">279.0</span>
Action       <span class="token number">303.0</span>
Drama        <span class="token number">513.0</span>
dtype<span class="token punctuation">:</span> float64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+U+'" alt=""></p><h2 id="pandas\u4E2D\u6587api" tabindex="-1"><a class="header-anchor" href="#pandas\u4E2D\u6587api" aria-hidden="true">#</a> Pandas\u4E2D\u6587API</h2>',435),W={href:"https://www.gairuo.com/p/pandas-overview",target:"_blank",rel:"noopener noreferrer"},G=u("Pandas API\u89E3\u6790");function Q(Y,X){const a=p("ExternalLinkIcon");return t(),o("div",null,[z,n("p",null,[n("a",W,[G,l(a)])])])}var $=e(V,[["render",Q],["__file","pandas.html.vue"]]);export{$ as default};
