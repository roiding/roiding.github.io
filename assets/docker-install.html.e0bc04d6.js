import{_ as n,o as s,c as e,a}from"./app.7c042103.js";const i={},c=a(`<h2 id="docker\u5B89\u88C5-centos" tabindex="-1"><a class="header-anchor" href="#docker\u5B89\u88C5-centos" aria-hidden="true">#</a> Docker\u5B89\u88C5\uFF08centos\uFF09</h2><h3 id="_1-\u5220\u9664\u5DF2\u5B89\u88C5\u7684docker" tabindex="-1"><a class="header-anchor" href="#_1-\u5220\u9664\u5DF2\u5B89\u88C5\u7684docker" aria-hidden="true">#</a> 1.\u5220\u9664\u5DF2\u5B89\u88C5\u7684Docker</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>    <span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\\</span>
                     docker-client <span class="token punctuation">\\</span>
                     docker-client-latest <span class="token punctuation">\\</span>
                     docker-common <span class="token punctuation">\\</span>
                     docker-latest <span class="token punctuation">\\</span>
                     docker-latest-logrotate <span class="token punctuation">\\</span>
                     docker-logrotate <span class="token punctuation">\\</span>
                     docker-selinux <span class="token punctuation">\\</span>
                     docker-engine-selinux <span class="token punctuation">\\</span>
                     docker-engine
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-\u914D\u7F6E\u963F\u91CC\u4E91docker-yum\u6E90" tabindex="-1"><a class="header-anchor" href="#_2-\u914D\u7F6E\u963F\u91CC\u4E91docker-yum\u6E90" aria-hidden="true">#</a> 2.\u914D\u7F6E\u963F\u91CC\u4E91Docker Yum\u6E90</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> <span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2
 <span class="token function">sudo</span> yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-\u5B89\u88C5\u6307\u5B9A\u7248\u672C" tabindex="-1"><a class="header-anchor" href="#_3-\u5B89\u88C5\u6307\u5B9A\u7248\u672C" aria-hidden="true">#</a> 3.\u5B89\u88C5\u6307\u5B9A\u7248\u672C</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>     yum list docker-ce --showduplicates
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>3.1\u3001\u5B89\u88C5\u8F83\u65E7\u7248\u672C</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>//\u6CE8\u610F\uFF1A\u9700\u8981\u6307\u5B9A\u5B8C\u6574\u7684rpm\u5305\u7684\u5305\u540D\uFF0C\u5E76\u4E14\u52A0\u4E0A--setopt<span class="token operator">=</span>obsoletes<span class="token operator">=</span><span class="token number">0</span> \u53C2\u6570\uFF1A
    yum <span class="token function">install</span> -y --setopt<span class="token operator">=</span>obsoletes<span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">\\</span>
   docker-ce-17.03.2.ce-1.el7.centos.x86_64 <span class="token punctuation">\\</span>
   docker-ce-selinux-17.03.2.ce-1.el7.centos.noarch
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>3.2\u3001\u5B89\u88C5Docker\u6700\u65B0\u7248\u672C</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce
centos8 \u9047\u5230containerd.io\u7248\u672C\u95EE\u9898 http://mirrors.aliyun.com/docker-ce/linux/centos/7/x86_64/stable/Packages/ \u624B\u52A8\u4E0B\u8F7D\u5B89\u88C5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-\u542F\u7528\u963F\u91CC\u4E91docker\u955C\u50CF\u52A0\u901F" tabindex="-1"><a class="header-anchor" href="#_4-\u542F\u7528\u963F\u91CC\u4E91docker\u955C\u50CF\u52A0\u901F" aria-hidden="true">#</a> 4.\u542F\u7528\u963F\u91CC\u4E91Docker\u955C\u50CF\u52A0\u901F</h3><p>https://cr.console.aliyun.com \u81EA\u5DF1\u7533\u8BF7\u8D26\u53F7\uFF0C\u4E0B\u9762\u662F\u6211\u81EA\u5DF1\u7684</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/docker
<span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;
{
  &quot;registry-mirrors&quot;: [&quot;https://a0cmmvhl.mirror.aliyuncs.com&quot;]
}
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-\u542F\u52A8docker\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#_5-\u542F\u52A8docker\u670D\u52A1" aria-hidden="true">#</a> 5.\u542F\u52A8Docker\u670D\u52A1</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
systemctl start <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="docker\u5B89\u88C5-debian" tabindex="-1"><a class="header-anchor" href="#docker\u5B89\u88C5-debian" aria-hidden="true">#</a> docker\u5B89\u88C5(debian)</h2><h3 id="_1-\u5378\u8F7D\u65E7\u7248\u672C" tabindex="-1"><a class="header-anchor" href="#_1-\u5378\u8F7D\u65E7\u7248\u672C" aria-hidden="true">#</a> 1.\u5378\u8F7D\u65E7\u7248\u672C</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo apt-get remove docker docker-engine docker.io containerd runc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-\u4F7F\u7528-docker-\u4ED3\u5E93\u8FDB\u884C\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#_2-\u4F7F\u7528-docker-\u4ED3\u5E93\u8FDB\u884C\u5B89\u88C5" aria-hidden="true">#</a> 2.\u4F7F\u7528 Docker \u4ED3\u5E93\u8FDB\u884C\u5B89\u88C5</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#\u8BBE\u7F6E\u4ED3\u5E93
#\u66F4\u65B0 apt \u5305\u7D22\u5F15
sudo apt-get update
#\u5B89\u88C5 apt \u4F9D\u8D56\u5305\uFF0C\u7528\u4E8E\u901A\u8FC7 HTTPS \u6765\u83B7\u53D6\u4ED3\u5E93
sudo apt-get install \\
    apt-transport-https \\
    ca-certificates \\
    curl \\
    gnupg2 \\
    software-properties-common
#\u6DFB\u52A0 Docker \u7684\u5B98\u65B9 GPG \u5BC6\u94A5
curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -
# 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88 \u901A\u8FC7\u641C\u7D22\u6307\u7EB9\u7684\u540E8\u4E2A\u5B57\u7B26\uFF0C\u9A8C\u8BC1\u60A8\u73B0\u5728\u662F\u5426\u62E5\u6709\u5E26\u6709\u6307\u7EB9\u7684\u5BC6\u94A5
sudo apt-key fingerprint 0EBFCD88
#\u4F7F\u7528\u4EE5\u4E0B\u6307\u4EE4\u8BBE\u7F6E\u7A33\u5B9A\u7248\u4ED3\u5E93
sudo add-apt-repository \\
   &quot;deb [arch=amd64] https://download.docker.com/linux/debian \\
  $(lsb_release -cs) \\
  stable&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-\u5B89\u88C5-docker-engine-community" tabindex="-1"><a class="header-anchor" href="#_3-\u5B89\u88C5-docker-engine-community" aria-hidden="true">#</a> 3.\u5B89\u88C5 Docker Engine-Community</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#\u66F4\u65B0 apt \u5305\u7D22\u5F15
sudo apt-get update
#\u5B89\u88C5\u6700\u65B0\u7248\u672C\u7684 Docker Engine-Community \u548C containerd \uFF0C\u6216\u8005\u8F6C\u5230\u4E0B\u4E00\u6B65\u5B89\u88C5\u7279\u5B9A\u7248\u672C\uFF1A
sudo apt-get install docker-ce docker-ce-cli containerd.io
#\u8981\u5B89\u88C5\u7279\u5B9A\u7248\u672C\u7684 Docker Engine-Community\uFF0C\u8BF7\u5728\u4ED3\u5E93\u4E2D\u5217\u51FA\u53EF\u7528\u7248\u672C\uFF0C\u7136\u540E\u9009\u62E9\u4E00\u79CD\u5B89\u88C5\u3002\u5217\u51FA\u60A8\u7684\u4ED3\u5E93\u4E2D\u53EF\u7528\u7684\u7248\u672C\uFF1A
apt-cache madison docker-ce
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4E00\u952E\u811A\u672C\u5B89\u88C5-\u901A\u7528" tabindex="-1"><a class="header-anchor" href="#\u4E00\u952E\u811A\u672C\u5B89\u88C5-\u901A\u7528" aria-hidden="true">#</a> \u4E00\u952E\u811A\u672C\u5B89\u88C5(\u901A\u7528)</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -fsSL https://get.docker.com <span class="token operator">|</span> <span class="token function">bash</span> -s <span class="token function">docker</span> --mirror Aliyun
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6216\u8005\u4F7F\u7528<code>Daocloud</code>\u7684</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -sSL https://get.daocloud.io/docker <span class="token operator">|</span> <span class="token function">sh</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="docker-\u7528\u6237\u7EC4\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#docker-\u7528\u6237\u7EC4\u8BBE\u7F6E" aria-hidden="true">#</a> Docker \u7528\u6237\u7EC4\u8BBE\u7F6E</h2><h3 id="_1-\u521B\u5EFAdocker\u7528\u6237\u7EC4-\u6B63\u5E38\u6765\u8BF4docker\u5B89\u88C5\u540E\u4F1A\u81EA\u52A8\u6709docker\u7528\u6237\u7EC4" tabindex="-1"><a class="header-anchor" href="#_1-\u521B\u5EFAdocker\u7528\u6237\u7EC4-\u6B63\u5E38\u6765\u8BF4docker\u5B89\u88C5\u540E\u4F1A\u81EA\u52A8\u6709docker\u7528\u6237\u7EC4" aria-hidden="true">#</a> 1.\u521B\u5EFAdocker\u7528\u6237\u7EC4\uFF08\u6B63\u5E38\u6765\u8BF4docker\u5B89\u88C5\u540E\u4F1A\u81EA\u52A8\u6709docker\u7528\u6237\u7EC4\uFF09</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">groupadd</span> <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-\u4E24\u6B65\u9009\u4E00\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-\u4E24\u6B65\u9009\u4E00\u6B65" aria-hidden="true">#</a> 2.\u4E24\u6B65\u9009\u4E00\u6B65</h3><ul><li>2.1\u5C06\u5F53\u524D\u7528\u6237\u6DFB\u52A0\u8FDB\u7EC4</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> gpasswd -a <span class="token variable">\${<span class="token environment constant">USER</span>}</span> <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>2.2\u6DFB\u52A0\u6307\u5B9A\u7528\u6237\u8FDB\u7EC4</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">usermod</span>  -aG <span class="token function">docker</span> <span class="token variable">\${\u7528\u6237\u540D}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-\u91CD\u542Fdocker" tabindex="-1"><a class="header-anchor" href="#_3-\u91CD\u542Fdocker" aria-hidden="true">#</a> 3.\u91CD\u542Fdocker</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="docker-compose\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#docker-compose\u5B89\u88C5" aria-hidden="true">#</a> Docker-compose\u5B89\u88C5</h2><h3 id="\u6E90\u7801\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u6E90\u7801\u5B89\u88C5" aria-hidden="true">#</a> \u6E90\u7801\u5B89\u88C5 <sup><span style="color:#F00;font-size:4;">*</span></sup></h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#\u4E34\u65F6\u5199tag\u4E3A\u7CFB\u7EDF\u53D8\u91CF \uFF08\u5B9E\u6D4Bcentos8\u4E0D\u652F\u6301$()\uFF0C\u4EC5\u652F\u6301\`\`\uFF09</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">tag</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">wget</span> -qO- -t1 -T2 <span class="token string">&quot;https://api.github.com/repos/docker/compose/releases/latest&quot;</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;tag_name&quot;</span> <span class="token operator">|</span> <span class="token function">head</span> -n <span class="token number">1</span> <span class="token operator">|</span> <span class="token function">awk</span> -F <span class="token string">&quot;:&quot;</span> <span class="token string">&#39;{print $2}&#39;</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">&#39;s/\\&quot;//g;s/,//g;s/ //g&#39;</span><span class="token variable">\`</span></span>

<span class="token function">curl</span> -L https://github.com/docker/compose/releases/download/<span class="token variable">\${tag}</span>/docker-compose-<span class="token variable"><span class="token variable">\`</span><span class="token function">uname</span> -s<span class="token variable">\`</span></span>-<span class="token variable"><span class="token variable">\`</span><span class="token function">uname</span> -m<span class="token variable">\`</span></span> <span class="token operator">&gt;</span> /usr/local/bin/docker-compose

<span class="token function">chmod</span> +x /usr/local/bin/docker-compose

<span class="token comment">#\u9A8C\u8BC1</span>
<span class="token function">docker-compose</span> --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pip\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#pip\u5B89\u88C5" aria-hidden="true">#</a> pip\u5B89\u88C5</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">###\u5B89\u88C5python-pip</span>
yum -y <span class="token function">install</span> epel-release
yum -y <span class="token function">install</span> python-pip   <span class="token comment">#\u82E5\u540E\u7EED\u5B89\u88C5docker-compose\u5931\u8D25\uFF0C\u4F7F\u7528 yum -y install python3-pip</span>
pip <span class="token function">install</span> --upgrade pip
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5B89\u88C5docker-compose</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#\u82E5\u5B89\u88C5\u7684\u662Fpython-pip3,\u5219\u6B64\u5904\u547D\u4EE4\u4E3Apip3 install docker-compose</span>
pip <span class="token function">install</span> <span class="token function">docker-compose</span> 

<span class="token comment">#\u9A8C\u8BC1</span>
<span class="token function">docker-compose</span> version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,44),d=[c];function l(o,r){return s(),e("div",null,d)}var p=n(i,[["render",l],["__file","docker-install.html.vue"]]);export{p as default};
